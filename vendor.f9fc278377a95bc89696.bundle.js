webpackJsonp([3],{"+E40":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.justify="start",this.orientation="horizontal",this.type="tabs"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"+ZaL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LimitedFilter=void 0;var r=n("sUxk"),o=n("VBxt"),i=n("Rmqq"),a=n("Iylt"),s=n("VhRD"),u=function(){function t(t){this.rangedFilter_=new r.RangedFilter(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,a,s){return this.rangedFilter_.matches(new i.NamedNode(e,n))||(n=o.ChildrenNode.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,a,s):this.fullLimitUpdateChild_(t,e,n,a,s)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=o.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=o.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var s=i.getNext(),u=void 0;if(!(u=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{r=e.withIndex(this.index_),r=r.updatePriority(o.ChildrenNode.EMPTY_NODE);var c=void 0,l=void 0,h=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var p=this.index_.getCompare();h=function(t,e){return p(e,t)}}else i=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var a=0,f=!1;i.hasNext();){var s=i.getNext();!f&&h(c,s)<=0&&(f=!0);var u=f&&a<this.limit_&&h(s,l)<=0;u?a++:r=r.updateImmediateChild(s.name,o.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,u){var c;if(this.reverse_){var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else c=this.index_.getCompare();var h=t;(0,a.assert)(h.numChildren()==this.limit_,"");var p=new i.NamedNode(e,n),f=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),d=this.rangedFilter_.matches(p);if(h.hasChild(e)){for(var m=h.getImmediateChild(e),y=r.getChildAfterChild(this.index_,f,this.reverse_);null!=y&&(y.name==e||h.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);var g=null==y?1:c(y,p);if(d&&!n.isEmpty()&&g>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(e,n,m)),h.updateImmediateChild(e,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(e,m));var v=h.updateImmediateChild(e,o.ChildrenNode.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(y.name,y.node)),v.updateImmediateChild(y.name,y.node)):v}return n.isEmpty()?t:d&&c(f,p)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(f.name,f.node)),u.trackChildChange(s.Change.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(f.name,o.ChildrenNode.EMPTY_NODE)):t},t}();e.LimitedFilter=u},"+oJC":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){}return t.prototype.isMuted=function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)},t}();o.decorators=[{type:r.l,args:[{selector:"[ngbDatepickerDayView]",changeDetection:r.i.OnPush,styles:["\n    :host {\n      text-align: center;\n      width: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      border-radius: 0.25rem;\n      background: transparent;\n    }\n    :host.outside {\n      opacity: 0.5;\n    }\n  "],host:{class:"btn-light","[class.bg-primary]":"selected","[class.text-white]":"selected","[class.text-muted]":"isMuted()","[class.outside]":"isMuted()","[class.active]":"focused"},template:"{{ date.day }}"}]}],o.ctorParameters=function(){return[]},o.propDecorators={currentMonth:[{type:r.A}],date:[{type:r.A}],disabled:[{type:r.A}],focused:[{type:r.A}],selected:[{type:r.A}]}},"+wOn":function(t,e,n){"use strict";function r(t,e){var n=function(t){switch(t){case c.ChangeType.Added:return 1;case c.ChangeType.Modified:case c.ChangeType.Metadata:return 2;case c.ChangeType.Removed:return 0;default:return(0,u.fail)("Unknown ChangeType: "+t)}};return n(t)-n(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.View=e.RemovedLimboDocument=e.AddedLimboDocument=void 0;var o=n("rwiY"),i=n("d9fJ"),a=n("bpFg"),s=n("AMBp"),u=n("wg5S"),c=n("9BZZ"),l=function(){function t(t){this.key=t}return t}();e.AddedLimboDocument=l;var h=function(){function t(t){this.key=t}return t}();e.RemovedLimboDocument=h;var p=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=(0,o.documentKeySet)(),this.mutatedKeys=(0,o.documentKeySet)(),this.documentSet=new a.DocumentSet(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new c.DocumentChangeSet,o=e?e.documentSet:this.documentSet,a=e?e.mutatedKeys:this.mutatedKeys,s=o,l=!1,h=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var p=o.get(t),f=e instanceof i.Document?e:null;if(f&&((0,u.assert)(t.equals(f.key),"Mismatching keys found in document changes: "+t+" != "+f.key),f=n.query.matches(f)?f:null),f?(s=s.add(f),a=f.hasLocalMutations?a.add(t):a.delete(t)):(s=s.delete(t),a=a.delete(t)),p&&f){var d=p.data.equals(f.data);d&&p.hasLocalMutations===f.hasLocalMutations||(d?r.track({type:c.ChangeType.Metadata,doc:f}):r.track({type:c.ChangeType.Modified,doc:f}),h&&n.query.docComparator(f,h)>0&&(l=!0))}else!p&&f?r.track({type:c.ChangeType.Added,doc:f}):p&&!f&&(r.track({type:c.ChangeType.Removed,doc:p}),h&&(l=!0))}),this.query.hasLimit())for(;s.size>this.query.limit;){var p=s.last();s=s.delete(p.key),r.track({type:c.ChangeType.Removed,doc:p})}return(0,u.assert)(!l||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:l,mutatedKeys:a}},t.prototype.applyChanges=function(t,e){var n=this;(0,u.assert)(!t.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return r(t.type,e.type)||n.query.docComparator(t.doc,e.doc)});var a=this.applyTargetChange(e),s=0===this.limboDocuments.size&&this.current,l=s?c.SyncState.Synced:c.SyncState.Local,h=l!==this.syncState;return this.syncState=l,0!==i.length||h?{snapshot:{query:this.query,docs:t.documentSet,oldDocs:o,docChanges:i,fromCache:l===c.SyncState.Local,syncStateChanged:h,hasPendingWrites:!t.mutatedKeys.isEmpty()},limboChanges:a}:{limboChanges:a}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;if(t){var n=t.mapping;switch(n instanceof s.ResetMapping?this.syncedDocuments=n.documents:n instanceof s.UpdateMapping&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case s.CurrentStatusUpdate.MarkCurrent:this.current=!0;break;case s.CurrentStatusUpdate.MarkNotCurrent:this.current=!1;break;case s.CurrentStatusUpdate.None:break;default:(0,u.fail)("Unknown current status update: "+t.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=(0,o.documentKeySet)(),this.current&&this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var i=[];return r.forEach(function(t){e.limboDocuments.has(t)||i.push(new h(t))}),this.limboDocuments.forEach(function(t){r.has(t)||i.push(new l(t))}),i},t}();e.View=p},"+zVg":function(t,e,n){"use strict";var r=n("wZOE");e.of=r.ArrayObservable.of},"/6Tg":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("KSV9"),o=n("GaSD"),i=n("/oeL"),a=n("wM1e"),s=n("rlar"),u=(n.n(s),n("w0dp")),c=n("422b"),l=(n.n(c),function(){function t(t){this._calendar=t,this._model$=new s.Subject,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],selectedDate:null}}return Object.defineProperty(t.prototype,"model$",{get:function(){return c.filter.call(this._model$.asObservable(),function(t){return t.months.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(t){this._state.disabled!==t&&this._nextState({disabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{set:function(t){Object(a.c)(t)&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{set:function(t){Object(a.c)(t)&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{set:function(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{set:function(t){(void 0===t||this._calendar.isValid(t)&&Object(u.d)(this._state.maxDate,t))&&this._nextState({maxDate:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markDisabled",{set:function(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{set:function(t){(void 0===t||this._calendar.isValid(t)&&Object(u.d)(this._state.minDate,t))&&this._nextState({minDate:t})},enumerable:!0,configurable:!0}),t.prototype.focus=function(t){!this._state.disabled&&this._calendar.isValid(t)&&Object(u.d)(this._state.focusDate,t)&&this._nextState({focusDate:t})},t.prototype.focusMove=function(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))},t.prototype.focusSelect=function(){Object(u.e)(this._state.months,this._state.focusDate)&&this.select(this._state.focusDate)},t.prototype.open=function(t){!this._state.disabled&&this._calendar.isValid(t)&&this._nextState({firstDate:t})},t.prototype.select=function(t){var e=this.toValidDate(t,null);!this._state.disabled&&Object(u.d)(this._state.selectedDate,e)&&this._nextState({selectedDate:e})},t.prototype.toValidDate=function(t,e){var n=o.a.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e},t.prototype._nextState=function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)},t.prototype._patchContexts=function(t){t.months.forEach(function(e){e.weeks.forEach(function(e){e.days.forEach(function(e){t.focusDate&&(e.context.focused=t.focusDate.equals(e.date)&&t.focusVisible),!0===t.disabled&&(e.context.disabled=!0),void 0!==t.selectedDate&&(e.context.selected=null!==t.selectedDate&&t.selectedDate.equals(e.date))})})})},t.prototype._updateState=function(t){var e=Object.assign({},this._state,t),n=e.firstDate;if(("minDate"in t||"maxDate"in t)&&(Object(u.c)(e.minDate,e.maxDate),e.focusDate=Object(u.b)(e.focusDate,e.minDate,e.maxDate),e.firstDate=Object(u.b)(e.firstDate,e.minDate,e.maxDate),n=e.focusDate),"disabled"in t&&(e.focusVisible=!1),"focusDate"in t&&(e.focusDate=Object(u.b)(e.focusDate,e.minDate,e.maxDate),n=e.focusDate,0!==e.months.length&&!e.focusDate.before(e.firstDate)&&!e.focusDate.after(e.lastDate)))return e;if("firstDate"in t&&(e.firstDate=Object(u.b)(e.firstDate,e.minDate,e.maxDate),n=e.firstDate),n){var r="firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t,o=Object(u.a)(this._calendar,e.months,n,e.minDate,e.maxDate,e.displayMonths,e.firstDayOfWeek,e.markDisabled,r);e.months=o,e.firstDate=o.length>0?o[0].firstDate:void 0,e.lastDate=o.length>0?o[o.length-1].lastDate:void 0,"firstDate"in t&&(void 0===e.focusDate||e.focusDate.before(e.firstDate)||e.focusDate.after(e.lastDate))&&(e.focusDate=n)}return e},t}());l.decorators=[{type:i.x}],l.ctorParameters=function(){return[{type:r.a}]}},"/buS":function(t,e,n){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=e[o];if(t.call(r,i,o,e))return o;o++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=e[o];if(t.call(r,i,o,e))return i;o++}}})},"/oeL":function(t,e,n){"use strict";(function(t){function r(){if(!io){var t=oo.Symbol;if(t&&t.iterator)io=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(io=r)}}return io}function o(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function i(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function a(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function s(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+a(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,o=t[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+a(o)+"'");if(r!=o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+a(o));for(var i=[],u=0,c=n.length-1;u<c;u++){var l=[];i.push(l);var h=n[u];if(Array.isArray(h))for(var p=0;p<h.length;p++)l.push(s(h[p]));else"function"==typeof h?l.push(s(h)):l.push(h)}return so.defineMetadata("parameters",i,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+a(t)+"'")}function c(t){var e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+a(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=u(t[r],r));this&&this.annotations instanceof Array&&so.defineMetadata("annotations",this.annotations,e);var o=e.name;return o&&"constructor"!==o||(e.overriddenName="class"+ao++),e}function l(t,e,n,r){function o(t){if(!so||!so.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof o)return i.call(this,t),this;var e=new o(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var a=function(t){var n=so.getOwnMetadata("annotations",t)||[];return n.push(e),so.defineMetadata("annotations",n,t),t};return a.annotations=n,a.Class=c,r&&r(a),a}var i=h(e);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.toString=function(){return"@"+t},o.annotationCls=o,o}function h(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var o in r)this[o]=r[o]}}}function p(t,e,n){function r(){function t(t,e,n){for(var r=so.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(i),so.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return o.apply(this,e),this;var i=new(r.bind.apply(r,[void 0].concat(e)));return t.annotation=i,t}var o=h(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function f(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return o.apply(this,t),this;var n=new(r.bind.apply(r,[void 0].concat(t)));return function(t,e){var r=so.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),so.defineMetadata("propMetadata",r,t.constructor)}}var o=h(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function d(t){return t.__forward_ref__=d,t.toString=function(){return a(this())},t}function m(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===d?t():t}function y(t){return t[Fo]}function g(t){return t[Vo]}function v(t){return t[jo]||_}function _(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function b(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Vo]=e,r}function w(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function x(t){if(t.length>1){return" ("+w(t.slice().reverse()).map(function(t){return a(t.token)}).join(" -> ")+")"}return""}function C(t,e,n,r){var o=[e],i=n(o),a=r?b(i,r):Error(i);return a.addKey=E,a.keys=o,a.injectors=[t],a.constructResolvingMessage=n,a[Vo]=r,a}function E(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function S(t,e){return C(t,e,function(t){return"No provider for "+a(t[0].token)+"!"+x(t)})}function T(t,e){return C(t,e,function(t){return"Cannot instantiate cyclic dependency!"+x(t)})}function P(t,e,n,r){return C(t,r,function(t){var n=a(t[0].token);return e.message+": Error during instantiation of "+n+"!"+x(t)+"."},e)}function O(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function I(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];i&&0!=i.length?n.push(i.map(a).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+a(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+a(t)+"' is decorated with Injectable.")}function A(t){return Error("Index "+t+" is out-of-bounds.")}function k(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function D(t){return"function"==typeof t}function R(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function M(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function N(t){var e,n;if(t.useClass){var r=m(t.useClass);e=Qo.factory(r),n=B(r)}else t.useExisting?(e=function(t){return t},n=[Xo.fromKey(Bo.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=z(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Zo);return new Jo(e,n)}function L(t){return new Yo(Bo.get(t.provide),[N(t)],t.multi||!1)}function F(t){var e=j(t,[]),n=e.map(L),r=V(n,new Map);return Array.from(r.values())}function V(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw k(o,r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new Yo(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}function j(t,e){return t.forEach(function(t){if(t instanceof Wo)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw O(t);j(t,e)}}),e}function z(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return U(t,e,n)})}return B(t)}function B(t){var e=Qo.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw I(t,e);return e.map(function(n){return U(t,n,e)})}function U(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return e instanceof Po?q(e.token,o,null):q(e,o,null);for(var i=null,a=0;a<e.length;++a){var s=e[a];s instanceof Wo?r=s:s instanceof Po?r=s.token:s instanceof Oo?o=!0:s instanceof Ao||s instanceof ko?i=s:s instanceof to&&(r=s)}if(null!=(r=m(r)))return q(r,o,i);throw I(t,n)}function q(t,e,n){return new Xo(Bo.get(t),e,n)}function W(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}function H(t){return!!t&&"function"==typeof t.then}function G(t){return!!t&&"function"==typeof t.subscribe}function K(){return""+Q()+Q()+Q()}function Q(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function X(){throw new Error("Runtime compiler is not loaded")}function Z(t){var e=Error("No component factory found for "+a(t)+". Did you add it to @NgModule.entryComponents?");return e[mi]=t,e}function Y(t,e){return void 0===e&&(e=null),_i.createScope(t,e)}function J(t,e){return vi.leaveScope(t,e),e}function $(t,e){return null}function tt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function et(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,o,i,a){try{return nt(t),e.invokeTask(r,o,i,a)}finally{rt(t)}},onInvoke:function(e,n,r,o,i,a,s){try{return nt(t),e.invoke(r,o,i,a,s)}finally{rt(t)}},onHasTask:function(e,n,r,o){e.hasTask(r,o),n===r&&("microTask"==o.change?(t.hasPendingMicrotasks=o.microTask,tt(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,n,r,o){return e.handleError(r,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}function nt(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rt(t){t._nesting--,tt(t)}function ot(t){Ri=t}function it(){if(Ni)throw new Error("Cannot enable prod mode after platform setup.");Mi=!1}function at(){return Ni=!0,Mi}function st(t){if(ki&&!ki.destroyed&&!ki.injector.get(Li,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ki=t.get(Vi);var e=t.get(si,null);return e&&e.forEach(function(t){return t()}),ki}function ut(t,e,n){void 0===n&&(n=[]);var r=new to("Platform: "+e);return function(e){void 0===e&&(e=[]);var o=lt();return o&&!o.injector.get(Li,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):st(ti.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),ct(r)}}function ct(t){var e=lt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function lt(){return ki&&!ki.destroyed?ki:null}function ht(t,e,n){try{var r=n();return H(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}function pt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ft(t){return t.reduce(function(t,e){var n=Array.isArray(e)?ft(e):e;return t.concat(n)},[])}function dt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function mt(t,e,n){t.childNodes.forEach(function(t){t instanceof oa&&(e(t)&&n.push(t),mt(t,e,n))})}function yt(t,e,n){t instanceof oa&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof oa&&yt(t,e,n)})}function gt(t){return ia.get(t)||null}function vt(t){ia.set(t.nativeNode,t)}function _t(t){ia.delete(t.nativeNode)}function bt(t,e){var n=wt(t),r=wt(e);if(n&&r)return xt(t,e,bt);var o=t&&("object"==typeof t||"function"==typeof t),a=e&&("object"==typeof e||"function"==typeof e);return!(n||!o||r||!a)||i(t,e)}function wt(t){return!!Et(t)&&(Array.isArray(t)||!(t instanceof Map)&&r()in t)}function xt(t,e,n){for(var o=t[r()](),i=e[r()]();;){var a=o.next(),s=i.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!n(a.value,s.value))return!1}}function Ct(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var o=t[r()](),i=void 0;!(i=o.next()).done;)e(i.value)}function Et(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function St(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function Tt(t){return t.name||typeof t}function Pt(){return Qo}function Ot(){return wa}function It(){return xa}function At(t){return t||"en-US"}function kt(t,e){return t.nodes[e]}function Dt(t,e){return t.nodes[e]}function Rt(t,e){return t.nodes[e]}function Mt(t,e){return t.nodes[e]}function Nt(t,e){return t.nodes[e]}function Lt(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Vt(o,t)}function Ft(t,e){return t instanceof Error||(t=new Error(t.toString())),jt(t,e),t}function Vt(t,e){var n=new Error(t);return jt(n,e),n}function jt(t,e){t[Fo]=e,t[jo]=e.logError.bind(e)}function zt(t){return!!y(t)}function Bt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Ut(t){var e=Da.get(t);return e||(e=a(t)+"_"+Da.size,Da.set(t,e)),e}function qt(t,e,n,r){if(r instanceof aa){r=r.wrapped;var o=t.def.nodes[e].bindingIndex+n,i=t.oldValues[o];i instanceof aa&&(i=i.wrapped),t.oldValues[o]=new aa(i)}return r}function Wt(t){return{id:Ra,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function Ht(t){if(t&&t.id===Ra){var e=null!=t.encapsulation&&t.encapsulation!==Eo.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Na++:Ma}return t&&t.id===Ma&&(t=null),t||null}function Gt(t,e,n,r){var o=t.oldValues;return!(!(2&t.state)&&i(o[e.bindingIndex+n],r))}function Kt(t,e,n,r){return!!Gt(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Qt(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!bt(o,r))throw Lt(Aa.createDebugContext(t,e.index),o,r,0!=(1&t.state))}function Xt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Zt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Yt(t,e,n,r){return Xt(33554432&t.def.nodes[e].flags?Dt(t,e).componentView:t),Aa.handleEvent(t,e,n,r)}function Jt(t){if(t.parent){return Dt(t.parent,t.parentNodeDef.index)}return null}function $t(t){return t.parent?t.parentNodeDef.parent:null}function te(t,e){switch(201347067&e.flags){case 1:return Dt(t,e.index).renderElement;case 2:return kt(t,e.index).renderText}}function ee(t,e){return t?t+":"+e:e}function ne(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function re(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function oe(t){return 1<<t%32}function ie(t){var e={},n=0,r={};return t&&t.forEach(function(t){var o=t[0],i=t[1];"number"==typeof o?(e[o]=i,n|=oe(o)):r[o]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function ae(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:Ut(e)}})}function se(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Eo.Native?Dt(t,n.renderParent.index).renderElement:void 0:e}function ue(t){var e=La.get(t);return e||(e=t(function(){return ka}),e.factory=t,La.set(t,e)),e}function ce(t){var e=[];return le(t,0,void 0,void 0,e),e}function le(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(te(t,t.def.lastRenderRootNode))),he(t,e,0,t.def.nodes.length-1,n,r,o)}function he(t,e,n,r,o,i,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&fe(t,u,e,o,i,a),s+=u.childCount}}function pe(t,e,n,r,o,i){for(var a=t;a&&!ne(a);)a=a.parent;for(var s=a.parent,u=$t(a),c=u.index+1,l=u.index+u.childCount,h=c;h<=l;h++){var p=s.def.nodes[h];p.ngContentIndex===e&&fe(s,p,n,r,o,i),h+=p.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(var h=0;h<f.length;h++)de(t,f[h],n,r,o,i)}}function fe(t,e,n,r,o,i){if(8&e.flags)pe(t,e.ngContent.index,n,r,o,i);else{var a=te(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&de(t,a,n,r,o,i),32&e.bindingFlags){var s=Dt(t,e.index).componentView;de(s,a,n,r,o,i)}}else de(t,a,n,r,o,i);if(16777216&e.flags)for(var u=Dt(t,e.index).viewContainer._embeddedViews,c=0;c<u.length;c++)le(u[c],n,r,o,i);1&e.flags&&!e.element.name&&he(t,n,e.index+1,e.index+e.childCount,r,o,i)}}function de(t,e,n,r,o,i){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,o);break;case 3:a.removeChild(r,e);break;case 0:i.push(e)}}function me(t){if(":"===t[0]){var e=t.match(Fa);return[e[1],e[2]]}return["",t]}function ye(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ge(t,e,n,r,o,i,a,s,u,c,l,h,p,f,d,m,y,g,v,_){switch(t){case 1:return e+ve(n)+r;case 2:return e+ve(n)+r+ve(o)+i;case 3:return e+ve(n)+r+ve(o)+i+ve(a)+s;case 4:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c;case 5:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c+ve(l)+h;case 6:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c+ve(l)+h+ve(p)+f;case 7:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c+ve(l)+h+ve(p)+f+ve(d)+m;case 8:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c+ve(l)+h+ve(p)+f+ve(d)+m+ve(y)+g;case 9:return e+ve(n)+r+ve(o)+i+ve(a)+s+ve(u)+c+ve(l)+h+ve(p)+f+ve(d)+m+ve(y)+g+ve(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function ve(t){return null!=t?t.toString():""}function _e(t,e,n,r,o,i){t|=1;var a=ie(e),s=a.matchedQueries,u=a.references;return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?ue(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||ka},provider:null,text:null,query:null,ngContent:null}}function be(t,e,n,r,o,i,a,s,u,c,l){void 0===i&&(i=[]),u||(u=ka);var h=ie(e),p=h.matchedQueries,f=h.references,d=h.matchedQueryIds,m=null,y=null;o&&(R=me(o),m=R[0],y=R[1]),a=a||[];for(var g=new Array(a.length),v=0;v<a.length;v++){var _=a[v],b=_[0],w=_[1],x=_[2],C=me(w),E=C[0],S=C[1],T=void 0,P=void 0;switch(15&b){case 4:P=x;break;case 1:case 8:T=x}g[v]={flags:b,ns:E,name:S,nonMinifiedName:S,securityContext:T,suffix:P}}s=s||[];for(var O=new Array(s.length),v=0;v<s.length;v++){var I=s[v],A=I[0],k=I[1];O[v]={type:0,target:A,eventName:k,propName:null}}i=i||[];var D=i.map(function(t){var e=t[0],n=t[1],r=me(e);return[r[0],r[1],n]});return l=Ht(l),c&&(t|=33554432),t|=1,{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:d,references:f,ngContentIndex:n,childCount:r,bindings:g,bindingFlags:ye(g),outputs:O,element:{ns:m,name:y,attrs:D,template:null,componentProvider:null,componentView:c||null,componentRendererType:l,publicProviders:null,allProviders:null,handleEvent:u||ka},provider:null,text:null,query:null,ngContent:null};var R}function we(t,e,n){var r,o=n.element,i=t.root.selectorOrNode,a=t.renderer;if(t.parent||!i){r=o.name?a.createElement(o.name,o.ns):a.createComment("");var s=se(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(i);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=o.attrs[u],l=c[0],h=c[1],p=c[2];a.setAttribute(r,h,p,l)}return r}function xe(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=Ce(t,n.index,ee(i.target,i.eventName)),s=i.target,u=t;"component"===i.target&&(s=null,u=e);var c=u.renderer.listen(s||r,i.eventName,a);t.disposables[n.outputIndex+o]=c}}function Ce(t,e,n){return function(r){try{return Yt(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function Ee(t,e,n,r,o,i,a,s,u,c,l,h){var p=e.bindings.length,f=!1;return p>0&&Te(t,e,0,n)&&(f=!0),p>1&&Te(t,e,1,r)&&(f=!0),p>2&&Te(t,e,2,o)&&(f=!0),p>3&&Te(t,e,3,i)&&(f=!0),p>4&&Te(t,e,4,a)&&(f=!0),p>5&&Te(t,e,5,s)&&(f=!0),p>6&&Te(t,e,6,u)&&(f=!0),p>7&&Te(t,e,7,c)&&(f=!0),p>8&&Te(t,e,8,l)&&(f=!0),p>9&&Te(t,e,9,h)&&(f=!0),f}function Se(t,e,n){for(var r=!1,o=0;o<n.length;o++)Te(t,e,o,n[o])&&(r=!0);return r}function Te(t,e,n,r){if(!Kt(t,e,n,r))return!1;var o=e.bindings[n],i=Dt(t,e.index),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:Pe(t,o,a,o.ns,s,r);break;case 2:Oe(t,a,s,r);break;case 4:Ie(t,o,a,s,r);break;case 8:Ae(33554432&e.flags&&32&o.flags?i.componentView:t,o,a,s,r)}return!0}function Pe(t,e,n,r,o,i){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}function Oe(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}function Ie(t,e,n,r,o){var i=t.root.sanitizer.sanitize(Oa.STYLE,o);if(null!=i){i=i.toString();var a=e.suffix;null!=a&&(i+=a)}else i=null;var s=t.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}function Ae(t,e,n,r,o){var i=e.securityContext,a=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,a)}function ke(t,e,n,r){return{index:-1,deps:ae(r),flags:t,token:e,value:n}}function De(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[Ut(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Re(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];n[r]=4096&o.flags?Va:Ne(t,o)}}function Me(t,e,n){if(void 0===n&&(n=Lo.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case ja:case za:return t}var o=t._def.providersByKey[r];if(o){var i=t._providers[o.index];return i===Va&&(i=t._providers[o.index]=Ne(t,o)),i}return t._parent.get(e.token,n)}function Ne(t,e){var n;switch(201347067&e.flags){case 512:n=Le(t,e.value,e.deps);break;case 1024:n=Fe(t,e.value,e.deps);break;case 2048:n=Me(t,e.deps[0]);break;case 256:n=e.value}return n}function Le(t,e,n){var r,o=n.length;switch(o){case 0:r=new e;break;case 1:r=new e(Me(t,n[0]));break;case 2:r=new e(Me(t,n[0]),Me(t,n[1]));break;case 3:r=new e(Me(t,n[0]),Me(t,n[1]),Me(t,n[2]));break;default:for(var i=new Array(o),a=0;a<o;a++)i[a]=Me(t,n[a]);r=new(e.bind.apply(e,[void 0].concat(i)))}return r}function Fe(t,e,n){var r,o=n.length;switch(o){case 0:r=e();break;case 1:r=e(Me(t,n[0]));break;case 2:r=e(Me(t,n[0]),Me(t,n[1]));break;case 3:r=e(Me(t,n[0]),Me(t,n[1]),Me(t,n[2]));break;default:for(var i=Array(o),a=0;a<o;a++)i[a]=Me(t,n[a]);r=e.apply(void 0,i)}return r}function Ve(t,e){for(var n=t._def,r=0;r<n.providers.length;r++){if(131072&n.providers[r].flags){var o=t._providers[r];o&&o!==Va&&o.ngOnDestroy()}}}function je(t,e,n,r){var o=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=o.length),r.viewContainerParent=t,Ke(o,n,r),ze(e,r),Aa.dirtyParentQueries(r),He(e,n>0?o[n-1]:null,r)}function ze(t,e){var n=Jt(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),Be(e.parent.def,e.parentNodeDef)}}function Be(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}function Ue(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Qe(n,e),Aa.dirtyParentQueries(r),Ge(r),r}function qe(t){if(16&t.state){var e=Jt(t);if(e){var n=e.template._projectedViews;n&&(Qe(n,n.indexOf(t)),Aa.dirtyParentQueries(t))}}}function We(t,e,n){var r=t.viewContainer._embeddedViews,o=r[e];return Qe(r,e),null==n&&(n=r.length),Ke(r,n,o),Aa.dirtyParentQueries(o),Ge(o),He(t,n>0?r[n-1]:null,o),o}function He(t,e,n){var r=e?te(e,e.def.lastRenderRootNode):t.renderElement;le(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Ge(t){le(t,3,null,null,void 0)}function Ke(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qe(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Xe(t,e,n,r,o,i){return new Ua(t,e,n,r,o,i)}function Ze(t,e,n){return new Wa(t,e,n)}function Ye(t){return new Ha(t)}function Je(t,e){return new Ga(t,e)}function $e(t,e){return new Ka(t,e)}function tn(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Dt(t,n.index);return n.element.template?r.template:r.renderElement}if(2&n.flags)return kt(t,n.index).renderText;if(20240&n.flags)return Rt(t,n.index).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function en(t){return new Qa(t.renderer)}function nn(t,e,n,r){return new Xa(t,e,n,r)}function rn(t,e,n,r,o,i,a){var s=[];if(i)for(var u in i){var c=i[u],l=c[0],h=c[1];s[l]={flags:8,name:u,nonMinifiedName:h,ns:null,securityContext:null,suffix:null}}var p=[];if(a)for(var f in a)p.push({type:1,propName:f,target:null,eventName:a[f]});return t|=16384,sn(t,e,n,r,r,o,s,p)}function on(t,e,n){return t|=16,sn(t,null,0,e,e,n)}function an(t,e,n,r,o){return sn(t,e,0,n,r,o)}function sn(t,e,n,r,o,i,a,s){var u=ie(e),c=u.matchedQueries,l=u.references,h=u.matchedQueryIds;s||(s=[]),a||(a=[]);var p=ae(i);return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:n,bindings:a,bindingFlags:ye(a),outputs:s,element:null,provider:{token:r,value:o,deps:p},text:null,query:null,ngContent:null}}function un(t,e){return 4096&e.flags?rs:dn(t,e)}function cn(t,e){for(var n=t;n.parent&&!ne(n);)n=n.parent;return mn(n.parent,$t(n),!0,e.provider.value,e.provider.deps)}function ln(t,e){var n=(32768&e.flags)>0,r=mn(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var o=0;o<e.outputs.length;o++){var i=e.outputs[o],a=r[i.propName].subscribe(hn(t,e.parent.index,i.eventName));t.disposables[e.outputIndex+o]=a.unsubscribe.bind(a)}return r}function hn(t,e,n){return function(r){try{return Yt(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function pn(t,e,n,r,o,i,a,s,u,c,l,h){var p=Rt(t,e.index),f=p.instance,d=!1,m=void 0,y=e.bindings.length;return y>0&&Gt(t,e,0,n)&&(d=!0,m=_n(t,p,e,0,n,m)),y>1&&Gt(t,e,1,r)&&(d=!0,m=_n(t,p,e,1,r,m)),y>2&&Gt(t,e,2,o)&&(d=!0,m=_n(t,p,e,2,o,m)),y>3&&Gt(t,e,3,i)&&(d=!0,m=_n(t,p,e,3,i,m)),y>4&&Gt(t,e,4,a)&&(d=!0,m=_n(t,p,e,4,a,m)),y>5&&Gt(t,e,5,s)&&(d=!0,m=_n(t,p,e,5,s,m)),y>6&&Gt(t,e,6,u)&&(d=!0,m=_n(t,p,e,6,u,m)),y>7&&Gt(t,e,7,c)&&(d=!0,m=_n(t,p,e,7,c,m)),y>8&&Gt(t,e,8,l)&&(d=!0,m=_n(t,p,e,8,l,m)),y>9&&Gt(t,e,9,h)&&(d=!0,m=_n(t,p,e,9,h,m)),m&&f.ngOnChanges(m),2&t.state&&65536&e.flags&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}function fn(t,e,n){for(var r=Rt(t,e.index),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)Gt(t,e,s,n[s])&&(i=!0,a=_n(t,r,e,s,n[s],a));return a&&o.ngOnChanges(a),2&t.state&&65536&e.flags&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}function dn(t,e){var n,r=(8192&e.flags)>0,o=e.provider;switch(201347067&e.flags){case 512:n=mn(t,e.parent,r,o.value,o.deps);break;case 1024:n=yn(t,e.parent,r,o.value,o.deps);break;case 2048:n=gn(t,e.parent,r,o.deps[0]);break;case 256:n=o.value}return n}function mn(t,e,n,r,o){var i,a=o.length;switch(a){case 0:i=new r;break;case 1:i=new r(gn(t,e,n,o[0]));break;case 2:i=new r(gn(t,e,n,o[0]),gn(t,e,n,o[1]));break;case 3:i=new r(gn(t,e,n,o[0]),gn(t,e,n,o[1]),gn(t,e,n,o[2]));break;default:for(var s=new Array(a),u=0;u<a;u++)s[u]=gn(t,e,n,o[u]);i=new(r.bind.apply(r,[void 0].concat(s)))}return i}function yn(t,e,n,r,o){var i,a=o.length;switch(a){case 0:i=r();break;case 1:i=r(gn(t,e,n,o[0]));break;case 2:i=r(gn(t,e,n,o[0]),gn(t,e,n,o[1]));break;case 3:i=r(gn(t,e,n,o[0]),gn(t,e,n,o[1]),gn(t,e,n,o[2]));break;default:for(var s=Array(a),u=0;u<a;u++)s[u]=gn(t,e,n,o[u]);i=r.apply(void 0,s)}return i}function gn(t,e,n,r,o){if(void 0===o&&(o=Lo.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var a=r.tokenKey;for(a===es&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case Za:var s=vn(t,e,n);return en(s);case Ya:var s=vn(t,e,n);return s.renderer;case Ja:return new Gi(Dt(t,e.index).renderElement);case $a:return Dt(t,e.index).viewContainer;case ts:if(e.element.template)return Dt(t,e.index).template;break;case es:return Ye(vn(t,e,n));case ns:return $e(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=Rt(t,u.index);return c.instance===rs&&(c.instance=dn(t,u)),c.instance}}n=ne(t),e=$t(t),t=t.parent}var l=i.root.injector.get(r.token,os);return l!==os||o===os?l:i.root.ngModule.injector.get(r.token,o)}function vn(t,e,n){var r;if(n)r=Dt(t,e.index).componentView;else for(r=t;r.parent&&!ne(r);)r=r.parent;return r}function _n(t,e,n,r,o,i){if(32768&n.flags){var a=Dt(t,n.parent.index).componentView;2&a.def.flags&&(a.state|=8)}var s=n.bindings[r],u=s.name;if(e.instance[u]=o,524288&n.flags){i=i||{};var c=t.oldValues[n.bindingIndex+r];c instanceof aa&&(c=c.wrapped);i[n.bindings[r].nonMinifiedName]=new sa(c,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function bn(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var o=n[r],i=o.parent;for(!i&&o.flags&e&&xn(t,r,o.flags&e),0==(o.childFlags&e)&&(r+=o.childCount);i&&1&i.flags&&r===i.index+i.childCount;)i.directChildFlags&e&&wn(t,i,e),i=i.parent}}function wn(t,e,n){for(var r=e.index+1;r<=e.index+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&xn(t,r,o.flags&n),r+=o.childCount}}function xn(t,e,n){var r=Rt(t,e).instance;r!==rs&&(Aa.setCurrentNode(t,e),1048576&n&&r.ngAfterContentInit(),2097152&n&&r.ngAfterContentChecked(),4194304&n&&r.ngAfterViewInit(),8388608&n&&r.ngAfterViewChecked(),131072&n&&r.ngOnDestroy())}function Cn(t,e,n){var r=[];for(var o in n){var i=n[o];r.push({propName:o,bindingType:i})}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:oe(e),bindings:r},ngContent:null}}function En(){return new Qi}function Sn(t){for(var e=t.def.nodeMatchedQueries;t.parent&&re(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.index+n.childCount,o=0;o<=r;o++){var i=t.def.nodes[o];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Nt(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.index)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}}if(134217728&t.def.nodeFlags)for(var o=0;o<t.def.nodes.length;o++){var i=t.def.nodes[o];134217728&i.flags&&536870912&i.flags&&Nt(t,o).setDirty(),o+=i.childCount}}function Tn(t,e){var n=Nt(t,e.index);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=Pn(t,i.index,i.index+i.childCount,e.query,[]),r=Rt(t,e.parent.index).instance}else 134217728&e.flags&&(o=Pn(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function Pn(t,e,n,r,o){for(var i=e;i<=n;i++){var a=t.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(On(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Dt(t,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Pn(t,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],p=Jt(h);p&&p===u&&Pn(h,0,h.def.nodes.length-1,r,o)}var f=u.template._projectedViews;if(f)for(var l=0;l<f.length;l++){var d=f[l];Pn(d,0,d.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function On(t,e,n){if(null!=n){var r=void 0;switch(n){case 1:r=Dt(t,e.index).renderElement;break;case 0:r=new Gi(Dt(t,e.index).renderElement);break;case 2:r=Dt(t,e.index).template;break;case 3:r=Dt(t,e.index).viewContainer;break;case 4:r=Rt(t,e.index).instance}return r}}function In(t,e){return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function An(t,e,n){var r=se(t,e,n);if(r){pe(t,n.ngContent.index,1,r,null,void 0)}}function kn(t){for(var e=Object.keys(t),n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[t[i]]=i}return Dn(64,r)}function Dn(t,e){for(var n=new Array(e.length),r=0;r<e.length;r++){var o=e[r];n[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:ye(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Rn(t,e){return{value:void 0}}function Mn(t,e,n,r,o,i,a,s,u,c,l,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&Kt(t,e,0,n)&&(f=!0),d>1&&Kt(t,e,1,r)&&(f=!0),d>2&&Kt(t,e,2,o)&&(f=!0),d>3&&Kt(t,e,3,i)&&(f=!0),d>4&&Kt(t,e,4,a)&&(f=!0),d>5&&Kt(t,e,5,s)&&(f=!0),d>6&&Kt(t,e,6,u)&&(f=!0),d>7&&Kt(t,e,7,c)&&(f=!0),d>8&&Kt(t,e,8,l)&&(f=!0),d>9&&Kt(t,e,9,h)&&(f=!0),f){var m=Mt(t,e.index),y=void 0;switch(201347067&e.flags){case 32:y=new Array(p.length),d>0&&(y[0]=n),d>1&&(y[1]=r),d>2&&(y[2]=o),d>3&&(y[3]=i),d>4&&(y[4]=a),d>5&&(y[5]=s),d>6&&(y[6]=u),d>7&&(y[7]=c),d>8&&(y[8]=l),d>9&&(y[9]=h);break;case 64:y={},d>0&&(y[p[0].name]=n),d>1&&(y[p[1].name]=r),d>2&&(y[p[2].name]=o),d>3&&(y[p[3].name]=i),d>4&&(y[p[4].name]=a),d>5&&(y[p[5].name]=s),d>6&&(y[p[6].name]=u),d>7&&(y[p[7].name]=c),d>8&&(y[p[8].name]=l),d>9&&(y[p[9].name]=h);break;case 128:var g=n;switch(d){case 1:y=g.transform(n);break;case 2:y=g.transform(r);break;case 3:y=g.transform(r,o);break;case 4:y=g.transform(r,o,i);break;case 5:y=g.transform(r,o,i,a);break;case 6:y=g.transform(r,o,i,a,s);break;case 7:y=g.transform(r,o,i,a,s,u);break;case 8:y=g.transform(r,o,i,a,s,u,c);break;case 9:y=g.transform(r,o,i,a,s,u,c,l);break;case 10:y=g.transform(r,o,i,a,s,u,c,l,h)}}m.value=y}return f}function Nn(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Kt(t,e,i,n[i])&&(o=!0);if(o){var a=Mt(t,e.index),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(var i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,c)}a.value=s}return o}function Ln(t,e){for(var n=new Array(e.length-1),r=1;r<e.length;r++)n[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[r]};return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:ye(n),outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}function Fn(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=se(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function Vn(t,e,n,r,o,i,a,s,u,c,l,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&Kt(t,e,0,n)&&(p=!0),d>1&&Kt(t,e,1,r)&&(p=!0),d>2&&Kt(t,e,2,o)&&(p=!0),d>3&&Kt(t,e,3,i)&&(p=!0),d>4&&Kt(t,e,4,a)&&(p=!0),d>5&&Kt(t,e,5,s)&&(p=!0),d>6&&Kt(t,e,6,u)&&(p=!0),d>7&&Kt(t,e,7,c)&&(p=!0),d>8&&Kt(t,e,8,l)&&(p=!0),d>9&&Kt(t,e,9,h)&&(p=!0),p){var m=e.text.prefix;d>0&&(m+=zn(n,f[0])),d>1&&(m+=zn(r,f[1])),d>2&&(m+=zn(o,f[2])),d>3&&(m+=zn(i,f[3])),d>4&&(m+=zn(a,f[4])),d>5&&(m+=zn(s,f[5])),d>6&&(m+=zn(u,f[6])),d>7&&(m+=zn(c,f[7])),d>8&&(m+=zn(l,f[8])),d>9&&(m+=zn(h,f[9]));var y=kt(t,e.index).renderText;t.renderer.setValue(y,m)}return p}function jn(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Kt(t,e,i,n[i])&&(o=!0);if(o){for(var a="",i=0;i<n.length;i++)a+=zn(n[i],r[i]);a=e.text.prefix+a;var s=kt(t,e.index).renderText;t.renderer.setValue(s,a)}return o}function zn(t,e){return(null!=t?t.toString():"")+e.suffix}function Bn(t,e,n,r){for(var o=0,i=0,a=0,s=0,u=0,c=null,l=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var m=e[d];if(m.index=d,m.parent=c,m.bindingIndex=o,m.outputIndex=i,m.renderParent=l,a|=m.flags,u|=m.matchedQueryIds,m.element){var y=m.element;y.publicProviders=c?c.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,p=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(qn(c,m,e.length),o+=m.bindings.length,i+=m.outputs.length,!l&&3&m.flags&&(f=m),20224&m.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(8192&m.flags),v=0!=(32768&m.flags);!g||v?c.element.publicProviders[Ut(m.provider.token)]=m:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Ut(m.provider.token)]=m),v&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)c=m,Un(m)||(l=m);else for(;c&&d===c.index+c.childCount;){var _=c.parent;_&&(_.childFlags|=c.childFlags,_.childMatchedQueries|=c.childMatchedQueries),c=_,l=c&&Un(c)?c.renderParent:c}}var b=function(t,n,r,o){return e[n].element.handleEvent(t,r,o)};return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ka,updateRenderer:r||ka,handleEvent:b,bindingCount:o,outputCount:i,lastRenderRootNode:f}}function Un(t){return 0!=(1&t.flags)&&null===t.element.name}function qn(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.index+"!")}if(20224&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: Provider/Directive nodes need to be children of elements or anchors, at index "+e.index+"!")}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.index+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.index+"!")}if(e.childCount){var o=t?t.index+t.childCount:n-1;if(e.index<=o&&e.index+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.index+"!")}}function Wn(t,e,n,r){var o=Kn(t.root,t.renderer,t,e,n);return Qn(o,t.component,r),Xn(o),o}function Hn(t,e,n){var r=Kn(t,t.renderer,null,null,e);return Qn(r,n,n),Xn(r),r}function Gn(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Kn(t.root,o,t,e.element.componentProvider,n)}function Kn(t,e,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:a}}function Qn(t,e,n){t.component=e,t.context=n}function Xn(t){var e;if(ne(t)){var n=t.parentNodeDef;e=Dt(t.parent,n.parent.index).renderElement}for(var r=t.def,o=t.nodes,i=0;i<r.nodes.length;i++){var a=r.nodes[i];Aa.setCurrentNode(t,i);var s=void 0;switch(201347067&a.flags){case 1:var u=we(t,e,a),c=void 0;if(33554432&a.flags){var l=ue(a.element.componentView);c=Aa.createComponentView(t,a,l,u)}xe(t,c,a,u),s={renderElement:u,componentView:c,viewContainer:null,template:a.element.template?Je(t,a):void 0},16777216&a.flags&&(s.viewContainer=Ze(t,a,s));break;case 2:s=Fn(t,e,a);break;case 512:case 1024:case 2048:case 256:var h=un(t,a);s={instance:h};break;case 16:var h=cn(t,a);s={instance:h};break;case 16384:var h=ln(t,a);if(s={instance:h},32768&a.flags){Qn(Dt(t,a.parent.index).componentView,h,h)}break;case 32:case 64:case 128:s=Rn(t,a);break;case 67108864:case 134217728:s=En();break;case 8:An(t,e,a),s=void 0}o[i]=s}ur(t,is.CreateViewNodes),pr(t,201326592,268435456,0)}function Zn(t){$n(t),Aa.updateDirectives(t,1),cr(t,is.CheckNoChanges),Aa.updateRenderer(t,1),ur(t,is.CheckNoChanges),t.state&=-97}function Yn(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,$n(t),Aa.updateDirectives(t,0),cr(t,is.CheckAndUpdate),pr(t,67108864,536870912,0),bn(t,2097152|(2&t.state?1048576:0)),Aa.updateRenderer(t,0),ur(t,is.CheckAndUpdate),pr(t,134217728,536870912,0),bn(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function Jn(t,e,n,r,o,i,a,s,u,c,l,h,p){return 0===n?tr(t,e,r,o,i,a,s,u,c,l,h,p):er(t,e,r)}function $n(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=Dt(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,Zt(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function tr(t,e,n,r,o,i,a,s,u,c,l,h){var p=!1;switch(201347067&e.flags){case 1:p=Ee(t,e,n,r,o,i,a,s,u,c,l,h);break;case 2:p=Vn(t,e,n,r,o,i,a,s,u,c,l,h);break;case 16384:p=pn(t,e,n,r,o,i,a,s,u,c,l,h);break;case 32:case 64:case 128:p=Mn(t,e,n,r,o,i,a,s,u,c,l,h)}return p}function er(t,e,n){var r=!1;switch(201347067&e.flags){case 1:r=Se(t,e,n);break;case 2:r=jn(t,e,n);break;case 16384:r=fn(t,e,n);break;case 32:case 64:case 128:r=Nn(t,e,n)}if(r)for(var o=e.bindings.length,i=e.bindingIndex,a=t.oldValues,s=0;s<o;s++)a[i+s]=n[s];return r}function nr(t,e,n,r,o,i,a,s,u,c,l,h,p){return 0===n?rr(t,e,r,o,i,a,s,u,c,l,h,p):or(t,e,r),!1}function rr(t,e,n,r,o,i,a,s,u,c,l,h){var p=e.bindings.length;p>0&&Qt(t,e,0,n),p>1&&Qt(t,e,1,r),p>2&&Qt(t,e,2,o),p>3&&Qt(t,e,3,i),p>4&&Qt(t,e,4,a),p>5&&Qt(t,e,5,s),p>6&&Qt(t,e,6,u),p>7&&Qt(t,e,7,c),p>8&&Qt(t,e,8,l),p>9&&Qt(t,e,9,h)}function or(t,e,n){for(var r=0;r<n.length;r++)Qt(t,e,r,n[r])}function ir(t,e){if(Nt(t,e.index).dirty)throw Lt(Aa.createDebugContext(t,e.index),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ar(t){if(!(128&t.state)){if(cr(t,is.Destroy),ur(t,is.Destroy),bn(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();qe(t),t.renderer.destroyNode&&sr(t),ne(t)&&t.renderer.destroy(),t.state|=128}}function sr(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Dt(t,n).renderElement):2&r.flags?t.renderer.destroyNode(kt(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Nt(t,n).destroy()}}function ur(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?lr(Dt(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function cr(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Dt(t,r).viewContainer._embeddedViews,a=0;a<i.length;a++)lr(i[a],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function lr(t,e){var n=t.state;switch(e){case is.CheckNoChanges:0==(128&n)&&(12==(12&n)?Zn(t):64&n&&hr(t,is.CheckNoChangesProjectedViews));break;case is.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Zn(t):64&n&&hr(t,e));break;case is.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Yn(t):64&n&&hr(t,is.CheckAndUpdateProjectedViews));break;case is.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Yn(t):64&n&&hr(t,e));break;case is.Destroy:ar(t);break;case is.CreateViewNodes:Xn(t)}}function hr(t,e){cr(t,e),ur(t,e)}function pr(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var a=t.def.nodes[i];if(a.flags&e&&a.flags&n)switch(Aa.setCurrentNode(t,a.index),r){case 0:Tn(t,a);break;case 1:ir(t,a)}a.childFlags&e&&a.childFlags&n||(i+=a.childCount)}}function fr(){if(!as){as=!0;var t=at()?mr():dr();Aa.setCurrentNode=t.setCurrentNode,Aa.createRootView=t.createRootView,Aa.createEmbeddedView=t.createEmbeddedView,Aa.createComponentView=t.createComponentView,Aa.createNgModuleRef=t.createNgModuleRef,Aa.overrideProvider=t.overrideProvider,Aa.clearProviderOverrides=t.clearProviderOverrides,Aa.checkAndUpdateView=t.checkAndUpdateView,Aa.checkNoChangesView=t.checkNoChangesView,Aa.destroyView=t.destroyView,Aa.resolveDep=gn,Aa.createDebugContext=t.createDebugContext,Aa.handleEvent=t.handleEvent,Aa.updateDirectives=t.updateDirectives,Aa.updateRenderer=t.updateRenderer,Aa.dirtyParentQueries=Sn}}function dr(){return{setCurrentNode:function(){},createRootView:yr,createEmbeddedView:Wn,createComponentView:Gn,createNgModuleRef:nn,overrideProvider:ka,clearProviderOverrides:ka,checkAndUpdateView:Yn,checkNoChangesView:Zn,destroyView:ar,createDebugContext:function(t,e){return new fs(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Tr:Pr,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Tr:Pr,t)}}}function mr(){return{setCurrentNode:kr,createRootView:gr,createEmbeddedView:_r,createComponentView:br,createNgModuleRef:wr,overrideProvider:xr,clearProviderOverrides:Cr,checkAndUpdateView:Or,checkNoChangesView:Ir,destroyView:Ar,createDebugContext:function(t,e){return new fs(t,e)},handleEvent:Dr,updateDirectives:Rr,updateRenderer:Mr}}function yr(t,e,n,r,o,i){return Hn(vr(t,o,o.injector.get(qi),e,n),r,i)}function gr(t,e,n,r,o,i){var a=o.injector.get(qi),s=vr(t,o,new ds(a),e,n),u=Er(r);return Hr(us.create,Hn,null,[s,u,i])}function vr(t,e,n,r,o){var i=e.injector.get(Ia),a=e.injector.get(zo);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function _r(t,e,n,r){var o=Er(n);return Hr(us.create,Wn,null,[t,e,o,r])}function br(t,e,n,r){var o=Er(n);return Hr(us.create,Gn,null,[t,e,o,r])}function wr(t,e,n,r){return nn(t,e,n,Sr(r))}function xr(t){ss.set(t.token,t)}function Cr(){ss.clear()}function Er(t){if(0===ss.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&ss.has(o.provider.token)&&(e.push(n.index),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ka});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){r.flags|=4096;var o=r.provider,i=ss.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=ae(i.deps),o.value=i.value)}}}(t,e[n]);return t}function Sr(t){return 0!==ss.size&&function(t){return t.providers.some(function(t){return!!(3840&t.flags)&&ss.has(t.token)})}(t)?(t=t.factory(function(){return ka}),function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];n.flags|=4096;var r=ss.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=ae(r.deps),n.value=r.value)}}(t),t):t}function Tr(t,e,n,r,o,i,a,s,u,c,l,h,p){var f=t.def.nodes[e];return Jn(t,f,n,r,o,i,a,s,u,c,l,h,p),224&f.flags?Mt(t,e).value:void 0}function Pr(t,e,n,r,o,i,a,s,u,c,l,h,p){var f=t.def.nodes[e];return nr(t,f,n,r,o,i,a,s,u,c,l,h,p),224&f.flags?Mt(t,e).value:void 0}function Or(t){return Hr(us.detectChanges,Yn,null,[t])}function Ir(t){return Hr(us.checkNoChanges,Zn,null,[t])}function Ar(t){return Hr(us.destroy,ar,null,[t])}function kr(t,e){ls=t,hs=e}function Dr(t,e,n,r){return kr(t,e),Hr(us.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Rr(t,e){function n(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Nr(t,a,r,o):Lr(t,a,r,o),16384&a.flags&&kr(t,zr(t,n)),224&a.flags?Mt(t,a.index).value:void 0}if(128&t.state)throw Bt(us[cs]);return kr(t,zr(t,0)),t.def.updateDirectives(n,t)}function Mr(t,e){function n(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?Nr(t,a,r,o):Lr(t,a,r,o),3&a.flags&&kr(t,Br(t,n)),224&a.flags?Mt(t,a.index).value:void 0}if(128&t.state)throw Bt(us[cs]);return kr(t,Br(t,0)),t.def.updateRenderer(n,t)}function Nr(t,e,n,r){if(Jn.apply(void 0,[t,e,n].concat(r))){var o=1===n?r[0]:r;if(16384&e.flags){for(var i={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=o[a];8&s.flags&&(i[Fr(s.nonMinifiedName)]=jr(u))}var c=e.parent,l=Dt(t,c.index).renderElement;if(c.element.name)for(var h in i){var u=i[h];null!=u?t.renderer.setAttribute(l,h,u):t.renderer.removeAttribute(l,h)}else t.renderer.setValue(l,"bindings="+JSON.stringify(i,null,2))}}}function Lr(t,e,n,r){nr.apply(void 0,[t,e,n].concat(r))}function Fr(t){return"ng-reflect-"+(t=Vr(t.replace(/[$@]/g,"_")))}function Vr(t){return t.replace(ps,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function jr(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function zr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Br(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Ur(t,e){for(var n=-1,r=0;r<=e;r++){3&t.nodes[r].flags&&n++}return n}function qr(t){for(;t&&!ne(t);)t=t.parent;return t.parent?Dt(t.parent,$t(t).index):null}function Wr(t,e,n){for(var r in e.references)n[r]=On(t,e,e.references[r])}function Hr(t,e,n,r){var o=cs,i=ls,a=hs;try{cs=t;var s=e.apply(n,r);return ls=i,hs=a,cs=o,s}catch(t){if(zt(t)||!ls)throw t;throw Ft(t,Gr())}}function Gr(){return ls?new fs(ls,hs):null}function Kr(t,e,n){return new ys(t,e,n)}n.d(e,"g",function(){return zi}),n.d(e,"_7",function(){return it}),n.d(e,"_10",function(){return at}),n.d(e,"_6",function(){return ut}),n.d(e,"I",function(){return Fi}),n.d(e,"c",function(){return ii}),n.d(e,"N",function(){return si}),n.d(e,"M",function(){return ui}),n.d(e,"b",function(){return ci}),n.d(e,"d",function(){return ri}),n.d(e,"e",function(){return oi}),n.d(e,"_9",function(){return gt}),n.d(e,"_1",function(){return Ii}),n.d(e,"_12",function(){return ot}),n.d(e,"D",function(){return Sa}),n.d(e,"f",function(){return Pa}),n.d(e,"s",function(){return Pi}),n.d(e,"r",function(){return zo}),n.d(e,"U",function(){return Ia}),n.d(e,"V",function(){return Oa}),n.d(e,"a",function(){return uo}),n.d(e,"h",function(){return co}),n.d(e,"n",function(){return po}),n.d(e,"o",function(){return ho}),n.d(e,"l",function(){return go}),n.d(e,"p",function(){return yo}),n.d(e,"u",function(){return wo}),n.d(e,"v",function(){return xo}),n.d(e,"A",function(){return _o}),n.d(e,"L",function(){return bo}),n.d(e,"O",function(){return vo}),n.d(e,"E",function(){return Co}),n.d(e,"_4",function(){return Eo}),n.d(e,"_2",function(){return So}),n.d(e,"_8",function(){return d}),n.d(e,"z",function(){return Lo}),n.d(e,"P",function(){return ti}),n.d(e,"y",function(){return to}),n.d(e,"w",function(){return Po}),n.d(e,"K",function(){return Oo}),n.d(e,"x",function(){return Io}),n.d(e,"W",function(){return Ao}),n.d(e,"X",function(){return ko}),n.d(e,"t",function(){return Do}),n.d(e,"J",function(){return Oi}),n.d(e,"Q",function(){return Ui}),n.d(e,"R",function(){return Hi}),n.d(e,"S",function(){return qi}),n.d(e,"T",function(){return Wi}),n.d(e,"k",function(){return hi}),n.d(e,"m",function(){return gi}),n.d(e,"q",function(){return Gi}),n.d(e,"F",function(){return Ci}),n.d(e,"H",function(){return xi}),n.d(e,"G",function(){return Ki}),n.d(e,"Y",function(){return Yi}),n.d(e,"Z",function(){return Xi}),n.d(e,"_0",function(){return Ji}),n.d(e,"_3",function(){return $i}),n.d(e,"i",function(){return fo}),n.d(e,"j",function(){return ta}),n.d(e,"B",function(){return ga}),n.d(e,"C",function(){return va}),n.d(e,"_5",function(){return aa}),n.d(e,"_11",function(){return Ea}),n.d(e,"_25",function(){return wt}),n.d(e,"_14",function(){return li}),n.d(e,"_13",function(){return bi}),n.d(e,"_23",function(){return oo}),n.d(e,"_30",function(){return i}),n.d(e,"_40",function(){return a}),n.d(e,"_26",function(){return G}),n.d(e,"_27",function(){return H}),n.d(e,"_15",function(){return _e}),n.d(e,"_16",function(){return Xe}),n.d(e,"_17",function(){return Kr}),n.d(e,"_18",function(){return Wt}),n.d(e,"_19",function(){return rn}),n.d(e,"_21",function(){return be}),n.d(e,"_24",function(){return ge}),n.d(e,"_32",function(){return De}),n.d(e,"_33",function(){return ke}),n.d(e,"_34",function(){return In}),n.d(e,"_35",function(){return tn}),n.d(e,"_36",function(){return on}),n.d(e,"_38",function(){return an}),n.d(e,"_37",function(){return kn}),n.d(e,"_39",function(){return Cn}),n.d(e,"_41",function(){return Ln}),n.d(e,"_42",function(){return qt}),n.d(e,"_43",function(){return Bn}),n.d(e,"_28",function(){return Ot}),n.d(e,"_29",function(){return It}),n.d(e,"_31",function(){return At}),n.d(e,"_20",function(){return Bi}),n.d(e,"_22",function(){return K});var Qr=n("6Xbx"),Xr=n("bKpL"),Zr=(n.n(Xr),n("LEug")),Yr=(n.n(Zr),n("CE6k")),Jr=(n.n(Yr),n("rlar")),$r=(n.n(Jr),function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}()),to=function(t){function e(e){return t.call(this,e)||this}return Qr.a(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}($r),eo="undefined"!=typeof window&&window,no="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ro=void 0!==t&&t,oo=eo||ro||no,io=null,ao=0,so=oo.Reflect,uo=new to("AnalyzeForEntryComponents"),co=p("Attribute",function(t){return{attributeName:t}}),lo=function(){function t(){}return t}(),ho=f("ContentChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},lo),po=f("ContentChild",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},lo),fo=(f("ViewChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},lo),f("ViewChild",function(t,e){return Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},lo),{});fo.OnPush=0,fo.Default=1,fo[fo.OnPush]="OnPush",fo[fo.Default]="Default";var mo={};mo.CheckOnce=0,mo.Checked=1,mo.CheckAlways=2,mo.Detached=3,mo.Errored=4,mo.Destroyed=5,mo[mo.CheckOnce]="CheckOnce",mo[mo.Checked]="Checked",mo[mo.CheckAlways]="CheckAlways",mo[mo.Detached]="Detached",mo[mo.Errored]="Errored",mo[mo.Destroyed]="Destroyed";var yo=l("Directive",function(t){return void 0===t&&(t={}),t}),go=l("Component",function(t){return void 0===t&&(t={}),Object.assign({changeDetection:fo.Default},t)},yo),vo=l("Pipe",function(t){return Object.assign({pure:!0},t)}),_o=f("Input",function(t){return{bindingPropertyName:t}}),bo=f("Output",function(t){return{bindingPropertyName:t}}),wo=f("HostBinding",function(t){return{hostPropertyName:t}}),xo=f("HostListener",function(t,e){return{eventName:t,args:e}}),Co=l("NgModule",function(t){return t}),Eo={};Eo.Emulated=0,Eo.Native=1,Eo.None=2,Eo[Eo.Emulated]="Emulated",Eo[Eo.Native]="Native",Eo[Eo.None]="None";var So=(function(){function t(t){void 0===t&&(t={}),this.templateUrl=t.templateUrl,this.template=t.template,this.styleUrls=t.styleUrls,this.styles=t.styles,this.encapsulation=t.encapsulation,this.animations=t.animations,this.interpolation=t.interpolation}}(),function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}()),To=new So("4.4.4"),Po=p("Inject",function(t){return{token:t}}),Oo=p("Optional"),Io=l("Injectable"),Ao=p("Self"),ko=p("SkipSelf"),Do=p("Host"),Ro=new Object,Mo=Ro,No=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Ro),e===Ro)throw new Error("No provider for "+a(t)+"!");return e},t}(),Lo=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();Lo.THROW_IF_NOT_FOUND=Ro,Lo.NULL=new No;var Fo="ngDebugContext",Vo="ngOriginalError",jo="ngErrorLogger",zo=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=v(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?y(t)?y(t):this._findContext(g(t)):null},t.prototype._findOriginalError=function(t){for(var e=g(t);e&&g(e);)e=g(e);return e},t}(),Bo=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return a(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return qo.get(m(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return qo.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Uo=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Bo)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Bo(t,Bo.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),qo=new Uo,Wo=Function,Ho=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Go=function(){function t(t){this._reflect=t||oo.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(Ho.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,o=r.map(function(t){return t&&t.type}),i=r.map(function(t){return t&&R(t.decorators)});return this._zipTypesAndAnnotations(o,i)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var i=this._reflect.getOwnMetadata("parameters",t),o=this._reflect.getOwnMetadata("design:paramtypes",t);if(o||i)return this._zipTypesAndAnnotations(o,i)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!D(t))return[];var e=M(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?R(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!D(t))return[];var e=M(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach(function(t){o[t]=R(r[t])}),o}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!D(t))return{};var e=M(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,o[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Wo&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+a(t)},t.prototype.resourceUri=function(t){return"./"+a(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Ko=function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}(),Qo=new Ko(new Go),Xo=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Zo=[],Yo=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Jo=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),$o=new Object,ti=function(){function t(){}return t.resolve=function(t){return F(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new ei(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),ei=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=$o}return t.prototype.get=function(t,e){return void 0===e&&(e=Mo),this._getByKey(Bo.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=ti.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(ti.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw A(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,o=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var i;try{i=o.apply(void 0,n)}catch(e){throw P(this,e,e.stack,t.key)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Mo)},t.prototype._getByKey=function(t,e,n){return t===ni?this:e instanceof Ao?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===$o&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return $o},t.prototype._throwOrNull=function(t,e){if(e!==Mo)return e;throw S(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==$o?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof ko?this._parent:this;o instanceof t;){var i=o,a=i._getObjByKeyId(e.id);if(a!==$o)return a;o=i._parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+W(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),ni=Bo.get(Lo),ri=new to("Application Initializer"),oi=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t._done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();H(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();oi.decorators=[{type:Io}],oi.ctorParameters=function(){return[{type:Array,decorators:[{type:Po,args:[ri]},{type:Oo}]}]};var ii=new to("AppId"),ai={provide:ii,useFactory:K,deps:[]},si=new to("Platform Initializer"),ui=new to("Platform ID"),ci=new to("appBootstrapListener"),li=(new to("Application Packages Root URL"),function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}());li.decorators=[{type:Io}],li.ctorParameters=function(){return[]};var hi=(function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),function(){function t(){}return t.prototype.compileModuleSync=function(t){throw X()},t.prototype.compileModuleAsync=function(t){throw X()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw X()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw X()},t.prototype.getNgContentSelectors=function(t){throw X()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}());hi.decorators=[{type:Io}],hi.ctorParameters=function(){return[]};var pi=(new to("compilerOptions"),function(){function t(){}return t.prototype.createCompiler=function(t){},t}()),fi=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),di=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,r){},t}(),mi="ngComponent",yi=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Z(t)},t}(),gi=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();gi.NULL=new yi;var vi,_i,bi=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Z(t);return new wi(e,this._ngModule)},t}(),wi=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Qr.a(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(di),xi=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Ci=function(){function t(){}return t.prototype.moduleType=function(){},t.prototype.create=function(t){},t}(),Ei=function(){var t=oo.wtf;return!(!t||!(vi=t.trace))&&(_i=vi.events,!0)}(),Si=Ei?Y:function(t,e){return $},Ti=Ei?J:function(t,e){return e},Pi=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Qr.a(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,i=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(i=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,o,i,a)},e}(Jr.Subject),Oi=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pi(!1),this.onMicrotaskEmpty=new Pi(!1),this.onStable=new Pi(!1),this.onError=new Pi(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.wtfZoneSpec&&(r._inner=r._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),et(r)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this._inner.run(t)},t.prototype.runGuarded=function(t){return this._inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),Ii=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Oi.assertNotInAngularZone(),o(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?o(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();Ii.decorators=[{type:Io}],Ii.ctorParameters=function(){return[{type:Oi}]};var Ai=function(){function t(){this._applications=new Map,Ri.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ri.findTestabilityInTree(this,t,e)},t}();Ai.decorators=[{type:Io}],Ai.ctorParameters=function(){return[]};var ki,Di=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),Ri=new Di,Mi=!0,Ni=!1,Li=new to("AllowMultipleToken"),Fi=function(){function t(t,e){this.name=t,this.token=e}return t}(),Vi=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),ji=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return Qr.a(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new Oi({enableLongStackTrace:at()})),e.run(function(){var r=ti.resolveAndCreate([{provide:Oi,useValue:e}],n.injector),o=t.create(r),i=o.injector.get(zo,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return pt(n._modules,o)}),e.runOutsideAngular(function(){return e.onError.subscribe({next:function(t){i.handleError(t)}})}),ht(i,e,function(){var t=o.injector.get(oi);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(o),o})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var r=this;return void 0===e&&(e=[]),this.injector.get(pi).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return r._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(zi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+a(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(Vi);ji.decorators=[{type:Io}],ji.ctorParameters=function(){return[{type:Lo}]};var zi=function(){function t(){}return t.prototype.bootstrap=function(t,e){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),Bi=function(t){function e(e,n,r,i,a,s){var u=t.call(this)||this;u._zone=e,u._console=n,u._injector=r,u._exceptionHandler=i,u._componentFactoryResolver=a,u._initStatus=s,u._bootstrapListeners=[],u._rootComponents=[],u._rootComponentTypes=[],u._views=[],u._runningTick=!1,u._enforceNoNewChanges=!1,u._stable=!0,u._enforceNoNewChanges=at(),u._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new Xr.Observable(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),l=new Xr.Observable(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){Oi.assertNotInAngularZone(),o(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){Oi.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return u._isStable=Object(Zr.merge)(c,Yr.share.call(l)),u}return Qr.a(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;pt(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof di?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(r.componentType);var o=r instanceof wi?null:this._injector.get(xi),i=e||r.selector,a=r.create(Lo.NULL,[],i,o);a.onDestroy(function(){n._unloadComponent(a)});var s=a.injector.get(Ii,null);return s&&a.injector.get(Ai).registerApplication(a.location.nativeElement,s),this._loadComponent(a),at()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),a},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(ci,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),pt(this._rootComponents,t)},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,Ti(n)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(zi);Bi._tickScope=Si("ApplicationRef#tick()"),Bi.decorators=[{type:Io}],Bi.ctorParameters=function(){return[{type:Oi},{type:li},{type:Lo},{type:zo},{type:gi},{type:oi}]};var Ui=(function(){function t(t,e,n,r,o,i){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i}}(),function(){function t(){}t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){}}(),function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,o,i,a){},t}()),qi=(new to("Renderer2Interceptor"),function(){function t(){}t.prototype.renderComponent=function(t){}}(),function(){function t(){}return t.prototype.createRenderer=function(t,e){},t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.whenRenderingDone=function(){},t}()),Wi={};Wi.Important=1,Wi.DashCase=2,Wi[Wi.Important]="Important",Wi[Wi.DashCase]="DashCase";var Hi=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,r){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),Gi=function(){function t(t){this.nativeElement=t}return t}(),Ki=function(){function t(){}return t.prototype.load=function(t){},t}(),Qi=(new Map,function(){function t(){this._dirty=!0,this._results=[],this._emitter=new Pi}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[r()]=function(){return this._results[r()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ft(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._emitter.complete(),this._emitter.unsubscribe()},t}()),Xi=function(){function t(){}return t}(),Zi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yi=function(){function t(t,e){this._compiler=t,this._config=e||Zi}return t.prototype.load=function(t){return this._compiler instanceof hi?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),o=r[0],i=r[1];return void 0===i&&(i="default"),n("gFIY")(o).then(function(t){return t[i]}).then(function(t){return dt(t,o,i)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],o=e[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("gFIY")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[o+i]}).then(function(t){return dt(t,r,o)})},t}();Yi.decorators=[{type:Io}],Yi.ctorParameters=function(){return[{type:hi},{type:Xi,decorators:[{type:Oo}]}]};var Ji=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),$i=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r,o){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),ta=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qr.a(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(ta),na=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Qr.a(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){}}(ea),function(){function t(t,e){this.name=t,this.callback=e}return t}()),ra=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof oa?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),oa=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Qr.a(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((o=this.childNodes).splice.apply(o,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var o},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return mt(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return yt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ra),ia=new Map,aa=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),sa=(function(){function t(){this.hasWrappedValue=!1}t.prototype.unwrap=function(t){return t instanceof aa?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1}}(),function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}()),ua=function(){function t(){}return t.prototype.supports=function(t){return wt(t)},t.prototype.create=function(t,e){return new la(e||t)},t}(),ca=function(t,e){return e},la=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ca}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<St(n,r,o)?e:n,a=St(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<o.length?o[l]:o[l]=0,p=h+l;c<=p&&p<u&&(o[l]=h+1)}var f=i.previousIndex;o[f]=c-u}}a!==s&&t(i,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!wt(t))throw new Error("Error trying to diff '"+a(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,a=this._itHead,s=!1;if(Array.isArray(t)){this._length=t.length;for(var u=0;u<this._length;u++)r=t[u],o=this._trackByFn(u,r),null!==a&&i(a.trackById,o)?(s&&(a=this._verifyReinsertion(a,r,o,u)),i(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,o,u),s=!0),a=a._next}else n=0,Ct(t,function(t){o=e._trackByFn(n,t),null!==a&&i(a.trackById,o)?(s&&(a=e._verifyReinsertion(a,t,o,n)),i(a.item,t)||e._addIdentityChange(a,t)):(a=e._mismatch(a,t,o,n),s=!0),a=a._next,n++}),this._length=n;return this._truncate(a),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(i(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(i(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new ha(e,n),o,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var o=[];this.forEachRemovedItem(function(t){return o.push(t)});var i=[];return this.forEachIdentityChange(function(t){return i.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\nidentityChanges: "+i.join(", ")+"\n"},t}(),ha=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?a(this.item):a(this.item)+"["+a(this.previousIndex)+"->"+a(this.currentIndex)+"]"},t}(),pa=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&i(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),fa=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new pa,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+a(this.map)+")"},t}(),da=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Et(t)},t.prototype.create=function(t){return new ma},t}(),ma=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Et(t)))throw new Error("Error trying to diff '"+a(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new ya(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){i(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),ya=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return t}(),ga=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ko,new Oo]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+Tt(t)+"'")},t}(),va=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ko,new Oo]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),_a=[new da],ba=[new ua],wa=new ga(ba),xa=new va(_a),Ca=[{provide:ui,useValue:"unknown"},ji,{provide:Vi,useExisting:ji},{provide:Ko,useFactory:Pt,deps:[]},Ai,li],Ea=ut(null,"core",Ca),Sa=new to("LocaleId"),Ta=(new to("Translations"),new to("TranslationsFormat"),{});Ta.Error=0,Ta.Warning=1,Ta.Ignore=2,Ta[Ta.Error]="Error",Ta[Ta.Warning]="Warning",Ta[Ta.Ignore]="Ignore";var Pa=function(){function t(t){}return t}();Pa.decorators=[{type:Co,args:[{providers:[Bi,{provide:zi,useExisting:Bi},oi,hi,ai,{provide:ga,useFactory:Ot},{provide:va,useFactory:It},{provide:Sa,useFactory:At,deps:[[new Po(Sa),new Oo,new ko]]}]}]}],Pa.ctorParameters=function(){return[{type:zi}]};var Oa={};Oa.NONE=0,Oa.HTML=1,Oa.STYLE=2,Oa.SCRIPT=3,Oa.URL=4,Oa.RESOURCE_URL=5,Oa[Oa.NONE]="NONE",Oa[Oa.HTML]="HTML",Oa[Oa.STYLE]="STYLE",Oa[Oa.SCRIPT]="SCRIPT",Oa[Oa.URL]="URL",Oa[Oa.RESOURCE_URL]="RESOURCE_URL";var Ia=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),Aa=(function(){function t(){}t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]}}(),{setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0}),ka=function(){},Da=new Map,Ra="$$undefined",Ma="$$empty",Na=0,La=new WeakMap,Fa=/^:([^:]+):(.+)$/,Va=new Object,ja=Ut(Lo),za=Ut(xi),Ba=new Object,Ua=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Qr.a(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var r=e[n];t.push({propName:n,templateName:r})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=ue(this.viewDefFactory),i=o.nodes[0].element.componentProvider.index,a=Aa.createRootView(t,e||[],n,o,r,Ba),s=Rt(a,i).instance;return n&&a.renderer.setAttribute(Dt(a,0).renderElement,"ng-version",To.full),new qa(a,new Ha(a),s)},e}(di),qa=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o}return Qr.a(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Gi(Dt(this._view,this._elDef.index).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(fi),Wa=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Gi(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=$t(t),t=t.parent;return t?new Ka(t,e):new Ka(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length,e=t-1;e>=0;e--){var n=Ue(this._data,e);Aa.destroyView(n)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Ha(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof wi||(o=i.get(xi));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t,r=n._view;return je(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return We(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Ue(this._data,t);e&&Aa.destroyView(e)},t.prototype.detach=function(t){var e=Ue(this._data,t);return e?new Ha(e):null},t}(),Ha=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ce(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Xt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),Aa.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){Aa.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Aa.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ge(this._view),Aa.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),Ga=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Qr.a(e,t),e.prototype.createEmbeddedView=function(t){return new Ha(Aa.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Gi(Dt(this._parentView,this._def.index).renderElement)},enumerable:!0,configurable:!0}),e}(Ji),Ka=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=Lo.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Aa.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:Ut(t)},e)},t}(),Qa=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=me(e),r=n[0],o=n[1],i=this.delegate.createElement(o,r);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=me(e),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(t,i,n,o):this.delegate.removeAttribute(t,i,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Xa=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,Re(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=Lo.THROW_IF_NOT_FOUND),Me(this,{token:t,tokenKey:Ut(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(gi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+a(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,Ve(this,131072),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Za=Ut(Ui),Ya=Ut(Hi),Ja=Ut(Gi),$a=Ut($i),ts=Ut(Ji),es=Ut(ta),ns=Ut(Lo),rs=new Object,os={},is={};is.CreateViewNodes=0,is.CheckNoChanges=1,is.CheckNoChangesProjectedViews=2,is.CheckAndUpdate=3,is.CheckAndUpdateProjectedViews=4,is.Destroy=5,is[is.CreateViewNodes]="CreateViewNodes",is[is.CheckNoChanges]="CheckNoChanges",is[is.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",is[is.CheckAndUpdate]="CheckAndUpdate",is[is.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",is[is.Destroy]="Destroy";var as=!1,ss=new Map,us={};us.create=0,us.detectChanges=1,us.checkNoChanges=2,us.destroy=3,us.handleEvent=4,us[us.create]="create",us[us.detectChanges]="detectChanges",us[us.checkNoChanges]="checkNoChanges",us[us.destroy]="destroy",us[us.handleEvent]="handleEvent";var cs,ls,hs,ps=/([A-Z])/g,fs=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=$t(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Dt(this.elView,this.elDef.index).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return $e(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Wr(this.elView,this.elDef,t);for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Wr(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=qr(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?te(this.view,this.nodeDef):te(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o;2&this.nodeDef.flags?(r=this.view.def,o=this.nodeDef.index):(r=this.elView.def,o=this.elDef.index);var i=Ur(r,o),a=-1,s=function(){return a++,a===i?(n=t.error).bind.apply(n,[t].concat(e)):ka;var n};r.factory(s),a<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),ds=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ms(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ms=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){_t(gt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Gr();if(r){var o=new oa(n,null,r);o.name=t,vt(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Gr();return n&&vt(new ra(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Gr();return n&&vt(new ra(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=gt(t),r=gt(e);n&&r&&n instanceof oa&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=gt(t),o=gt(e),i=gt(n);r&&o&&r instanceof oa&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=gt(t),r=gt(e);n&&r&&n instanceof oa&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Gr();return n&&vt(new oa(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var o=gt(t);if(o&&o instanceof oa){var i=r?r+":"+e:e;o.attributes[i]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=gt(t);if(r&&r instanceof oa){var o=n?n+":"+e:e;r.attributes[o]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=gt(t);n&&n instanceof oa&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=gt(t);n&&n instanceof oa&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=gt(t);o&&o instanceof oa&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=gt(t);r&&r instanceof oa&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=gt(t);r&&r instanceof oa&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=gt(t);r&&r.listeners.push(new na(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),ys=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Qr.a(e,t),e.prototype.create=function(t){fr();var e=ue(this._ngModuleDefFactory);return Aa.createNgModuleRef(this.moduleType,t||Lo.NULL,this._bootstrapComponents,e)},e}(Ci)}).call(e,n("fRUx"))},"/ug4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;var r=n("Iylt"),o=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,r.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){(0,r.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}();e.EventEmitter=o},"/zE0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectMap=void 0;var r=n("ILqR"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),i=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];if(a.equals(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return void(this.inner[n]=[[t,e]]);for(var o=0;o<r.length;o++)if(r[o][0].equals(t))return void(r[o]=[t,e]);r.push([t,e])},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){o.forEach(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];t(a,s)}})},t.prototype.isEmpty=function(){return o.isEmpty(this.inner)},t}();e.ObjectMap=i},"/zHi":function(t,e,n){"use strict";var r=n("bKpL"),o=n("+zVg");r.Observable.of=o.of},"0C8m":function(t,e,n){"use strict";function r(){return l}function o(t){l=t}function i(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l<=c.DEBUG){var o=(new Date).toISOString(),i=n.map(s);console.log.apply(console,["Firestore ("+u.SDK_VERSION+") "+o+" ["+t+"]: "+e].concat(i))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l<=c.ERROR){var r=(new Date).toISOString(),o=e.map(s);console.error.apply(console,["Firestore ("+u.SDK_VERSION+") "+r+": "+t].concat(o))}}function s(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,e.getLogLevel=r,e.setLogLevel=o,e.debug=i,e.error=a;var u=n("UWaG"),c=e.LogLevel=void 0;!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(c||(e.LogLevel=c={}));var l=c.ERROR},"0H8/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement="bottom-left"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"0WLp":function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("/oeL"),o=n("Zz+K"),i=n("wnyu"),a=n("tzcA"),s=n("2waW"),u=n("PY9B"),c=n("IBeK"),l=n("g5gQ"),h=n("xBEz"),p=n("PuIS"),f=n("U0Tu"),d=n("3rU7"),m=n("Cb36"),y=n("5h8W"),g=n("6ade"),v=n("4HaF"),_=n("DaIH"),b=[o.a,i.a,a.a,s.a,u.a,c.a,l.a,h.a,p.a,f.a,d.a,m.a,y.a,g.a,v.a,_.a],w=function(){function t(){}return t}();w.decorators=[{type:r.E,args:[{imports:[i.a.forRoot(),a.a.forRoot(),u.a.forRoot(),d.a.forRoot(),v.a.forRoot(),_.a.forRoot(),o.a.forRoot(),s.a.forRoot(),c.a.forRoot(),l.a.forRoot(),h.a.forRoot(),p.a.forRoot(),f.a.forRoot(),d.a.forRoot(),m.a.forRoot(),y.a.forRoot(),g.a.forRoot(),v.a.forRoot()],exports:b}]}],w.ctorParameters=function(){return[]};var x=function(){function t(){}return t.forRoot=function(){return{ngModule:w}},t}();x.decorators=[{type:r.E,args:[{imports:b,exports:b}]}],x.ctorParameters=function(){return[]}},"0b9w":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nextPushId=void 0;var r=n("Iylt");e.nextPushId=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(o){var i=o===e;e=o;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=t.charAt(o%64),o=Math.floor(o/64);(0,r.assert)(0===o,"Cannot push at time == 0");var u=s.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=t.charAt(n[a]);return(0,r.assert)(20===u.length,"nextPushId: Length should be 20."),u}}()},"0im/":function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.SyncEngine=void 0;var o=n("6mzA"),i=n("e419"),a=n("fw9s"),s=n("mpwt"),u=n("d9fJ"),c=n("V2Ax"),l=n("AMBp"),h=n("wg5S"),p=n("0C8m"),f=r(p),d=n("D1Ck"),m=n("ILqR"),y=r(m),g=n("/zE0"),v=n("3wYX"),_=n("3aE0"),b=n("U+HO"),w=n("6l4v"),x=n("pZ/q"),C=n("ERM2"),E=n("+wOn"),S=function(){function t(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}return t}(),T=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new g.ObjectMap(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new v.SortedMap(c.DocumentKey.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new s.ReferenceSet,this.limboCollector=new o.EagerGarbageCollector,this.mutationUserCallbacks={},this.targetIdGenerator=C.TargetIdGenerator.forSyncEngine()}return t.prototype.subscribe=function(t,e){(0,h.assert)(null!==t&&null!==e,"View and error handlers cannot be null"),(0,h.assert)(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),(0,h.assert)(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(o){var i=new E.View(t,o),a=i.computeDocChanges(r),s=i.applyChanges(a);(0,h.assert)(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),(0,h.assert)(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new S(t,n.targetId,n.resumeToken,i);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return(0,h.assert)(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),(0,h.assert)(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!(0,_.isNullOrUndefined)(e)&&e.catch&&e.then?e.catch(function(t){return b.PromiseImpl.reject(n.wrapUpdateFunctionError(t))}):b.PromiseImpl.reject(Error("Transaction callback must return a Promise"))}catch(t){return b.PromiseImpl.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?b.PromiseImpl.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),y.forEachNumber(t.targetChanges,function(n,r){var o=e.limboKeysByTarget[n];o&&r.currentStatusUpdate===l.CurrentStatusUpdate.MarkCurrent&&!t.documentUpdates.get(o)&&t.addDocumentUpdate(new u.NoDocument(o,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var o=new v.SortedMap(c.DocumentKey.comparator);o=o.insert(r,new u.NoDocument(r,x.SnapshotVersion.forDeletedDoc()));var i=new l.RemoteEvent(x.SnapshotVersion.MIN,{},o);return this.applyRemoteEvent(i)}var a=this.queryViewsByTarget[t];return(0,h.assert)(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new v.SortedMap(d.primitiveComparator)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&((0,h.assert)(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof E.AddedLimboDocument?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof E.RemovedLimboDocument?(f.debug("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t)):(0,h.fail)("Unknown limbo change: "+JSON.stringify(o))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f.debug("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=w.Query.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new a.QueryData(r,n,a.QueryPurpose.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],o=[],a=[];return this.queryViewsByQuery.forEach(function(s,u){a.push(b.PromiseImpl.resolve().then(function(){var e=u.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(u.query).then(function(t){return u.view.computeDocChanges(t,e)}):e}).then(function(t){var a=e&&e.targetChanges[u.targetId],s=u.view.applyChanges(t,a);return n.updateTrackedLimbos(u.targetId,s.limboChanges).then(function(){if(s.snapshot){r.push(s.snapshot);var t=i.LocalViewChanges.fromSnapshot(s.snapshot);o.push(t)}})}))}),b.PromiseImpl.all(a).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(o)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){(0,h.assert)(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}();e.SyncEngine=T},"0kdl":function(t,e,n){"use strict";function r(t){return void 0!==t.documents}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSerializer=void 0;var o=n("pZ/q"),i=n("ygS9"),a=n("d9fJ"),s=n("V2Ax"),u=n("RFuG"),c=n("wg5S"),l=n("abh2"),h=n("fw9s"),p=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=s.DocumentKey.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new i.Timestamp(n.seconds,n.nanos);return new a.NoDocument(e,o.SnapshotVersion.fromTimestamp(r))}return(0,c.fail)("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof a.Document){var e=this.remoteSerializer.toDocument(t);return new l.DbRemoteDocument(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),o=new l.DbTimestamp(r.seconds,r.nanos);return new l.DbRemoteDocument(new l.DbNoDocument(n,o),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new l.DbMutationBatch(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=i.Timestamp.fromEpochMilliseconds(t.localWriteTimeMs);return new u.MutationBatch(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new i.Timestamp(t.readTime.seconds,t.readTime.nanos),a=o.SnapshotVersion.fromTimestamp(n);return e=r(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new h.QueryData(e,t.targetId,h.QueryPurpose.Listen,a,t.resumeToken)},t.prototype.toDbTarget=function(t){(0,c.assert)(h.QueryPurpose.Listen===t.purpose,"Only queries with purpose "+h.QueryPurpose.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new l.DbTimestamp(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),(0,c.assert)("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var o=t.resumeToken;return new l.DbTarget(t.targetId,t.query.canonicalId(),r,o,0,e)},t}();e.LocalSerializer=p},"0yuy":function(t,e,n){(function(t){var e=n("2D4A");(function(){(function(){var t,n=n||{},r=this,o=function(t){return void 0!==t},i=function(t){return"string"==typeof t},a=function(t){return"boolean"==typeof t},s=function(){},u=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},c=function(t){return null===t},l=function(t){return"array"==u(t)},h=function(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length},p=function(t){return"function"==u(t)},f=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},d=function(t,e,n){return t.call.apply(t.bind,arguments)},m=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},y=function(t,e,n){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:m,y.apply(null,arguments)},g=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},v=Date.now||function(){return+new Date},_=function(t,e){function n(){}n.prototype=e.prototype,t.Vc=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ng=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}},b=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};_(b,Error),b.prototype.name="CustomError";var w=function(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")},x=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},C=function(t){return A.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(E,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(S,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(T,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(P,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(O,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(I,"&#0;")),t):t},E=/&/g,S=/</g,T=/>/g,P=/"/g,O=/'/g,I=/\x00/g,A=/[\x00&<>"']/,k=function(t,e){return-1!=t.indexOf(e)},D=function(t,e){return t<e?-1:t>e?1:0},R=function(t,e){e.unshift(t),b.call(this,w.apply(null,e)),e.shift()};_(R,b),R.prototype.name="AssertionError";var M=function(t,e,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else t&&(o+=": "+t,i=e);throw new R(""+o,i||[])},N=function(t,e,n){return t||M("",null,e,Array.prototype.slice.call(arguments,2)),t},L=function(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},F=function(t,e,n){return"number"==typeof t||M("Expected number but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2)),t},V=function(t,e,n){i(t)||M("Expected string but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},j=function(t,e,n){p(t)||M("Expected function but got %s: %s.",[u(t),t],e,Array.prototype.slice.call(arguments,2))},z=function(){this.Uc="",this.gf=U};z.prototype.qb=!0,z.prototype.ob=function(){return this.Uc},z.prototype.toString=function(){return"Const{"+this.Uc+"}"};var B=function(t){return t instanceof z&&t.constructor===z&&t.gf===U?t.Uc:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")},U={},q=function(t){var e=new z;return e.Uc=t,e};q("");var W=function(){this.Mc="",this.hf=Y};W.prototype.qb=!0,W.prototype.ob=function(){return this.Mc},W.prototype.toString=function(){return"TrustedResourceUrl{"+this.Mc+"}"};var H,G=function(t){return t instanceof W&&t.constructor===W&&t.hf===Y?t.Mc:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")},K=function(t,e){return t=Q(t,e),e=new W,e.Mc=t,e},Q=function(t,e){var n=B(t);if(!Z.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(X,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof z?B(t):encodeURIComponent(String(t))})},X=/%{(\w+)}/g,Z=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,Y={},J=Array.prototype.indexOf?function(t,e,n){return N(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,i(t))return i(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$=Array.prototype.forEach?function(t,e,n){N(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)},tt=function(t,e){for(var n=i(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)},et=Array.prototype.map?function(t,e,n){return N(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=Array(r),a=i(t)?t.split(""):t,s=0;s<r;s++)s in a&&(o[s]=e.call(n,a[s],s,t));return o},nt=Array.prototype.some?function(t,e,n){return N(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=i(t)?t.split(""):t,a=0;a<r;a++)if(a in o&&e.call(n,o[a],a,t))return!0;return!1},rt=function(t){t:{for(var e=Yr,n=t.length,r=i(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]},ot=function(t,e){return 0<=J(t,e)},it=function(t,e){e=J(t,e);var n;return(n=0<=e)&&at(t,e),n},at=function(t,e){return N(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},st=function(t,e){var n=0;tt(t,function(r,o){e.call(void 0,r,o,t)&&at(t,o)&&n++})},ut=function(t){return Array.prototype.concat.apply([],arguments)},ct=function(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]},lt=function(t){return et(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")};t:{var ht=r.navigator;if(ht){var pt=ht.userAgent;if(pt){H=pt;break t}}H=""}var ft=function(t){return k(H,t)},dt=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},mt=function(t,e){for(var n in t)if(e.call(void 0,t[n],n,t))return!0;return!1},yt=function(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n},gt=function(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n},vt=function(t){for(var e in t)return!1;return!0},_t=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},bt=function(t){var e,n={};for(e in t)n[e]=t[e];return n},wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),xt=function(t,e){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(var i=0;i<wt.length;i++)n=wt[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}},Ct=function(t){return Ct[" "](t),t};Ct[" "]=s;var Et,St=function(t,e){var n=Vt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},Tt=ft("Opera"),Pt=ft("Trident")||ft("MSIE"),Ot=ft("Edge"),It=Ot||Pt,At=ft("Gecko")&&!(k(H.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),kt=k(H.toLowerCase(),"webkit")&&!ft("Edge"),Dt=function(){var t=r.document;return t?t.documentMode:void 0};t:{var Rt="",Mt=function(){var t=H;return At?/rv\:([^\);]+)(\)|;)/.exec(t):Ot?/Edge\/([\d\.]+)/.exec(t):Pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):kt?/WebKit\/(\S+)/.exec(t):Tt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Mt&&(Rt=Mt?Mt[1]:""),Pt){var Nt=Dt();if(null!=Nt&&Nt>parseFloat(Rt)){Et=String(Nt);break t}}Et=Rt}var Lt,Ft=Et,Vt={},jt=function(t){return St(t,function(){for(var e=0,n=x(String(Ft)).split("."),r=x(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})},zt=r.document;Lt=zt&&Pt?Dt()||("CSS1Compat"==zt.compatMode?parseInt(Ft,10):5):void 0;var Bt,Ut=null,qt=null,Wt=function(t){var e="";return Ht(t,function(t){e+=String.fromCharCode(t)}),e},Ht=function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),o=qt[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Gt();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;e(o<<2|i>>4),64!=a&&(e(i<<4&240|a>>2),64!=s&&e(a<<6&192|s))}},Gt=function(){if(!Ut){Ut={},qt={};for(var t=0;65>t;t++)Ut[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),qt[Ut[t]]=t,62<=t&&(qt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},Kt=function(){this.Da=-1},Qt=function(t,e){this.Da=-1,this.Da=64,this.rc=r.Uint8Array?new Uint8Array(this.Da):Array(this.Da),this.Yc=this.rb=0,this.l=[],this.$f=t,this.Ee=e,this.Bg=r.Int32Array?new Int32Array(64):Array(64),o(Bt)||(Bt=r.Int32Array?new Int32Array($t):$t),this.reset()};_(Qt,Kt);for(var Xt=[],Zt=0;63>Zt;Zt++)Xt[Zt]=0;var Yt=ut(128,Xt);Qt.prototype.reset=function(){this.Yc=this.rb=0,this.l=r.Int32Array?new Int32Array(this.Ee):ct(this.Ee)};var Jt=function(t){var e=t.rc;N(e.length==t.Da);for(var n=t.Bg,r=0,o=0;o<e.length;)n[r++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*r;for(e=16;64>e;e++){o=0|n[e-15],r=0|n[e-2];var i=(0|n[e-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=i+a|0}r=0|t.l[0],o=0|t.l[1];var s=0|t.l[2],u=0|t.l[3],c=0|t.l[4],l=0|t.l[5],h=0|t.l[6];for(i=0|t.l[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=c&l^~c&h,i=i+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Bt[e])|0,a=i+(a+(0|n[e])|0)|0,i=h,h=l,l=c,c=u+a|0,u=s,s=o,o=r,r=a+p|0}t.l[0]=t.l[0]+r|0,t.l[1]=t.l[1]+o|0,t.l[2]=t.l[2]+s|0,t.l[3]=t.l[3]+u|0,t.l[4]=t.l[4]+c|0,t.l[5]=t.l[5]+l|0,t.l[6]=t.l[6]+h|0,t.l[7]=t.l[7]+i|0};Qt.prototype.update=function(t,e){o(e)||(e=t.length);var n=0,r=this.rb;if(i(t))for(;n<e;)this.rc[r++]=t.charCodeAt(n++),r==this.Da&&(Jt(this),r=0);else{if(!h(t))throw Error("message must be string or array");for(;n<e;){var a=t[n++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");this.rc[r++]=a,r==this.Da&&(Jt(this),r=0)}}this.rb=r,this.Yc+=e},Qt.prototype.digest=function(){var t=[],e=8*this.Yc;56>this.rb?this.update(Yt,56-this.rb):this.update(Yt,this.Da-(this.rb-56));for(var n=63;56<=n;n--)this.rc[n]=255&e,e/=256;for(Jt(this),n=e=0;n<this.$f;n++)for(var r=24;0<=r;r-=8)t[e++]=this.l[n]>>r&255;return t};var $t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],te=function(){Qt.call(this,8,ee)};_(te,Qt);var ee=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ne=Object.freeze||function(t){return t},re=function(){this.Ma=this.Ma,this.Jc=this.Jc};re.prototype.Ma=!1,re.prototype.isDisposed=function(){return this.Ma},re.prototype.lb=function(){if(this.Jc)for(;this.Jc.length;)this.Jc.shift()()};var oe=!Pt||9<=Number(Lt),ie=Pt&&!jt("9");!kt||jt("528"),At&&jt("1.9b")||Pt&&jt("8")||Tt&&jt("9.5")||kt&&jt("528"),At&&!jt("8")||Pt&&jt("9");var ae=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return r.addEventListener("test",s,e),r.removeEventListener("test",s,e),t}(),se=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Wa=!1,this.Se=!0};se.prototype.stopPropagation=function(){this.Wa=!0},se.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Se=!1};var ue=function(t,e){se.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.P=null,t&&this.init(t,e)};_(ue,se);var ce=ne({2:"touch",3:"pen",4:"mouse"});ue.prototype.init=function(t,e){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(At){t:{try{Ct(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.offsetX=kt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=kt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.state=t.state,this.P=t,t.defaultPrevented&&this.preventDefault()},ue.prototype.stopPropagation=function(){ue.Vc.stopPropagation.call(this),this.P.stopPropagation?this.P.stopPropagation():this.P.cancelBubble=!0},ue.prototype.preventDefault=function(){ue.Vc.preventDefault.call(this);var t=this.P;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ie)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.Ef=function(){return this.P};var le="closure_listenable_"+(1e6*Math.random()|0),he=0,pe=function(t,e,n,r,o){this.listener=t,this.Nc=null,this.src=e,this.type=n,this.capture=!!r,this.wc=o,this.key=++he,this.Bb=this.qc=!1},fe=function(t){t.Bb=!0,t.listener=null,t.Nc=null,t.src=null,t.wc=null},de=function(t){this.src=t,this.I={},this.kc=0};de.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.I[i])||(t=this.I[i]=[],this.kc++);var a=ye(t,e,r,o);return-1<a?(e=t[a],n||(e.qc=!1)):(e=new pe(e,this.src,i,!!r,o),e.qc=n,t.push(e)),e},de.prototype.remove=function(t,e,n,r){if(!((t=t.toString())in this.I))return!1;var o=this.I[t];return-1<(e=ye(o,e,n,r))&&(fe(o[e]),at(o,e),0==o.length&&(delete this.I[t],this.kc--),!0)};var me=function(t,e){var n=e.type;n in t.I&&it(t.I[n],e)&&(fe(e),0==t.I[n].length&&(delete t.I[n],t.kc--))};de.prototype.td=function(t,e,n,r){t=this.I[t.toString()];var o=-1;return t&&(o=ye(t,e,n,r)),-1<o?t[o]:null},de.prototype.hasListener=function(t,e){var n=o(t),r=n?t.toString():"",i=o(e);return mt(this.I,function(t){for(var o=0;o<t.length;++o)if(!(n&&t[o].type!=r||i&&t[o].capture!=e))return!0;return!1})};var ye=function(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.Bb&&i.listener==e&&i.capture==!!n&&i.wc==r)return o}return-1},ge="closure_lm_"+(1e6*Math.random()|0),ve={},_e=0,be=function(t,e,n,r,o){if(r&&r.once)Ce(t,e,n,r,o);else if(l(e))for(var i=0;i<e.length;i++)be(t,e[i],n,r,o);else n=De(n),t&&t[le]?t.listen(e,n,f(r)?!!r.capture:!!r,o):we(t,e,n,!1,r,o)},we=function(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=f(o)?!!o.capture:!!o,s=Ae(t);if(s||(t[ge]=s=new de(t)),n=s.add(e,n,r,a,i),!n.Nc){if(r=xe(),n.Nc=r,r.src=t,r.listener=n,t.addEventListener)ae||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(Te(e.toString()),r)}_e++}},xe=function(){var t=Ie,e=oe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e},Ce=function(t,e,n,r,o){if(l(e))for(var i=0;i<e.length;i++)Ce(t,e[i],n,r,o);else n=De(n),t&&t[le]?Ir(t,e,n,f(r)?!!r.capture:!!r,o):we(t,e,n,!0,r,o)},Ee=function(t,e,n,r,o){if(l(e))for(var i=0;i<e.length;i++)Ee(t,e[i],n,r,o);else r=f(r)?!!r.capture:!!r,n=De(n),t&&t[le]?t.ga.remove(String(e),n,r,o):t&&(t=Ae(t))&&(e=t.td(e,n,r,o))&&Se(e)},Se=function(t){if("number"!=typeof t&&t&&!t.Bb){var e=t.src;if(e&&e[le])me(e.ga,t);else{var n=t.type,r=t.Nc;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(Te(n),r),_e--,(n=Ae(e))?(me(n,t),0==n.kc&&(n.src=null,e[ge]=null)):fe(t)}}},Te=function(t){return t in ve?ve[t]:ve[t]="on"+t},Pe=function(t,e,n,r){var o=!0;if((t=Ae(t))&&(e=t.I[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.Bb&&(i=Oe(i,r),o=o&&!1!==i)}return o},Oe=function(t,e){var n=t.listener,r=t.wc||t.src;return t.qc&&Se(t),n.call(r,e)},Ie=function(t,e){if(t.Bb)return!0;if(!oe){if(!e)t:{e=["window","event"];for(var n=r,o=0;o<e.length;o++)if(null==(n=n[e[o]])){e=null;break t}e=n}if(o=e,e=new ue(o,this),n=!0,!(0>o.keyCode||void 0!=o.returnValue)){t:{var i=!1;if(0==o.keyCode)try{o.keyCode=-1;break t}catch(t){i=!0}(i||void 0==o.returnValue)&&(o.returnValue=!0)}for(o=[],i=e.currentTarget;i;i=i.parentNode)o.push(i);for(t=t.type,i=o.length-1;!e.Wa&&0<=i;i--){e.currentTarget=o[i];var a=Pe(o[i],t,!0,e);n=n&&a}for(i=0;!e.Wa&&i<o.length;i++)e.currentTarget=o[i],a=Pe(o[i],t,!1,e),n=n&&a}return n}return Oe(t,new ue(e,this))},Ae=function(t){return t=t[ge],t instanceof de?t:null},ke="__closure_events_fn_"+(1e9*Math.random()>>>0),De=function(t){return N(t,"Listener can not be null."),p(t)?t:(N(t.handleEvent,"An object listener must have handleEvent method."),t[ke]||(t[ke]=function(e){return t.handleEvent(e)}),t[ke])},Re=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Me=function(){this.xa="",this.ff=Ve};Me.prototype.qb=!0,Me.prototype.ob=function(){return this.xa},Me.prototype.toString=function(){return"SafeUrl{"+this.xa+"}"};var Ne=function(t){return t instanceof Me&&t.constructor===Me&&t.ff===Ve?t.xa:(L("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")},Le=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Fe=function(t){return t instanceof Me?t:(t=t.qb?t.ob():String(t),Le.test(t)||(t="about:invalid#zClosurez"),je(t))},Ve={},je=function(t){var e=new Me;return e.xa=t,e};je("about:blank");var ze=function(t){var e=[];return Ue(new Be,t,e),e.join("")},Be=function(){this.Oc=void 0},Ue=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(l(e)){var r=e;e=r.length,n.push("[");for(var o="",i=0;i<e;i++)n.push(o),o=r[i],Ue(t,t.Oc?t.Oc.call(r,String(i),o):o,n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),He(r,n),n.push(":"),Ue(t,t.Oc?t.Oc.call(e,r,o):o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":He(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},qe={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},We=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,He=function(t,e){e.push('"',t.replace(We,function(t){var e=qe[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),qe[t]=e),e}),'"')},Ge=function(){};Ge.prototype.ie=null;var Ke,Qe=function(t){return t.ie||(t.ie=t.Cd())},Xe=function(){};_(Xe,Ge),Xe.prototype.sc=function(){var t=Ze(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xe.prototype.Cd=function(){var t={};return Ze(this)&&(t[0]=!0,t[1]=!0),t};var Ze=function(t){if(!t.De&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.De=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.De};Ke=new Xe;var Ye=function(){};_(Ye,Ge),Ye.prototype.sc=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Je;throw Error("Unsupported browser")},Ye.prototype.Cd=function(){return{}};var Je=function(){this.oa=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.oa.onload=y(this.If,this),this.oa.onerror=y(this.ye,this),this.oa.onprogress=y(this.Jf,this),this.oa.ontimeout=y(this.Kf,this)};t=Je.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.oa.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.oa.send(t)}else this.oa.send()},t.abort=function(){this.oa.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.oa.contentType:""},t.If=function(){this.status=200,this.responseText=this.oa.responseText,$e(this,4)},t.ye=function(){this.status=500,this.responseText="",$e(this,4)},t.Kf=function(){this.ye()},t.Jf=function(){this.status=200,$e(this,1)};var $e=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()};Je.prototype.getAllResponseHeaders=function(){return"content-type: "+this.oa.contentType};var tn=function(t,e,n){this.Vf=n,this.tf=t,this.kg=e,this.Ic=0,this.xc=null};tn.prototype.get=function(){if(0<this.Ic){this.Ic--;var t=this.xc;this.xc=t.next,t.next=null}else t=this.tf();return t},tn.prototype.put=function(t){this.kg(t),this.Ic<this.Vf&&(this.Ic++,t.next=this.xc,this.xc=t)};var en,nn=function(t){r.setTimeout(function(){throw t},0)},rn=function(){var t=r.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(o(n.next)){n=n.next;var t=n.me;n.me=null,t()}},function(t){i.next={me:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){r.setTimeout(t,0)}},on=function(){this.cd=this.hb=null},an=new tn(function(){return new sn},function(t){t.reset()},100);on.prototype.add=function(t,e){var n=an.get();n.set(t,e),this.cd?this.cd.next=n:(N(!this.hb),this.hb=n),this.cd=n},on.prototype.remove=function(){var t=null;return this.hb&&(t=this.hb,this.hb=this.hb.next,this.hb||(this.cd=null),t.next=null),t};var sn=function(){this.next=this.scope=this.rd=null};sn.prototype.set=function(t,e){this.rd=t,this.scope=e,this.next=null},sn.prototype.reset=function(){this.next=this.scope=this.rd=null};var un,cn=function(t,e){un||ln(),hn||(un(),hn=!0),pn.add(t,e)},ln=function(){if(-1!=String(r.Promise).indexOf("[native code]")){var t=r.Promise.resolve(void 0);un=function(){t.then(fn)}}else un=function(){var t=fn;!p(r.setImmediate)||r.Window&&r.Window.prototype&&!ft("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(en||(en=rn()),en(t)):r.setImmediate(t)}},hn=!1,pn=new on,fn=function(){for(var t;t=pn.remove();){try{t.rd.call(t.scope)}catch(t){nn(t)}an.put(t)}hn=!1},dn=function(t){return f(t)?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):void 0===t?"undefined":null===t?"null":typeof t},mn=function(t){return(t=t&&t.ownerDocument)&&(t.defaultView||t.parentWindow)||r},yn=!Pt||9<=Number(Lt);!At&&!Pt||Pt&&9<=Number(Lt)||At&&jt("1.9.1"),Pt&&jt("9");var gn=function(){this.xa="",this.ef=_n};gn.prototype.qb=!0,gn.prototype.ob=function(){return this.xa},gn.prototype.toString=function(){return"SafeHtml{"+this.xa+"}"};var vn=function(t){return t instanceof gn&&t.constructor===gn&&t.ef===_n?t.xa:(L("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")},_n={};gn.prototype.Qf=function(t){return this.xa=t,this};var bn=function(t,e){var n=mn(t);void 0!==n.HTMLScriptElement&&void 0!==n.Element&&N(t&&(t instanceof n.HTMLScriptElement||!(t instanceof n.Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",dn(t)),t.src=G(e)},wn=function(t){var e=document;return i(t)?e.getElementById(t):t},xn=function(t,e){dt(e,function(e,n){e&&e.qb&&(e=e.ob()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Cn.hasOwnProperty(n)?t.setAttribute(Cn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},Cn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},En=function(t,e,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!yn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',C(s.name),'"'),s.type){a.push(' type="',C(s.type),'"');var u={};xt(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:l(s)?a.className=s.join(" "):xn(a,s)),2<r.length&&Sn(o,a,r),a},Sn=function(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!h(a)||f(a)&&0<a.nodeType?r(a):$(Tn(a)?ct(a):a,r)}},Tn=function(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1},Pn=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},On=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},In=function(t,e){if(this.aa=0,this.za=void 0,this.kb=this.ua=this.w=null,this.vc=this.pd=!1,t!=s)try{var n=this;t.call(e,function(t){Un(n,2,t)},function(t){if(!(t instanceof Yn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Un(n,3,t)})}catch(t){Un(this,3,t)}},An=function(){this.next=this.context=this.tb=this.Ua=this.child=null,this.Hb=!1};An.prototype.reset=function(){this.context=this.tb=this.Ua=this.child=null,this.Hb=!1};var kn=new tn(function(){return new An},function(t){t.reset()},100),Dn=function(t,e,n){var r=kn.get();return r.Ua=t,r.tb=e,r.context=n,r},Rn=function(t){if(t instanceof In)return t;var e=new In(s);return Un(e,2,t),e},Mn=function(t){return new In(function(e,n){n(t)})},Nn=function(t,e,n){qn(t,e,n,null)||cn(g(e,t))},Ln=function(t){return new In(function(e,n){var r=t.length,o=[];if(r)for(var i,a=function(t,n){r--,o[t]=n,0==r&&e(o)},s=function(t){n(t)},u=0;u<t.length;u++)i=t[u],Nn(i,g(a,u),s);else e(o)})},Fn=function(t){return new In(function(e){var n=t.length,r=[];if(n)for(var o,i=function(t,o,i){n--,r[t]=o?{Df:!0,value:i}:{Df:!1,reason:i},0==n&&e(r)},a=0;a<t.length;a++)o=t[a],Nn(o,g(i,a,!0),g(i,a,!1));else e(r)})};In.prototype.then=function(t,e,n){return null!=t&&j(t,"opt_onFulfilled should be a function."),null!=e&&j(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Bn(this,p(t)?t:null,p(e)?e:null,n)},Pn(In);var Vn=function(t,e){return e=Dn(e,e,void 0),e.Hb=!0,zn(t,e),t};In.prototype.g=function(t,e){return Bn(this,null,t,e)},In.prototype.cancel=function(t){0==this.aa&&cn(function(){var e=new Yn(t);jn(this,e)},this)};var jn=function(t,e){if(0==t.aa)if(t.w){var n=t.w;if(n.ua){for(var r=0,o=null,i=null,a=n.ua;a&&(a.Hb||(r++,a.child==t&&(o=a),!(o&&1<r)));a=a.next)o||(i=a);o&&(0==n.aa&&1==r?jn(n,e):(i?(r=i,N(n.ua),N(null!=r),r.next==n.kb&&(n.kb=r),r.next=r.next.next):Gn(n),Kn(n,o,3,e)))}t.w=null}else Un(t,3,e)},zn=function(t,e){t.ua||2!=t.aa&&3!=t.aa||Hn(t),N(null!=e.Ua),t.kb?t.kb.next=e:t.ua=e,t.kb=e},Bn=function(t,e,n,r){var i=Dn(null,null,null);return i.child=new In(function(t,a){i.Ua=e?function(n){try{var o=e.call(r,n);t(o)}catch(t){a(t)}}:t,i.tb=n?function(e){try{var i=n.call(r,e);!o(i)&&e instanceof Yn?a(e):t(i)}catch(t){a(t)}}:a}),i.child.w=t,zn(t,i),i.child};In.prototype.yg=function(t){N(1==this.aa),this.aa=0,Un(this,2,t)},In.prototype.zg=function(t){N(1==this.aa),this.aa=0,Un(this,3,t)};var Un=function(t,e,n){0==t.aa&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.aa=1,qn(n,t.yg,t.zg,t)||(t.za=n,t.aa=e,t.w=null,Hn(t),3!=e||n instanceof Yn||Xn(t,n)))},qn=function(t,e,n,r){if(t instanceof In)return null!=e&&j(e,"opt_onFulfilled should be a function."),null!=n&&j(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),zn(t,Dn(e||s,n||null,r)),!0;if(On(t))return t.then(e,n,r),!0;if(f(t))try{var o=t.then;if(p(o))return Wn(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1},Wn=function(t,e,n,r,o){var i=!1,a=function(t){i||(i=!0,n.call(o,t))},s=function(t){i||(i=!0,r.call(o,t))};try{e.call(t,a,s)}catch(t){s(t)}},Hn=function(t){t.pd||(t.pd=!0,cn(t.yf,t))},Gn=function(t){var e=null;return t.ua&&(e=t.ua,t.ua=e.next,e.next=null),t.ua||(t.kb=null),null!=e&&N(null!=e.Ua),e};In.prototype.yf=function(){for(var t;t=Gn(this);)Kn(this,t,this.aa,this.za);this.pd=!1};var Kn=function(t,e,n,r){if(3==n&&e.tb&&!e.Hb)for(;t&&t.vc;t=t.w)t.vc=!1;if(e.child)e.child.w=null,Qn(e,n,r);else try{e.Hb?e.Ua.call(e.context):Qn(e,n,r)}catch(t){Zn.call(null,t)}kn.put(e)},Qn=function(t,e,n){2==e?t.Ua.call(t.context,n):t.tb&&t.tb.call(t.context,n)},Xn=function(t,e){t.vc=!0,cn(function(){t.vc&&Zn.call(null,e)})},Zn=nn,Yn=function(t){b.call(this,t)};_(Yn,b),Yn.prototype.name="cancel";var Jn=function(t,e){this.Rc=[],this.Le=t,this.qe=e||null,this.Pb=this.nb=!1,this.za=void 0,this.ae=this.ge=this.gd=!1,this.Zc=0,this.w=null,this.hd=0};Jn.prototype.cancel=function(t){if(this.nb)this.za instanceof Jn&&this.za.cancel();else{if(this.w){var e=this.w;delete this.w,t?e.cancel(t):0>=--e.hd&&e.cancel()}this.Le?this.Le.call(this.qe,this):this.ae=!0,this.nb||er(this,new ur)}},Jn.prototype.oe=function(t,e){this.gd=!1,$n(this,t,e)};var $n=function(t,e,n){t.nb=!0,t.za=n,t.Pb=!e,ar(t)},tr=function(t){if(t.nb){if(!t.ae)throw new sr;t.ae=!1}};Jn.prototype.callback=function(t){tr(this),nr(t),$n(this,!0,t)};var er=function(t,e){tr(t),nr(e),$n(t,!1,e)},nr=function(t){N(!(t instanceof Jn),"An execution sequence may not be initiated with a blocking Deferred.")},rr=function(t,e){or(t,null,e,void 0)},or=function(t,e,n,r){N(!t.ge,"Blocking Deferreds can not be re-used"),t.Rc.push([e,n,r]),t.nb&&ar(t)};Jn.prototype.then=function(t,e,n){var r,o,i=new In(function(t,e){r=t,o=e});return or(this,r,function(t){t instanceof ur?i.cancel():o(t)}),i.then(t,e,n)},Pn(Jn);var ir=function(t){return nt(t.Rc,function(t){return p(t[1])})},ar=function(t){if(t.Zc&&t.nb&&ir(t)){var e=t.Zc,n=lr[e];n&&(r.clearTimeout(n.Qb),delete lr[e]),t.Zc=0}t.w&&(t.w.hd--,delete t.w),e=t.za;for(var i=n=!1;t.Rc.length&&!t.gd;){var a=t.Rc.shift(),s=a[0],u=a[1];if(a=a[2],s=t.Pb?u:s)try{var c=s.call(a||t.qe,e);o(c)&&(t.Pb=t.Pb&&(c==e||c instanceof Error),t.za=e=c),(On(e)||"function"==typeof r.Promise&&e instanceof r.Promise)&&(i=!0,t.gd=!0)}catch(r){e=r,t.Pb=!0,ir(t)||(n=!0)}}t.za=e,i&&(c=y(t.oe,t,!0),i=y(t.oe,t,!1),e instanceof Jn?(or(e,c,i),e.ge=!0):e.then(c,i)),n&&(e=new cr(e),lr[e.Qb]=e,t.Zc=e.Qb)},sr=function(){b.call(this)};_(sr,b),sr.prototype.message="Deferred has already fired",sr.prototype.name="AlreadyCalledError";var ur=function(){b.call(this)};_(ur,b),ur.prototype.message="Deferred was canceled",ur.prototype.name="CanceledError";var cr=function(t){this.Qb=r.setTimeout(y(this.xg,this),0),this.ba=t};cr.prototype.xg=function(){throw N(lr[this.Qb],"Cannot throw an error that is not scheduled."),delete lr[this.Qb],this.ba};var lr={},hr=function(t){var e={},n=e.document||document,r=G(t),o=document.createElement("SCRIPT"),i={Te:o,jc:void 0},a=new Jn(fr,i),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){dr(o,!0),er(a,new mr(1,"Timeout reached for loading script "+r))},u),i.jc=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(dr(o,e.Og||!1,s),a.callback(null))},o.onerror=function(){dr(o,!0,s),er(a,new mr(0,"Error while loading script "+r))},i=e.attributes||{},xt(i,{type:"text/javascript",charset:"UTF-8"}),xn(o,i),bn(o,t),pr(n).appendChild(o),a},pr=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},fr=function(){if(this&&this.Te){var t=this.Te;t&&"SCRIPT"==t.tagName&&dr(t,!0,this.jc)}},dr=function(t,e,n){null!=n&&r.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},mr=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),b.call(this,n),this.code=t};_(mr,b);var yr=function(t,e,n,r,o){this.reset(t,e,n,r,o)};yr.prototype.se=null;var gr=0;yr.prototype.reset=function(t,e,n,r,o){"number"==typeof o||gr++,r||v(),this.Vb=t,this.Zf=e,delete this.se},yr.prototype.Ue=function(t){this.Vb=t};var vr=function(t){this.Je=t,this.ze=this.kd=this.Vb=this.w=null},_r=function(t,e){this.name=t,this.value=e};_r.prototype.toString=function(){return this.name};var br=new _r("SEVERE",1e3),wr=new _r("INFO",800),xr=new _r("CONFIG",700),Cr=new _r("FINE",500);vr.prototype.getName=function(){return this.Je},vr.prototype.getParent=function(){return this.w},vr.prototype.Ue=function(t){this.Vb=t};var Er=function(t){return t.Vb?t.Vb:t.w?Er(t.w):(L("Root logger has no level set."),null)};vr.prototype.log=function(t,e,n){if(t.value>=Er(this).value)for(p(e)&&(e=e()),t=new yr(t,String(e),this.Je),n&&(t.se=n),n="log:"+t.Zf,(e=r.console)&&e.timeStamp&&e.timeStamp(n),(e=r.msWriteProfilerMark)&&e(n),n=this;n;){var o=n,i=t;if(o.ze)for(var a=0;e=o.ze[a];a++)e(i);n=n.getParent()}},vr.prototype.info=function(t,e){this.log(wr,t,e)},vr.prototype.config=function(t,e){this.log(xr,t,e)};var Sr={},Tr=null,Pr=function(t){Tr||(Tr=new vr(""),Sr[""]=Tr,Tr.Ue(xr));var e;if(!(e=Sr[t])){e=new vr(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Pr(t.substr(0,n)),n.kd||(n.kd={}),n.kd[r]=e,e.w=n,Sr[t]=e}return e},Or=function(){re.call(this),this.ga=new de(this),this.kf=this,this.Kd=null};_(Or,re),Or.prototype[le]=!0,t=Or.prototype,t.addEventListener=function(t,e,n,r){be(this,t,e,n,r)},t.removeEventListener=function(t,e,n,r){Ee(this,t,e,n,r)},t.dispatchEvent=function(t){kr(this);var e=this.Kd;if(e)for(var n=[],r=1;e;e=e.Kd)n.push(e),N(1e3>++r,"infinite loop");if(e=this.kf,r=t.type||t,i(t))t=new se(t,e);else if(t instanceof se)t.target=t.target||e;else{var o=t;t=new se(r,e),xt(t,o)}if(o=!0,n)for(var a=n.length-1;!t.Wa&&0<=a;a--){var s=t.currentTarget=n[a];o=Ar(s,r,!0,t)&&o}if(t.Wa||(s=t.currentTarget=e,o=Ar(s,r,!0,t)&&o,t.Wa||(o=Ar(s,r,!1,t)&&o)),n)for(a=0;!t.Wa&&a<n.length;a++)s=t.currentTarget=n[a],o=Ar(s,r,!1,t)&&o;return o},t.lb=function(){if(Or.Vc.lb.call(this),this.ga){var t,e=this.ga,n=0;for(t in e.I){for(var r=e.I[t],o=0;o<r.length;o++)++n,fe(r[o]);delete e.I[t],e.kc--}}this.Kd=null},t.listen=function(t,e,n,r){return kr(this),this.ga.add(String(t),e,!1,n,r)};var Ir=function(t,e,n,r,o){t.ga.add(String(e),n,!0,r,o)},Ar=function(t,e,n,r){if(!(e=t.ga.I[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.Bb&&a.capture==n){var s=a.listener,u=a.wc||a.src;a.qc&&me(t.ga,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Se};Or.prototype.td=function(t,e,n,r){return this.ga.td(String(t),e,n,r)},Or.prototype.hasListener=function(t,e){return this.ga.hasListener(o(t)?String(t):void 0,e)};var kr=function(t){N(t.ga,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Dr="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Rr=function(){};Rr.prototype.next=function(){throw Dr},Rr.prototype.jf=function(){return this};var Mr=function(t,e){t&&t.log(Cr,e,void 0)},Nr=function(t,e){this.ja={},this.B=[],this.gb=this.u=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)};t=Nr.prototype,t.ha=function(){Lr(this);for(var t=[],e=0;e<this.B.length;e++)t.push(this.ja[this.B[e]]);return t},t.va=function(){return Lr(this),this.B.concat()},t.Jb=function(t){return Fr(this.ja,t)},t.clear=function(){this.ja={},this.gb=this.u=this.B.length=0},t.remove=function(t){return!!Fr(this.ja,t)&&(delete this.ja[t],this.u--,this.gb++,this.B.length>2*this.u&&Lr(this),!0)};var Lr=function(t){if(t.u!=t.B.length){for(var e=0,n=0;e<t.B.length;){var r=t.B[e];Fr(t.ja,r)&&(t.B[n++]=r),e++}t.B.length=n}if(t.u!=t.B.length){var o={};for(n=e=0;e<t.B.length;)r=t.B[e],Fr(o,r)||(t.B[n++]=r,o[r]=1),e++;t.B.length=n}};t=Nr.prototype,t.get=function(t,e){return Fr(this.ja,t)?this.ja[t]:e},t.set=function(t,e){Fr(this.ja,t)||(this.u++,this.B.push(t),this.gb++),this.ja[t]=e},t.addAll=function(t){if(t instanceof Nr){var e=t.va();t=t.ha()}else e=gt(t),t=yt(t);for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.va(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}},t.clone=function(){return new Nr(this)},t.jf=function(t){Lr(this);var e=0,n=this.gb,r=this,o=new Rr;return o.next=function(){if(n!=r.gb)throw Error("The map has changed since the iterator was created");if(e>=r.B.length)throw Dr;var o=r.B[e++];return t?o:r.ja[o]},o};var Fr=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Vr=function(t){if(t.ha&&"function"==typeof t.ha)return t.ha();if(i(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return yt(t)},jr=function(t){if(t.va&&"function"==typeof t.va)return t.va();if(!t.ha||"function"!=typeof t.ha){if(h(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return gt(t)}},zr=function(t,e,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,n);else if(h(t)||i(t))$(t,e,n);else for(var r=jr(t),o=Vr(t),a=o.length,s=0;s<a;s++)e.call(n,o[s],r&&r[s],t)},Br=function(t,e,n){if(p(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)},Ur=function(t){var e=null;return new In(function(n,r){-1==(e=Br(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).g(function(t){throw r.clearTimeout(e),t})},qr=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Wr=function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Hr=function(t){Or.call(this),this.headers=new Nr,this.ed=t||null,this.Ca=!1,this.dd=this.b=null,this.Ub=this.Ie=this.Fc="",this.Qa=this.zd=this.Ac=this.od=!1,this.Db=0,this.Wc=null,this.Pc="",this.$c=this.fg=this.df=!1};_(Hr,Or);var Gr=Hr.prototype,Kr=Pr("goog.net.XhrIo");Gr.R=Kr;var Qr=/^https?$/i,Xr=["POST","PUT"];Hr.prototype.send=function(t,e,n,o){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fc+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Fc=t,this.Ub="",this.Ie=e,this.od=!1,this.Ca=!0,this.b=this.ed?this.ed.sc():Ke.sc(),this.dd=Qe(this.ed?this.ed:Ke),this.b.onreadystatechange=y(this.Pe,this),this.fg&&"onprogress"in this.b&&(this.b.onprogress=y(function(t){this.Oe(t,!0)},this),this.b.upload&&(this.b.upload.onprogress=y(this.Oe,this)));try{Mr(this.R,ao(this,"Opening Xhr")),this.zd=!0,this.b.open(e,String(t),!0),this.zd=!1}catch(t){return Mr(this.R,ao(this,"Error opening Xhr: "+t.message)),void this.ba(5,t)}t=n||"";var i=this.headers.clone();o&&zr(o,function(t,e){i.set(e,t)}),o=rt(i.va()),n=r.FormData&&t instanceof r.FormData,!ot(Xr,e)||o||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.b.setRequestHeader(e,t)},this),this.Pc&&(this.b.responseType=this.Pc),"withCredentials"in this.b&&this.b.withCredentials!==this.df&&(this.b.withCredentials=this.df);try{no(this),0<this.Db&&(this.$c=Zr(this.b),Mr(this.R,ao(this,"Will abort after "+this.Db+"ms if incomplete, xhr2 "+this.$c)),this.$c?(this.b.timeout=this.Db,this.b.ontimeout=y(this.jc,this)):this.Wc=Br(this.jc,this.Db,this)),Mr(this.R,ao(this,"Sending request")),this.Ac=!0,this.b.send(t),this.Ac=!1}catch(t){Mr(this.R,ao(this,"Send error: "+t.message)),this.ba(5,t)}};var Zr=function(t){return Pt&&jt(9)&&"number"==typeof t.timeout&&o(t.ontimeout)},Yr=function(t){return"content-type"==t.toLowerCase()};Hr.prototype.jc=function(){void 0!==n&&this.b&&(this.Ub="Timed out after "+this.Db+"ms, aborting",Mr(this.R,ao(this,this.Ub)),this.dispatchEvent("timeout"),this.abort(8))},Hr.prototype.ba=function(t,e){this.Ca=!1,this.b&&(this.Qa=!0,this.b.abort(),this.Qa=!1),this.Ub=e,Jr(this),eo(this)};var Jr=function(t){t.od||(t.od=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};Hr.prototype.abort=function(){this.b&&this.Ca&&(Mr(this.R,ao(this,"Aborting")),this.Ca=!1,this.Qa=!0,this.b.abort(),this.Qa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),eo(this))},Hr.prototype.lb=function(){this.b&&(this.Ca&&(this.Ca=!1,this.Qa=!0,this.b.abort(),this.Qa=!1),eo(this,!0)),Hr.Vc.lb.call(this)},Hr.prototype.Pe=function(){this.isDisposed()||(this.zd||this.Ac||this.Qa?$r(this):this.bg())},Hr.prototype.bg=function(){$r(this)};var $r=function(t){if(t.Ca&&void 0!==n)if(t.dd[1]&&4==ro(t)&&2==oo(t))Mr(t.R,ao(t,"Local request error detected and ignored"));else if(t.Ac&&4==ro(t))Br(t.Pe,0,t);else if(t.dispatchEvent("readystatechange"),4==ro(t)){Mr(t.R,ao(t,"Request complete")),t.Ca=!1;try{var e=oo(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}var i;if(!(i=o)){var a;if(a=0===e){var s=String(t.Fc).match(qr)[1]||null;if(!s&&r.self&&r.self.location){var u=r.self.location.protocol;s=u.substr(0,u.length-1)}a=!Qr.test(s?s.toLowerCase():"")}i=a}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ro(t)?t.b.statusText:""}catch(e){Mr(t.R,"Can not get status: "+e.message),c=""}t.Ub=c+" ["+oo(t)+"]",Jr(t)}}finally{eo(t)}}};Hr.prototype.Oe=function(t,e){N("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(to(t,"progress")),this.dispatchEvent(to(t,e?"downloadprogress":"uploadprogress"))};var to=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},eo=function(t,e){if(t.b){no(t);var n=t.b,r=t.dd[0]?s:null;t.b=null,t.dd=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.R)&&t.log(br,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},no=function(t){t.b&&t.$c&&(t.b.ontimeout=null),t.Wc&&(r.clearTimeout(t.Wc),t.Wc=null)},ro=function(t){return t.b?t.b.readyState:0},oo=function(t){try{return 2<ro(t)?t.b.status:-1}catch(t){return-1}},io=function(t){try{return t.b?t.b.responseText:""}catch(e){return Mr(t.R,"Can not get responseText: "+e.message),""}};Hr.prototype.getResponse=function(){try{if(!this.b)return null;if("response"in this.b)return this.b.response;switch(this.Pc){case"":case"text":return this.b.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.b)return this.b.mozResponseArrayBuffer}var t=this.R;return t&&t.log(br,"Response type "+this.Pc+" is not supported on this browser",void 0),null}catch(t){return Mr(this.R,"Can not get response: "+t.message),null}},Hr.prototype.getResponseHeader=function(t){if(this.b&&4==ro(this))return t=this.b.getResponseHeader(t),null===t?void 0:t},Hr.prototype.getAllResponseHeaders=function(){return this.b&&4==ro(this)?this.b.getAllResponseHeaders():""};var ao=function(t,e){return e+" ["+t.Ie+" "+t.Fc+" "+oo(t)+"]"},so=function(t,e){if(this.pa=this.eb=this.qa="",this.vb=null,this.Pa=this.Ga="",this.da=this.Uf=!1,t instanceof so){this.da=o(e)?e:t.da,uo(this,t.qa);var n=t.eb;yo(this),this.eb=n,co(this,t.pa),lo(this,t.vb),ho(this,t.Ga),po(this,t.ea.clone()),t=t.Pa,yo(this),this.Pa=t}else t&&(n=String(t).match(qr))?(this.da=!!e,uo(this,n[1]||"",!0),t=n[2]||"",yo(this),this.eb=_o(t),co(this,n[3]||"",!0),lo(this,n[4]),ho(this,n[5]||"",!0),po(this,n[6]||"",!0),t=n[7]||"",yo(this),this.Pa=_o(t)):(this.da=!!e,this.ea=new Po(null,0,this.da))};so.prototype.toString=function(){var t=[],e=this.qa;e&&t.push(bo(e,xo,!0),":");var n=this.pa;return(n||"file"==e)&&(t.push("//"),(e=this.eb)&&t.push(bo(e,xo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.vb)&&t.push(":",String(n))),(n=this.Ga)&&(this.pa&&"/"!=n.charAt(0)&&t.push("/"),t.push(bo(n,"/"==n.charAt(0)?Eo:Co,!0))),(n=this.ea.toString())&&t.push("?",n),(n=this.Pa)&&t.push("#",bo(n,To)),t.join("")},so.prototype.resolve=function(t){var e=this.clone(),n=!!t.qa;if(n?uo(e,t.qa):n=!!t.eb,n){var r=t.eb;yo(e),e.eb=r}else n=!!t.pa;if(n?co(e,t.pa):n=null!=t.vb,r=t.Ga,n)lo(e,t.vb);else if(n=!!t.Ga){if("/"!=r.charAt(0))if(this.pa&&!this.Ga)r="/"+r;else{var o=e.Ga.lastIndexOf("/");-1!=o&&(r=e.Ga.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(k(o,"./")||k(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?ho(e,r):n=""!==t.ea.toString(),n?po(e,t.ea.clone()):n=!!t.Pa,n&&(t=t.Pa,yo(e),e.Pa=t),e},so.prototype.clone=function(){return new so(this)};var uo=function(t,e,n){yo(t),t.qa=n?_o(e,!0):e,t.qa&&(t.qa=t.qa.replace(/:$/,""))},co=function(t,e,n){yo(t),t.pa=n?_o(e,!0):e},lo=function(t,e){if(yo(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.vb=e}else t.vb=null},ho=function(t,e,n){yo(t),t.Ga=n?_o(e,!0):e},po=function(t,e,n){yo(t),e instanceof Po?(t.ea=e,t.ea.Zd(t.da)):(n||(e=bo(e,So)),t.ea=new Po(e,0,t.da))},fo=function(t,e,n){yo(t),t.ea.set(e,n)},mo=function(t,e){return t.ea.get(e)};so.prototype.removeParameter=function(t){return yo(this),this.ea.remove(t),this};var yo=function(t){if(t.Uf)throw Error("Tried to modify a read-only Uri")};so.prototype.Zd=function(t){return this.da=t,this.ea&&this.ea.Zd(t),this};var go=function(t){return t instanceof so?t.clone():new so(t,void 0)},vo=function(t,e){var n=new so(null,void 0);return uo(n,"https"),t&&co(n,t),e&&ho(n,e),n},_o=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},bo=function(t,e,n){return i(t)?(t=encodeURI(t).replace(e,wo),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},wo=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},xo=/[#\/\?@]/g,Co=/[\#\?:]/g,Eo=/[\#\?]/g,So=/[\#\?@]/g,To=/#/g,Po=function(t,e,n){this.u=this.s=null,this.V=t||null,this.da=!!n},Oo=function(t){t.s||(t.s=new Nr,t.u=0,t.V&&Wr(t.V,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},Io=function(t){var e=jr(t);if(void 0===e)throw Error("Keys are undefined");var n=new Po(null,0,void 0);t=Vr(t);for(var r=0;r<e.length;r++){var o=e[r],i=t[r];l(i)?Ao(n,o,i):n.add(o,i)}return n};t=Po.prototype,t.add=function(t,e){Oo(this),this.V=null,t=this.ca(t);var n=this.s.get(t);return n||this.s.set(t,n=[]),n.push(e),this.u=F(this.u)+1,this},t.remove=function(t){return Oo(this),t=this.ca(t),!!this.s.Jb(t)&&(this.V=null,this.u=F(this.u)-this.s.get(t).length,this.s.remove(t))},t.clear=function(){this.s=this.V=null,this.u=0},t.Jb=function(t){return Oo(this),t=this.ca(t),this.s.Jb(t)},t.forEach=function(t,e){Oo(this),this.s.forEach(function(n,r){$(n,function(n){t.call(e,n,r,this)},this)},this)},t.va=function(){Oo(this);for(var t=this.s.ha(),e=this.s.va(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},t.ha=function(t){Oo(this);var e=[];if(i(t))this.Jb(t)&&(e=ut(e,this.s.get(this.ca(t))));else{t=this.s.ha();for(var n=0;n<t.length;n++)e=ut(e,t[n])}return e},t.set=function(t,e){return Oo(this),this.V=null,t=this.ca(t),this.Jb(t)&&(this.u=F(this.u)-this.s.get(t).length),this.s.set(t,[e]),this.u=F(this.u)+1,this},t.get=function(t,e){return t=t?this.ha(t):[],0<t.length?String(t[0]):e};var Ao=function(t,e,n){t.remove(e),0<n.length&&(t.V=null,t.s.set(t.ca(e),ct(n)),t.u=F(t.u)+n.length)};t=Po.prototype,t.toString=function(){if(this.V)return this.V;if(!this.s)return"";for(var t=[],e=this.s.va(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.ha(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.V=t.join("&")},t.clone=function(){var t=new Po;return t.V=this.V,this.s&&(t.s=this.s.clone(),t.u=this.u),t},t.ca=function(t){return t=String(t),this.da&&(t=t.toLowerCase()),t},t.Zd=function(t){t&&!this.da&&(Oo(this),this.V=null,this.s.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),Ao(this,n,t))},this)),this.da=t},t.extend=function(t){for(var e=0;e<arguments.length;e++)zr(arguments[e],function(t,e){this.add(e,t)},this)};var ko,Do={Jg:{qd:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Vd:"https://securetoken.googleapis.com/v1/token",id:"p"},Kg:{qd:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Vd:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Lg:{qd:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Vd:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}},Ro=function(t){for(var e in Do)if(Do[e].id===t)return t=Do[e],{firebaseEndpoint:t.qd,secureTokenEndpoint:t.Vd};return null};ko=Ro("__EID__")?"__EID__":void 0;var Mo=function(){var t=$o();return Pt&&!!Lt&&11==Lt||/Edge\/\d+/.test(t)},No=function(){return r.window&&r.window.location.href||""},Lo=function(t,e){e=e||r.window;var n="about:blank";t&&(n=Ne(Fe(t))),e.location.href=n},Fo=function(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):l(t[n])?_t(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Fo(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r},Vo=function(){var t=$o();return!((t="Chrome"!=Zo(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Pt||!Lt||9<Lt)},jo=function(t){return t=(t||$o()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},zo=function(t){t=t||r.window;try{t.close()}catch(t){}},Bo=function(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=$o().toLowerCase(),r&&(e.target=r,k(n,"crios/")&&(e.target="_blank")),"Firefox"==Zo($o())&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(r=e)||(r={}),t=window,e=n instanceof Me?n:Fe(void 0!==n.href?n.href:String(n)),n=r.target||n.target,o=[];for(a in r)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:o.push(a+"="+(r[a]?1:0))}var a=o.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(a=t.document.createElement("A"),o=mn(a),void 0!==o.HTMLAnchorElement&&void 0!==o.Location&&void 0!==o.Element&&N(a&&(a instanceof o.HTMLAnchorElement||!(a instanceof o.Location||a instanceof o.Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",dn(a)),e instanceof Me||e instanceof Me||(e=e.qb?e.ob():String(e),N(Le.test(e))||(e="about:invalid#zClosurez"),e=je(e)),a.href=Ne(e),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,t,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=t.open("",n,a),r=Ne(e),a&&(It&&k(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),a.opener=null,t=q("b/12014412, meta tag with sanitized URL"),r='<META HTTP-EQUIV="refresh" content="0; url='+C(r)+'">',V(B(t),"must provide justification"),N(!/^[\s\xa0]*$/.test(B(t)),"must provide non-empty justification"),a.document.write(vn((new gn).Qf(r))),a.document.close())):a=t.open(Ne(e),n,a),a)try{a.focus()}catch(t){}return a},Uo=function(t){return new In(function(e){var n=function(){Ur(2e3).then(function(){if(t&&!t.closed)return n();e()})};return n()})},qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=function(){var t=null;return new In(function(e){"complete"==r.document.readyState?e():(t=function(){e()},Ce(window,"load",t))}).g(function(e){throw Ee(window,"load",t),e})},Ho=function(){return Go(void 0)?Wo().then(function(){return new In(function(t,e){var n=r.document,o=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(o),t()},!1)})}):Mn(Error("Cordova must run in an Android or iOS file scheme."))},Go=function(t){return t=t||$o(),!("file:"!==oi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},Ko=function(){var t=r.window;try{return!(!t||t==t.top)}catch(t){return!1}},Qo=function(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Xo=function(){var t=Qo();return"ReactNative"===t||"Node"===t},Zo=function(t){var e=t.toLowerCase();return k(e,"opera/")||k(e,"opr/")||k(e,"opios/")?"Opera":k(e,"iemobile")?"IEMobile":k(e,"msie")||k(e,"trident/")?"IE":k(e,"edge/")?"Edge":k(e,"firefox/")?"Firefox":k(e,"silk/")?"Silk":k(e,"blackberry")?"Blackberry":k(e,"webos")?"Webos":!k(e,"safari/")||k(e,"chrome/")||k(e,"crios/")||k(e,"android")?!k(e,"chrome/")&&!k(e,"crios/")||k(e,"edge/")?k(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},Yo={Eg:"FirebaseCore-web",Gg:"FirebaseUI-web"},Jo=function(t,e){e=e||[];var n,r=[],o={};for(n in Yo)o[Yo[n]]=!0;for(n=0;n<e.length;n++)void 0!==o[e[n]]&&(delete o[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Qo(),("Browser"===r?Zo($o()):r)+"/JsCore/"+t+"/"+e.join(",")},$o=function(){return r.navigator&&r.navigator.userAgent||""},ti=function(t,e){t=t.split("."),e=e||r;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e},ei=function(){try{var t=r.localStorage,e=ci();if(t)return t.setItem(e,"1"),t.removeItem(e),!Mo()||!!r.indexedDB}catch(t){}return!1},ni=function(){return(ri()||"chrome-extension:"===oi()||Go())&&!Xo()&&ei()},ri=function(){return"http:"===oi()||"https:"===oi()},oi=function(){return r.location&&r.location.protocol||null},ii=function(t){return t=t||$o(),!jo(t)&&"Firefox"!=Zo(t)},ai=function(t){return void 0===t?null:ze(t)},si=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},ui=function(t){if(null!==t)return JSON.parse(t)},ci=function(t){return t||""+Math.floor(1e9*Math.random()).toString()},li=function(t){return t=t||$o(),"Safari"!=Zo(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},hi=function(){var t=r.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null},pi=function(){var t=r.navigator;return!t||"boolean"!=typeof t.onLine||!ri()&&"chrome-extension:"!==oi()&&void 0===t.connection||t.onLine},fi=function(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.tg=t,this.Yf=e,t=n||$o(),r=r||Qo(),this.Tf=jo(t)||"ReactNative"===r};fi.prototype.get=function(){return this.Tf?this.Yf:this.tg};var di,mi=function(){var t=r.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState},yi=function(){var t=r.document,e=null;return mi()||!t?Rn():new In(function(n){e=function(){mi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).g(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})},gi={};try{var vi={};Object.defineProperty(vi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(vi,"abcd",{configurable:!0,enumerable:!0,value:2}),di=2==vi.abcd}catch(t){di=!1}var _i=function(t,e,n){di?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},bi=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&_i(t,n,e[n])},wi=function(t){var e={};return bi(e,t),e},xi=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},Ci=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0},Ei=function(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)_i(e,n,Ei(t[n]))}return e},Si="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ti=["client_id","response_type","scope","redirect_uri","state"],Pi={Fg:{Ec:"locale",Zb:500,Yb:600,providerId:"facebook.com",Td:Ti},Hg:{Ec:null,Zb:500,Yb:620,providerId:"github.com",Td:Ti},Ig:{Ec:"hl",Zb:515,Yb:680,providerId:"google.com",Td:Ti},Mg:{Ec:"lang",Zb:485,Yb:705,providerId:"twitter.com",Td:Si}},Oi=function(t){for(var e in Pi)if(Pi[e].providerId==t)return Pi[e];return null},Ii=function(t,e){this.code="auth/"+t,this.message=e||ki[t]||""};_(Ii,Error),Ii.prototype.G=function(){return{code:this.code,message:this.message}},Ii.prototype.toJSON=function(){return this.G()};var Ai=function(t){var e=t&&t.code;return e?new Ii(e.substring(5),t.message):null},ki={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Di=function(t,e,n,r,o){if(this.ma=t,this.W=e||null,this.Eb=n||null,this.Xd=r||null,this.ba=o||null,!this.Eb&&!this.ba)throw new Ii("invalid-auth-event");if(this.Eb&&this.ba)throw new Ii("invalid-auth-event");if(this.Eb&&!this.Xd)throw new Ii("invalid-auth-event")};Di.prototype.uc=function(){return this.Xd},Di.prototype.getError=function(){return this.ba},Di.prototype.G=function(){return{type:this.ma,eventId:this.W,urlResponse:this.Eb,sessionId:this.Xd,error:this.ba&&this.ba.G()}};var Ri=function(t){return t=t||{},t.type?new Di(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ai(t.error)):null},Mi=function(t){var e="unauthorized-domain",n=void 0,r=go(t);t=r.pa,r=r.qa,"chrome-extension"==r?n=w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Ii.call(this,e,n)};_(Mi,Ii);var Ni=function(t){this.Wf=t.sub,v(),this.Mb=t.email||null,this.gg=t.provider_id||null,this.mf=!!t.is_anonymous||"anonymous"==this.gg};Ni.prototype.getEmail=function(){return this.Mb},Ni.prototype.isAnonymous=function(){return this.mf};var Li=function(t,e){return t.then(function(t){if(t.idToken){t:{var n=t.idToken.split(".");if(3==n.length){n=n[1];for(var r=(4-n.length%4)%4,o=0;o<r;o++)n+=".";try{var i=JSON.parse(Wt(n));if(i.sub&&i.iss&&i.aud&&i.exp){var a=new Ni(i);break t}}catch(t){}}a=null}if(!a||e!=a.Wf)throw new Ii("user-mismatch");return t}throw new Ii("user-mismatch")}).g(function(t){throw t&&t.code&&"auth/user-not-found"==t.code?new Ii("user-mismatch"):t})},Fi=function(t,e){if(e.idToken||e.accessToken)e.idToken&&_i(this,"idToken",e.idToken),e.accessToken&&_i(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Ii("internal-error","failed to construct a credential");_i(this,"accessToken",e.oauthToken),_i(this,"secret",e.oauthTokenSecret)}_i(this,"providerId",t)};Fi.prototype.Ob=function(t){return Aa(t,Vi(this))},Fi.prototype.Gc=function(t,e){var n=Vi(this);return n.idToken=e,ka(t,n)},Fi.prototype.Gd=function(t,e){var n=Vi(this);return Li(Da(t,n),e)};var Vi=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:Io(e).toString(),requestUri:"http://localhost"}};Fi.prototype.G=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var ji=function(t,e){this.jg=e||[],bi(this,{providerId:t,isOAuthProvider:!0}),this.pe={},this.Ed=(Oi(t)||{}).Ec||null,this.nd=null};ji.prototype.setCustomParameters=function(t){return this.pe=bt(t),this};var zi=function(t){ji.call(this,t,Ti),this.Ud=[]};_(zi,ji),zi.prototype.addScope=function(t){return ot(this.Ud,t)||this.Ud.push(t),this},zi.prototype.xe=function(){return ct(this.Ud)},zi.prototype.credential=function(t,e){if(!t&&!e)throw new Ii("argument-error","credential failed: must provide the ID token and/or the access token.");return new Fi(this.providerId,{idToken:t||null,accessToken:e||null})};var Bi=function(){zi.call(this,"facebook.com")};_(Bi,zi),_i(Bi,"PROVIDER_ID","facebook.com");var Ui=function(t){if(!t)throw new Ii("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new Bi).credential(null,e)},qi=function(){zi.call(this,"github.com")};_(qi,zi),_i(qi,"PROVIDER_ID","github.com");var Wi=function(t){if(!t)throw new Ii("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new qi).credential(null,e)},Hi=function(){zi.call(this,"google.com"),this.addScope("profile")};_(Hi,zi),_i(Hi,"PROVIDER_ID","google.com");var Gi=function(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new Hi).credential(n,e)},Ki=function(){ji.call(this,"twitter.com",Si)};_(Ki,ji),_i(Ki,"PROVIDER_ID","twitter.com");var Qi=function(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Ii("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Fi("twitter.com",n)},Xi=function(t,e){this.Mb=t,this.Ld=e,_i(this,"providerId","password")};Xi.prototype.Ob=function(t){return os(t,ts,{email:this.Mb,password:this.Ld})},Xi.prototype.Gc=function(t,e){return os(t,Qa,{idToken:e,email:this.Mb,password:this.Ld})},Xi.prototype.Gd=function(t,e){return Li(this.Ob(t),e)},Xi.prototype.G=function(){return{email:this.Mb,password:this.Ld}};var Zi=function(){bi(this,{providerId:"password",isOAuthProvider:!1})};bi(Zi,{PROVIDER_ID:"password"});var Yi=function(t){if(!(t.verificationId&&t.ad||t.ic&&t.phoneNumber))throw new Ii("internal-error");this.S=t,_i(this,"providerId","phone")};Yi.prototype.Ob=function(t){return t.verifyPhoneNumber(Ji(this))},Yi.prototype.Gc=function(t,e){var n=Ji(this);return n.idToken=e,os(t,ns,n)},Yi.prototype.Gd=function(t,e){var n=Ji(this);return n.operation="REAUTH",t=os(t,rs,n),Li(t,e)},Yi.prototype.G=function(){var t={providerId:"phone"};return this.S.verificationId&&(t.verificationId=this.S.verificationId),this.S.ad&&(t.verificationCode=this.S.ad),this.S.ic&&(t.temporaryProof=this.S.ic),this.S.phoneNumber&&(t.phoneNumber=this.S.phoneNumber),t};var Ji=function(t){return t.S.ic&&t.S.phoneNumber?{temporaryProof:t.S.ic,phoneNumber:t.S.phoneNumber}:{sessionInfo:t.S.verificationId,code:t.S.ad}},$i=function(t){try{this.qf=t||e.auth()}catch(t){throw new Ii("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}bi(this,{providerId:"phone",isOAuthProvider:!1})};$i.prototype.verifyPhoneNumber=function(t,e){var n=this.qf.f;return Rn(e.verify()).then(function(r){if(!i(r))throw new Ii("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return os(n,Ga,{phoneNumber:t,recaptchaToken:r});default:throw new Ii("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var ta=function(t,e){if(!t)throw new Ii("missing-verification-id");if(!e)throw new Ii("missing-verification-code");return new Yi({verificationId:t,ad:e})};bi($i,{PROVIDER_ID:"phone"});var ea=function(t){if(t.temporaryProof&&t.phoneNumber)return new Yi({ic:t.temporaryProof,phoneNumber:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Gi(t,n);case"facebook.com":return Ui(n);case"github.com":return Wi(n);case"twitter.com":return Qi(n,r);default:return new zi(e).credential(t,n)}}catch(t){return null}},na=function(t){if(!t.isOAuthProvider)throw new Ii("invalid-oauth-provider")},ra=function(t,e,n){Ii.call(this,t,n),t=e||{},t.email&&_i(this,"email",t.email),t.phoneNumber&&_i(this,"phoneNumber",t.phoneNumber),t.credential&&_i(this,"credential",t.credential)};_(ra,Ii),ra.prototype.G=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.G();return e&&xt(t,e),t},ra.prototype.toJSON=function(){return this.G()};var oa=function(t){if(t.code){var e=t.code||"";0==e.indexOf("auth/")&&(e=e.substring(5));var n={credential:ea(t)};if(t.email)n.email=t.email;else{if(!t.phoneNumber)return new Ii(e,t.message||void 0);n.phoneNumber=t.phoneNumber}return new ra(e,n,t.message)}return null},ia=function(t){this.Dg=t};_(ia,Ge),ia.prototype.sc=function(){return new this.Dg},ia.prototype.Cd=function(){return{}};var aa,sa=function(t,n,o){var i="Node"==Qo();if(!(i=r.XMLHttpRequest||i&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest))throw new Ii("internal-error","The XMLHttpRequest compatibility library was not found.");this.m=t,t=n||{},this.pg=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.qg=t.secureTokenTimeout||ua,this.Qc=bt(t.secureTokenHeaders||ca),this.Af=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Bf=t.firebaseTimeout||la,this.mb=bt(t.firebaseHeaders||ha),o&&(this.mb["X-Client-Version"]=o,this.Qc["X-Client-Version"]=o),this.sf=new Ye,this.Cg=new ia(i)},ua=new fi(3e4,6e4),ca={"Content-Type":"application/x-www-form-urlencoded"},la=new fi(3e4,6e4),ha={"Content-Type":"application/json"},pa=function(t,e){e?t.mb["X-Firebase-Locale"]=e:delete t.mb["X-Firebase-Locale"]},fa=function(t,e){e?(t.mb["X-Client-Version"]=e,t.Qc["X-Client-Version"]=e):(delete t.mb["X-Client-Version"],delete t.Qc["X-Client-Version"])},da=function(t,e,n,r,o,i,a){pi()?(Vo()?t=y(t.sg,t):(aa||(aa=new In(function(t,e){ga(t,e)})),t=y(t.rg,t)),t(e,n,r,o,i,a)):n&&n(null)};sa.prototype.sg=function(t,e,n,r,o,i){var a="Node"==Qo(),s=Xo()?a?new Hr(this.Cg):new Hr:new Hr(this.sf);if(i){s.Db=Math.max(0,i);var u=setTimeout(function(){s.dispatchEvent("timeout")},i)}s.listen("complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(io(this))||null}catch(e){t=null}e&&e(t)}),Ir(s,"ready",function(){u&&clearTimeout(u),this.Ma||(this.Ma=!0,this.lb())}),Ir(s,"timeout",function(){u&&clearTimeout(u),this.Ma||(this.Ma=!0,this.lb()),e&&e(null)}),s.send(t,n,r,o)};var ma=q("https://apis.google.com/js/client.js?onload=%{onload}"),ya="__fcb"+Math.floor(1e6*Math.random()).toString(),ga=function(t,e){if(((window.gapi||{}).client||{}).request)t();else{r[ya]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=K(ma,{onload:ya});rr(hr(n),function(){e(Error("CORS_UNSUPPORTED"))})}};sa.prototype.rg=function(t,e,n,r,o){var i=this;aa.then(function(){window.gapi.client.setApiKey(i.m);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).g(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var va=function(t,e){return new In(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?da(t,t.pg+"?key="+encodeURIComponent(t.m),function(t){t?t.error?r(is(t)):t.access_token&&t.refresh_token?n(t):r(new Ii("internal-error")):r(new Ii("network-request-failed"))},"POST",Io(e).toString(),t.Qc,t.qg.get()):r(new Ii("internal-error"))})},_a=function(t,e,n,r,o,i){var a=go(t.Af+e);fo(a,"key",t.m),i&&fo(a,"cb",v().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&fo(a,u,r[u]);return new In(function(e,i){da(t,a.toString(),function(t){t?t.error?i(is(t,o||{})):e(t):i(new Ii("network-request-failed"))},n,s?void 0:ze(si(r)),t.mb,t.Bf.get())})},ba=function(t){if(!Re.test(t.email))throw new Ii("invalid-email")},wa=function(t){"email"in t&&ba(t)},xa=function(t,e){return os(t,Fa,{identifier:e,continueUri:ri()?No():"http://localhost"}).then(function(t){return t.allProviders||[]})},Ca=function(t){return os(t,qa,{}).then(function(t){return t.authorizedDomains||[]})},Ea=function(t){if(!t.idToken)throw new Ii("internal-error")},Sa=function(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Ii("internal-error")}else{if(!t.sessionInfo)throw new Ii("missing-verification-id");if(!t.code)throw new Ii("missing-verification-code")}};sa.prototype.signInAnonymously=function(){return os(this,Xa,{})},sa.prototype.updateEmail=function(t,e){return os(this,Ka,{idToken:t,email:e})},sa.prototype.updatePassword=function(t,e){return os(this,Qa,{idToken:t,password:e})};var Ta={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};sa.prototype.updateProfile=function(t,e){var n={idToken:t},r=[];return dt(Ta,function(t,o){var i=e[o];null===i?r.push(t):o in e&&(n[o]=i)}),r.length&&(n.deleteAttribute=r),os(this,Ka,n)},sa.prototype.sendPasswordResetEmail=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},xt(t,e),os(this,Ua,t)},sa.prototype.sendEmailVerification=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},xt(t,e),os(this,Ba,t)},sa.prototype.verifyPhoneNumber=function(t){return os(this,es,t)};var Pa=function(t,e,n){return os(t,ja,{idToken:e,deleteProvider:n})},Oa=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Ii("internal-error")},Ia=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=oa(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=oa(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=oa(t)),e)throw e;if(!t.idToken)throw new Ii("internal-error")},Aa=function(t,e){return e.returnIdpCredential=!0,os(t,Za,e)},ka=function(t,e){return e.returnIdpCredential=!0,os(t,Ja,e)},Da=function(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,os(t,Ya,e)},Ra=function(t){if(!t.oobCode)throw new Ii("invalid-action-code")};sa.prototype.confirmPasswordReset=function(t,e){return os(this,Ha,{oobCode:t,newPassword:e})},sa.prototype.checkActionCode=function(t){return os(this,Na,{oobCode:t})},sa.prototype.applyActionCode=function(t){return os(this,Ma,{oobCode:t})};var Ma={endpoint:"setAccountInfo",D:Ra,cb:"email"},Na={endpoint:"resetPassword",D:Ra,$:function(t){if(!t.email||!t.requestType)throw new Ii("internal-error")}},La={endpoint:"signupNewUser",D:function(t){if(ba(t),!t.password)throw new Ii("weak-password")},$:Ea,Aa:!0},Fa={endpoint:"createAuthUri"},Va={endpoint:"deleteAccount",ab:["idToken"]},ja={endpoint:"setAccountInfo",ab:["idToken","deleteProvider"],D:function(t){if(!l(t.deleteProvider))throw new Ii("internal-error")}},za={endpoint:"getAccountInfo"},Ba={endpoint:"getOobConfirmationCode",ab:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Ii("internal-error")},cb:"email"},Ua={endpoint:"getOobConfirmationCode",ab:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Ii("internal-error");ba(t)},cb:"email"},qa={he:!0,endpoint:"getProjectConfig",Ce:"GET"},Wa={he:!0,endpoint:"getRecaptchaParam",Ce:"GET",$:function(t){if(!t.recaptchaSiteKey)throw new Ii("internal-error")}},Ha={endpoint:"resetPassword",D:Ra,cb:"email"},Ga={endpoint:"sendVerificationCode",ab:["phoneNumber","recaptchaToken"],cb:"sessionInfo"},Ka={endpoint:"setAccountInfo",ab:["idToken"],D:wa,Aa:!0},Qa={endpoint:"setAccountInfo",ab:["idToken"],D:function(t){if(wa(t),!t.password)throw new Ii("weak-password")},$:Ea,Aa:!0},Xa={endpoint:"signupNewUser",$:Ea,Aa:!0},Za={endpoint:"verifyAssertion",D:Oa,$:Ia,Aa:!0},Ya={endpoint:"verifyAssertion",D:Oa,$:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Ii("user-not-found");if(!t.idToken)throw new Ii("internal-error")},Aa:!0},Ja={endpoint:"verifyAssertion",D:function(t){if(Oa(t),!t.idToken)throw new Ii("internal-error")},$:Ia,Aa:!0},$a={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Ii("invalid-custom-token")},$:Ea,Aa:!0},ts={endpoint:"verifyPassword",D:function(t){if(ba(t),!t.password)throw new Ii("wrong-password")},$:Ea,Aa:!0},es={endpoint:"verifyPhoneNumber",D:Sa,$:Ea},ns={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Ii("internal-error");Sa(t)},$:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",oa(t);Ea(t)}},rs={vf:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Sa,$:Ea},os=function(t,e,n){if(!Ci(n,e.ab))return Mn(new Ii("internal-error"));var r,o=e.Ce||"POST";return Rn(n).then(e.D).then(function(){return e.Aa&&(n.returnSecureToken=!0),_a(t,e.endpoint,o,n,e.vf,e.he||!1)}).then(function(t){return r=t}).then(e.$).then(function(){if(!e.cb)return r;if(!(e.cb in r))throw new Ii("internal-error");return r[e.cb]})},is=function(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Ii(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id"},xt(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var o in r)if(0===n.indexOf(o))return new Ii(r[o],e);return!e&&t&&(e=ai(t)),new Ii("internal-error",e)},as=function(t){this.Ag=t,this.zc=null,this.Id=ss(this)},ss=function(t){return fs().then(function(){return new In(function(e,n){ti("gapi.iframes.getContext")().open({where:document.body,url:t.Ag,messageHandlersFilter:ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){t.zc=r,t.zc.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},hs.get()),i=function(){clearTimeout(o),e()};r.ping(i).then(i,function(){n(Error("Network Error"))})})})})};as.prototype.sendMessage=function(t){var e=this;return this.Id.then(function(){return new In(function(n){e.zc.send(t.type,t,n,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var us=function(t,e){t.Id.then(function(){t.zc.register("authEvent",e,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},cs=q("https://apis.google.com/js/api.js?onload=%{onload}"),ls=new fi(3e4,6e4),hs=new fi(5e3,15e3),ps=null,fs=function(){return ps||(ps=new In(function(t,e){if(pi()){var n=function(){hi(),ti("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){hi(),e(Error("Network Error"))},timeout:ls.get()})};if(ti("gapi.iframes.Iframe"))t();else if(ti("gapi.load"))n();else{var o="__iframefcb"+Math.floor(1e6*Math.random()).toString();r[o]=function(){ti("gapi.load")?n():e(Error("Network Error"))},o=K(cs,{onload:o}),Rn(hr(o)).g(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).g(function(t){throw ps=null,t}))},ds=function(t,e,n){this.A=t,this.m=e,this.o=n,this.fb=null,this.Ba=vo(this.A,"/__/auth/iframe"),fo(this.Ba,"apiKey",this.m),fo(this.Ba,"appName",this.o),this.O=null,this.M=[]};ds.prototype.$d=function(t){return this.fb=t,this},ds.prototype.Yd=function(t){return this.O=t,this},ds.prototype.toString=function(){return this.fb?fo(this.Ba,"v",this.fb):this.Ba.removeParameter("v"),this.O?fo(this.Ba,"eid",this.O):this.Ba.removeParameter("eid"),this.M.length?fo(this.Ba,"fw",this.M.join(",")):this.Ba.removeParameter("fw"),this.Ba.toString()};var ms=function(t,e,n,r,o){this.A=t,this.m=e,this.o=n,this.pf=r,this.fb=this.W=this.Sd=null,this.xb=o,this.O=null};ms.prototype.$d=function(t){return this.fb=t,this},ms.prototype.Yd=function(t){return this.O=t,this},ms.prototype.toString=function(){var t=vo(this.A,"/__/auth/handler");if(fo(t,"apiKey",this.m),fo(t,"appName",this.o),fo(t,"authType",this.pf),this.xb.isOAuthProvider){var n=this.xb;try{var r=e.app(this.o).auth().ia}catch(t){r=null}n.nd=r,fo(t,"providerId",this.xb.providerId),n=this.xb,r=si(n.pe);for(var o in r)r[o]=r[o].toString();o=n.jg,r=bt(r);for(var i=0;i<o.length;i++){var a=o[i];a in r&&delete r[a]}n.Ed&&n.nd&&!r[n.Ed]&&(r[n.Ed]=n.nd),vt(r)||fo(t,"customParameters",ai(r))}if("function"==typeof this.xb.xe&&(n=this.xb.xe(),n.length&&fo(t,"scopes",n.join(","))),this.Sd?fo(t,"redirectUrl",this.Sd):t.removeParameter("redirectUrl"),this.W?fo(t,"eventId",this.W):t.removeParameter("eventId"),this.fb?fo(t,"v",this.fb):t.removeParameter("v"),this.nc)for(var s in this.nc)this.nc.hasOwnProperty(s)&&!mo(t,s)&&fo(t,s,this.nc[s]);return this.O?fo(t,"eid",this.O):t.removeParameter("eid"),s=ys(this.o),s.length&&fo(t,"fw",s.join(",")),t.toString()};var ys=function(t){try{return ct(e.app(t).auth().M)}catch(t){return[]}},gs=function(t,e,n,r,o){this.A=t,this.m=e,this.o=n,this.La=r||null,this.O=o||null,this.f=this.yd=this.ve=null,this.ta=[],this.Bc=this.wa=null},vs=function(t){var e=No();return Ca(t).then(function(t){t:{var n=go(e),r=n.qa;n=n.pa;for(var o=0;o<t.length;o++){var i=t[o],a=n,s=r;if(0==i.indexOf("chrome-extension://")?a=go(i).pa==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:qo.test(i)?a=a==i:(i=i.split(".").join("\\."),a=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Mi(No())})};t=gs.prototype,t.Sb=function(){if(this.Bc)return this.Bc;var t=this;return this.Bc=Wo().then(function(){if(!t.yd){var e=t.La,n=t.O,r=ys(t.o);e=new ds(t.A,t.m,t.o).$d(e).Yd(n),e.M=ct(r||[]),t.yd=e.toString()}t.yc=new as(t.yd),ws(t)})},t.fc=function(t,e,n){var r=new Ii("popup-closed-by-user"),o=new Ii("web-storage-unsupported"),i=this,a=!1;return this.Ra().then(function(){xs(i).then(function(n){n||(t&&zo(t),e(o),a=!0)})}).g(function(){}).then(function(){if(!a)return Uo(t)}).then(function(){if(!a)return Ur(n).then(function(){e(r)})})},t.Ve=function(){var t=$o();return!ii(t)&&!li(t)},t.Ae=function(){return!1},t.$b=function(t,e,n,r,o,i,a){if(!t)return Mn(new Ii("popup-blocked"));if(a&&!ii())return this.Ra().g(function(e){zo(t),o(e)}),r(),Rn();this.wa||(this.wa=vs(_s(this)));var s=this;return this.wa.then(function(){var e=s.Ra().g(function(e){throw zo(t),o(e),e});return r(),e}).then(function(){if(na(n),!a){var r=bs(s.A,s.m,s.o,e,n,null,i,s.La,void 0,s.O);Lo(r,t)}}).g(function(t){throw"auth/network-request-failed"==t.code&&(s.wa=null),t})};var _s=function(t){return t.f||(t.ve=t.La?Jo(t.La,ys(t.o)):null,t.f=new sa(t.m,Ro(t.O),t.ve)),t.f};gs.prototype.ac=function(t,e,n){this.wa||(this.wa=vs(_s(this)));var r=this;return this.wa.then(function(){na(e);var o=bs(r.A,r.m,r.o,t,e,No(),n,r.La,void 0,r.O);Lo(o)}).g(function(t){throw"auth/network-request-failed"==t.code&&(r.wa=null),t})},gs.prototype.Ra=function(){var t=this;return this.Sb().then(function(){return t.yc.Id}).g(function(){throw t.wa=null,new Ii("network-request-failed")})},gs.prototype.Ze=function(){return!0};var bs=function(t,e,n,r,o,i,a,s,u,c){return t=new ms(t,e,n,r,o),t.Sd=i,t.W=a,i=t.$d(s),i.nc=bt(u||null),i.Yd(c).toString()},ws=function(t){if(!t.yc)throw Error("IfcHandler must be initialized!");us(t.yc,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ri(e.authEvent),n=0;n<t.ta.length;n++)r=t.ta[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Rn(n)}return n.status="ERROR",Rn(n)})},xs=function(t){var e={type:"webStorageSupport"};return t.Sb().then(function(){return t.yc.sendMessage(e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})};gs.prototype.ib=function(t){this.ta.push(t)},gs.prototype.dc=function(t){st(this.ta,function(e){return e==t})};var Cs=function(t,e,n,o,i,a){if(_i(this,"type","recaptcha"),this.bd=this.Ib=null,this.Kb=!1,this.ne=e,this.Fa=n||{theme:"light",type:"image"},this.J=[],this.Fa.sitekey)throw new Ii("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.Cc="invisible"===this.Fa.size,!wn(e)||!this.Cc&&wn(e).hasChildNodes())throw new Ii("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.f=new sa(t,a||null,i||null),this.Gf=o||function(){return null};var s=this;this.Xc=[];var u=this.Fa.callback;this.Fa.callback=function(t){if(s.Lb(t),"function"==typeof u)u(t);else if("string"==typeof u){var e=ti(u,r);"function"==typeof e&&e(t)}};var c=this.Fa["expired-callback"];this.Fa["expired-callback"]=function(){if(s.Lb(null),"function"==typeof c)c();else if("string"==typeof c){var t=ti(c,r);"function"==typeof t&&t()}}};Cs.prototype.Lb=function(t){for(var e=0;e<this.Xc.length;e++)try{this.Xc[e](t)}catch(t){}};var Es=function(t,e){st(t.Xc,function(t){return t==e})};Cs.prototype.c=function(t){var e=this;return this.J.push(t),Vn(t,function(){it(e.J,t)}),t},Cs.prototype.Tb=function(){var t=this;return this.Ib?this.Ib:this.Ib=this.c(Rn().then(function(){if(ri())return Wo();throw new Ii("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Os(As(),t.Gf())}).then(function(){return os(t.f,Wa,{})}).then(function(e){t.Fa.sitekey=e.recaptchaSiteKey}).g(function(e){throw t.Ib=null,e}))},Cs.prototype.render=function(){Ss(this);var t=this;return this.c(this.Tb().then(function(){if(null===t.bd){var e=t.ne;if(!t.Cc){var n=wn(e);e=En("DIV"),n.appendChild(e)}t.bd=grecaptcha.render(e,t.Fa)}return t.bd}))},Cs.prototype.verify=function(){Ss(this);var t=this;return this.c(this.render().then(function(e){return new In(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var o=function(e){e&&(Es(t,o),n(e))};t.Xc.push(o),t.Cc&&grecaptcha.execute(t.bd)}})}))};var Ss=function(t){if(t.Kb)throw new Ii("internal-error","RecaptchaVerifier instance has been destroyed.")};Cs.prototype.clear=function(){Ss(this),this.Kb=!0,As().ld--;for(var t=0;t<this.J.length;t++)this.J[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.Cc){t=wn(this.ne);for(var e;e=t.firstChild;)t.removeChild(e)}};var Ts=q("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ps=function(){this.ld=r.grecaptcha?1/0:0,this.Be=null,this.jd="__rcb"+Math.floor(1e6*Math.random()).toString()},Os=function(t,e){return new In(function(n,o){if(pi())if(!r.grecaptcha||e!==t.Be&&!t.ld){r[t.jd]=function(){if(r.grecaptcha){t.Be=e;var i=r.grecaptcha.render;r.grecaptcha.render=function(e,n){return e=i(e,n),t.ld++,e},n()}else o(new Ii("internal-error"));delete r[t.jd]};var i=K(Ts,{onload:t.jd,hl:e||""});Rn(hr(i)).g(function(){o(new Ii("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else o(new Ii("network-request-failed"))})},Is=null,As=function(){return Is||(Is=new Ps),Is},ks=function(t,n,r){try{this.i=r||e.app()}catch(t){throw new Ii("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.i.options||!this.i.options.apiKey)throw new Ii("invalid-api-key");r=this.i.options.apiKey;var o=this,i=null;try{i=ct(this.i.auth().M)}catch(t){}i=e.SDK_VERSION?Jo(e.SDK_VERSION,i):null,Cs.call(this,r,t,n,function(){try{var t=o.i.auth().ia}catch(e){t=null}return t},i,Ro(ko))};_(ks,Cs);var Ds=function(t){if(this.F=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.F)throw new Ii("internal-error","The React Native compatibility library was not found.")};t=Ds.prototype,t.get=function(t){return Rn(this.F.getItem(t)).then(function(t){return t&&ui(t)})},t.set=function(t,e){return Rn(this.F.setItem(t,ai(e)))},t.remove=function(t){return Rn(this.F.removeItem(t))},t.jb=function(){},t.$a=function(){};var Rs=function(){this.F={}};t=Rs.prototype,t.get=function(t){return Rn(this.F[t])},t.set=function(t,e){return this.F[t]=e,Rn()},t.remove=function(t){return delete this.F[t],Rn()},t.jb=function(){},t.$a=function(){};var Ms=function(){if(!Ns()){if("Node"==Qo())throw new Ii("internal-error","The LocalStorage compatibility library was not found.");throw new Ii("web-storage-unsupported")}this.F=r.localStorage||e.INTERNAL.node.localStorage},Ns=function(){var t="Node"==Qo();if(!(t=r.localStorage||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Ms.prototype,t.get=function(t){var e=this;return Rn().then(function(){var n=e.F.getItem(t);return ui(n)})},t.set=function(t,e){var n=this;return Rn().then(function(){var r=ai(e);null===r?n.remove(t):n.F.setItem(t,r)})},t.remove=function(t){var e=this;return Rn().then(function(){e.F.removeItem(t)})},t.jb=function(t){r.window&&be(r.window,"storage",t)},t.$a=function(t){r.window&&Ee(r.window,"storage",t)};var Ls=function(){this.F={}};t=Ls.prototype,t.get=function(){return Rn(null)},t.set=function(){return Rn()},t.remove=function(){return Rn()},t.jb=function(){},t.$a=function(){};var Fs=function(){if(!Vs()){if("Node"==Qo())throw new Ii("internal-error","The SessionStorage compatibility library was not found.");throw new Ii("web-storage-unsupported")}this.F=r.sessionStorage||e.INTERNAL.node.sessionStorage},Vs=function(){var t="Node"==Qo();if(!(t=r.sessionStorage||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Fs.prototype,t.get=function(t){var e=this;return Rn().then(function(){var n=e.F.getItem(t);return ui(n)})},t.set=function(t,e){var n=this;return Rn().then(function(){var r=ai(e);null===r?n.remove(t):n.F.setItem(t,r)})},t.remove=function(t){var e=this;return Rn().then(function(){e.F.removeItem(t)})},t.jb=function(){},t.$a=function(){};var js,zs=function(t,e,n,o,i,a){if(!window.indexedDB)throw new Ii("web-storage-unsupported");this.wf=t,this.Hd=e,this.md=n,this.cf=o,this.gb=i,this.Y={},this.gc=[],this.Wb=0,this.Of=a||r.indexedDB},Bs=function(t){return new In(function(e,n){var r=t.Of.open(t.wf,t.gb);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.Hd,{keyPath:t.md})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})},Us=function(t){return t.Fe||(t.Fe=Bs(t)),t.Fe},qs=function(t,e){return e.objectStore(t.Hd)},Ws=function(t,e,n){return e.transaction([t.Hd],n?"readwrite":"readonly")},Hs=function(t){return new In(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})};t=zs.prototype,t.set=function(t,e){var n,r=!1,o=this;return Vn(Us(this).then(function(e){return n=e,e=qs(o,Ws(o,n,!0)),Hs(e.get(t))}).then(function(i){var a=qs(o,Ws(o,n,!0));return i?(i.value=e,Hs(a.put(i))):(o.Wb++,r=!0,i={},i[o.md]=t,i[o.cf]=e,Hs(a.add(i)))}).then(function(){o.Y[t]=e}),function(){r&&o.Wb--})},t.get=function(t){var e=this;return Us(this).then(function(n){return Hs(qs(e,Ws(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},t.remove=function(t){var e=!1,n=this;return Vn(Us(this).then(function(r){return e=!0,n.Wb++,Hs(qs(n,Ws(n,r,!0)).delete(t))}).then(function(){delete n.Y[t]}),function(){e&&n.Wb--})},t.wg=function(){var t=this;return Us(this).then(function(e){var n=qs(t,Ws(t,e,!1));return n.getAll?Hs(n.getAll()):new In(function(t,e){var r=[],o=n.openCursor();o.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},o.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.Wb){for(r=0;r<e.length;r++)n[e[r][t.md]]=e[r][t.cf];r=Fo(t.Y,n),t.Y=n}return r})},t.jb=function(t){0==this.gc.length&&this.be(),this.gc.push(t)},t.$a=function(t){st(this.gc,function(e){return e==t}),0==this.gc.length&&this.Tc()},t.be=function(){var t=this;this.Tc();var e=function(){return t.Nd=Ur(800).then(y(t.wg,t)).then(function(e){0<e.length&&$(t.gc,function(t){t(e)})}).then(e).g(function(t){"STOP_EVENT"!=t.message&&e()}),t.Nd};e()},t.Tc=function(){this.Nd&&this.Nd.cancel("STOP_EVENT")};var Gs,Ks=function(){this.re={Browser:Qs,Node:Xs,ReactNative:Zs}[Qo()]},Qs={C:Ms,de:Fs},Xs={C:Ms,de:Fs},Zs={C:Ds,de:Ls},Ys=function(t){this.Bd(t)};Ys.prototype.Bd=function(t){var e=t.url;if(void 0===e)throw new Ii("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Ii("invalid-continue-uri");this.rf=e,this.fe=this.oc=null,this.Ge=!1;var n=t.android;if(n&&"object"==typeof n){e=n.packageName;var r=n.installApp;if(n=n.minimumVersion,"string"==typeof e&&e.length){if(this.oc=e,void 0!==r&&"boolean"!=typeof r)throw new Ii("argument-error","installApp property must be a boolean when specified.");if(this.Ge=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Ii("argument-error","minimumVersion property must be a non empty string when specified.");this.fe=n||null}else{if(void 0!==e)throw new Ii("argument-error","packageName property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Ii("missing-android-pkg-name")}}else if(void 0!==n)throw new Ii("argument-error","android property must be a non null object when specified.");if(this.xd=null,(e=t.iOS)&&"object"==typeof e){if("string"==typeof(e=e.bundleId)&&e.length)this.xd=e;else if(void 0!==e)throw new Ii("argument-error","bundleId property must be a non empty string when specified.")}else if(void 0!==e)throw new Ii("argument-error","iOS property must be a non null object when specified.");if(void 0!==(t=t.handleCodeInApp)&&"boolean"!=typeof t)throw new Ii("argument-error","handleCodeInApp property must be a boolean when specified.");if((this.le=!!t)&&!this.xd&&!this.oc)throw new Ii("argument-error","handleCodeInApp property can't be true when no mobile application is provided.")};var Js=function(t){var e={};e.continueUrl=t.rf,e.canHandleCodeInApp=t.le,(e.androidPackageName=t.oc)&&(e.androidMinimumVersion=t.fe,e.androidInstallApp=t.Ge),e.iOSBundleId=t.xd;for(var n in e)null===e[n]&&delete e[n];return e},$s=function(t,e){this.uf=e,_i(this,"verificationId",t)};$s.prototype.confirm=function(t){return t=ta(this.verificationId,t),this.uf(t)};var tu=function(t,e,n,r){return new $i(t).verifyPhoneNumber(e,n).then(function(t){return new $s(t,r)})},eu=function(t){var e={},n=t.email,r=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n,_i(this,"operation",t),_i(this,"data",Ei(e))},nu=function(t,e,n,r,o,i){if(this.dg=t,this.lg=e,this.Hf=n,this.Hc=r,this.ee=o,this.mg=!!i,this.ub=null,this.Sa=this.Hc,this.ee<this.Hc)throw Error("Proactive refresh lower bound greater than upper bound!")};nu.prototype.start=function(){this.Sa=this.Hc,ou(this,!0)};var ru=function(t,e){return e?(t.Sa=t.Hc,t.Hf()):(e=t.Sa,t.Sa*=2,t.Sa>t.ee&&(t.Sa=t.ee),e)},ou=function(t,e){t.stop(),t.ub=Ur(ru(t,e)).then(function(){return t.mg?Rn():yi()}).then(function(){return t.dg()}).then(function(){ou(t,!0)}).g(function(e){t.lg(e)&&ou(t,!1)})};nu.prototype.stop=function(){this.ub&&(this.ub.cancel(),this.ub=null)};var iu=function(t){var e={};e["facebook.com"]=su,e["google.com"]=cu,e["github.com"]=uu,e["twitter.com"]=lu;var n=t&&t.providerId;return n?e[n]?new e[n](t):new au(t):null},au=function(t){var e=ui(t.rawUserInfo||"{}");if(!(t=t.providerId))throw Error("Invalid additional user info!");_i(this,"profile",Ei(e||{})),_i(this,"providerId",t)},su=function(t){if(au.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};_(su,au);var uu=function(t){if(au.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider id!");_i(this,"username",this.profile&&this.profile.login||null)};_(uu,au);var cu=function(t){if(au.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider id!")};_(cu,au);var lu=function(t){if(au.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");_i(this,"username",t.screenName||null)};_(lu,au);var hu,pu={LOCAL:"local",NONE:"none",SESSION:"session"},fu=function(t){var e=new Ii("invalid-persistence-type"),n=new Ii("unsupported-persistence-type");t:{for(r in pu)if(pu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Qo()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ei()&&"none"!==t)throw n}},du=function(t,e,n,r){this.Ke=t,this.Wd=e,this.ng=n,this.ec=r,this.X={},Gs||(Gs=new Ks),t=Gs;try{if(Mo()){js||(js=new zs("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var o=js}else o=new t.re.C;this.Qe=o}catch(t){this.Qe=new Rs,this.ec=!0}try{this.Ye=new t.re.de}catch(t){this.Ye=new Rs}this.Nf=new Rs,this.ce=y(this.We,this),this.Y={}},mu=function(){return hu||(hu=new du("firebase",":",!(li($o())||!Ko()),ii())),hu},yu=function(t,e){switch(e){case"session":return t.Ye;case"none":return t.Nf;default:return t.Qe}};t=du.prototype,t.ca=function(t,e){return this.Ke+this.Wd+t.name+(e?this.Wd+e:"")},t.get=function(t,e){return yu(this,t.C).get(this.ca(t,e))},t.remove=function(t,e){return e=this.ca(t,e),"local"!=t.C||this.ec||(this.Y[e]=null),yu(this,t.C).remove(e)},t.set=function(t,e,n){var r=this.ca(t,n),o=this,i=yu(this,t.C);return i.set(r,e).then(function(){return i.get(r)}).then(function(e){"local"!=t.C||o.ec||(o.Y[r]=e)})},t.addListener=function(t,e,n){t=this.ca(t,e),this.ec||(this.Y[t]=r.localStorage.getItem(t)),vt(this.X)&&this.be(),this.X[t]||(this.X[t]=[]),this.X[t].push(n)},t.removeListener=function(t,e,n){t=this.ca(t,e),this.X[t]&&(st(this.X[t],function(t){return t==n}),0==this.X[t].length&&delete this.X[t]),vt(this.X)&&this.Tc()},t.be=function(){yu(this,"local").jb(this.ce),this.ec||Mo()||gu(this)};var gu=function(t){vu(t),t.Fd=setInterval(function(){for(var e in t.X){var n=r.localStorage.getItem(e),o=t.Y[e];n!=o&&(t.Y[e]=n,n=new ue({type:"storage",key:e,target:window,oldValue:o,newValue:n,Md:!0}),t.We(n))}},1e3)},vu=function(t){t.Fd&&(clearInterval(t.Fd),t.Fd=null)};du.prototype.Tc=function(){yu(this,"local").$a(this.ce),vu(this)},du.prototype.We=function(t){if(t&&t.Ef){var e=t.P.key;if(0==e.indexOf(this.Ke+this.Wd)&&this.X[e]){if(void 0!==t.P.Md?yu(this,"local").$a(this.ce):vu(this),this.ng){var n=r.localStorage.getItem(e),o=t.P.newValue;if(o!==n)null!==o?r.localStorage.setItem(e,o):r.localStorage.removeItem(e);else if(this.Y[e]===o&&void 0===t.P.Md)return}var i=this;n=function(){void 0===t.P.Md&&i.Y[e]===r.localStorage.getItem(e)||(i.Y[e]=r.localStorage.getItem(e),i.je(e))},Pt&&Lt&&10==Lt&&r.localStorage.getItem(e)!==t.P.newValue&&t.P.newValue!==t.P.oldValue?setTimeout(n,10):n()}}else $(t,y(this.je,this))},du.prototype.je=function(t){this.X[t]&&$(this.X[t],function(t){t()})};var _u=function(t,e){this.j=t,this.h=e||mu()},bu={name:"authEvent",C:"local"},wu=function(t){return t.h.get(bu,t.j).then(function(t){return Ri(t)})};_u.prototype.ib=function(t){this.h.addListener(bu,this.j,t)},_u.prototype.dc=function(t){this.h.removeListener(bu,this.j,t)};var xu=function(t){this.h=t||mu()},Cu={name:"sessionId",C:"session"};xu.prototype.uc=function(t){return this.h.get(Cu,t)};var Eu=function(t,e,n,r,o,i,a){this.A=t,this.m=e,this.o=n,this.La=r||null,this.O=a||null,this.Xe=e+":"+n,this.og=new xu,this.we=new _u(this.Xe),this.Ad=null,this.ta=[],this.Sf=o||500,this.hg=i||2e3,this.Rb=this.Kc=null},Su=function(t){return new Ii("invalid-cordova-configuration",t)};Eu.prototype.Ra=function(){return this.Tb?this.Tb:this.Tb=Ho().then(function(){if("function"!=typeof ti("universalLinks.subscribe",r))throw Su("cordova-universal-links-plugin is not installed");if(void 0===ti("BuildInfo.packageName",r))throw Su("cordova-plugin-buildinfo is not installed");if("function"!=typeof ti("cordova.plugins.browsertab.openUrl",r))throw Su("cordova-plugin-browsertab is not installed");if("function"!=typeof ti("cordova.InAppBrowser.open",r))throw Su("cordova-plugin-inappbrowser is not installed")},function(){throw new Ii("cordova-not-ready")})};var Tu=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")},Pu=function(t){var e=new te;return e.update(t),lt(e.digest())};t=Eu.prototype,t.fc=function(t,e){return e(new Ii("operation-not-supported-in-this-environment")),Rn()},t.$b=function(){return Mn(new Ii("operation-not-supported-in-this-environment"))},t.Ze=function(){return!1},t.Ve=function(){return!0},t.Ae=function(){return!0},t.ac=function(t,e,n){if(this.Kc)return Mn(new Ii("redirect-operation-pending"));var o=this,i=r.document,a=null,s=null,u=null,c=null;return this.Kc=Vn(Rn().then(function(){return na(e),Iu(o)}).then(function(){return Ou(o,t,e,n)}).then(function(){return new In(function(t,e){s=function(){var e=ti("cordova.plugins.browsertab.close",r);return t(),"function"==typeof e&&e(),o.Rb&&"function"==typeof o.Rb.close&&(o.Rb.close(),o.Rb=null),!1},o.ib(s),u=function(){a||(a=Ur(o.hg).then(function(){e(new Ii("redirect-cancelled-by-user"))}))},c=function(){mi()&&u()},i.addEventListener("resume",u,!1),$o().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)}).g(function(t){return Au(o).then(function(){throw t})})}),function(){u&&i.removeEventListener("resume",u,!1),c&&i.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&o.dc(s),o.Kc=null})};var Ou=function(t,e,n,o){var i=Tu(),a=new Di(e,o,null,i,new Ii("no-auth-event")),s=ti("BuildInfo.packageName",r);if("string"!=typeof s)throw new Ii("invalid-cordova-configuration");var u=ti("BuildInfo.displayName",r),c={};if($o().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!$o().toLowerCase().match(/android/))return Mn(new Ii("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),i=Pu(i),c.sessionId=i;var l=bs(t.A,t.m,t.o,e,n,null,o,t.La,c,t.O);return t.Ra().then(function(){var e=t.Xe;return t.og.h.set(bu,a.G(),e)}).then(function(){var e=ti("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof e)throw new Ii("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=ti("cordova.plugins.browsertab.openUrl",r)))throw new Ii("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=ti("cordova.InAppBrowser.open",r)))throw new Ii("invalid-cordova-configuration");e=n;var o=$o();o=!(!o.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!o.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.Rb=e(l,o?"_blank":"_system","location=yes")}})})};Eu.prototype.Lb=function(t){for(var e=0;e<this.ta.length;e++)try{this.ta[e](t)}catch(t){}};var Iu=function(t){return t.Ad||(t.Ad=t.Ra().then(function(){return new In(function(e){var n=function(r){return e(r),t.dc(n),!1};t.ib(n),ku(t)})})),t.Ad},Au=function(t){var e=null;return wu(t.we).then(function(n){return e=n,n=t.we,n.h.remove(bu,n.j)}).then(function(){return e})},ku=function(t){var e=ti("universalLinks.subscribe",r);if("function"!=typeof e)throw new Ii("invalid-cordova-configuration");var n=new Di("unknown",null,null,null,new Ii("no-auth-event")),o=!1,i=Ur(t.Sf).then(function(){return Au(t).then(function(){o||t.Lb(n)})}),a=function(e){o=!0,i&&i.cancel(),Au(t).then(function(r){var o=n;if(r&&e&&e.url){o=null;var i=e.url,a=go(i),s=mo(a,"link"),u=mo(go(s),"link");a=mo(a,"deep_link_id"),i=mo(go(a),"link")||a||u||s||i,-1!=i.indexOf("/__/auth/callback")&&(o=go(i),o=ui(mo(o,"firebaseError")||null),o=(o="object"==typeof o?Ai(o):null)?new Di(r.ma,r.W,null,null,o):new Di(r.ma,r.W,i,r.uc())),o=o||n}t.Lb(o)})},s=r.handleOpenURL;r.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ti("BuildInfo.packageName",r).toLowerCase()+"://")&&a({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},e(null,a)};Eu.prototype.ib=function(t){this.ta.push(t),Iu(this).g(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Di("unknown",null,null,null,new Ii("no-auth-event")),t(e))})},Eu.prototype.dc=function(t){st(this.ta,function(e){return e==t})};var Du=function(t){this.j=t,this.h=mu()},Ru={name:"pendingRedirect",C:"session"},Mu=function(t){return t.h.set(Ru,"pending",t.j)},Nu=function(t){return t.h.remove(Ru,t.j)},Lu=function(t){return t.h.get(Ru,t.j).then(function(t){return"pending"==t})},Fu=function(t,e,n){this.A=t,this.m=e,this.o=n,this.hc=[],this.sb=!1,this.fd=y(this.vd,this),this.Xa=new Hu(this),this.Od=new Yu(this),this.Xb=new Du(this.m+":"+this.o),this.Ia={},this.Ia.unknown=this.Xa,this.Ia.signInViaRedirect=this.Xa,this.Ia.linkViaRedirect=this.Xa,this.Ia.reauthViaRedirect=this.Xa,this.Ia.signInViaPopup=this.Od,this.Ia.linkViaPopup=this.Od,this.Ia.reauthViaPopup=this.Od,this.Z=Vu(this.A,this.m,this.o,ko)},Vu=function(t,n,r,o){var i=e.SDK_VERSION||null;return Go()?new Eu(t,n,r,i,void 0,void 0,o):new gs(t,n,r,i,o)};Fu.prototype.reset=function(){this.sb=!1,this.Z.dc(this.fd),this.Z=Vu(this.A,this.m,this.o)},Fu.prototype.Sb=function(){var t=this;this.sb||(this.sb=!0,this.Z.ib(this.fd));var e=this.Z;return this.Z.Ra().g(function(n){throw t.Z==e&&t.reset(),n})};var ju=function(t){t.Z.Ve()&&t.Sb().g(function(e){var n=new Di("unknown",null,null,null,new Ii("operation-not-supported-in-this-environment"));Uu(e)&&t.vd(n)}),t.Z.Ae()||Gu(t.Xa)};Fu.prototype.subscribe=function(t){if(ot(this.hc,t)||this.hc.push(t),!this.sb){var e=this;Lu(this.Xb).then(function(t){t?Nu(e.Xb).then(function(){e.Sb().g(function(t){var n=new Di("unknown",null,null,null,new Ii("operation-not-supported-in-this-environment"));Uu(t)&&e.vd(n)})}):ju(e)}).g(function(){ju(e)})}},Fu.prototype.unsubscribe=function(t){st(this.hc,function(e){return e==t})},Fu.prototype.vd=function(t){if(!t)throw new Ii("invalid-auth-event");for(var e=!1,n=0;n<this.hc.length;n++){var r=this.hc[n];if(r.ke(t.ma,t.W)){(e=this.Ia[t.ma])&&e.Re(t,r),e=!0;break}}return Gu(this.Xa),e};var zu=new fi(2e3,1e4),Bu=new fi(3e4,6e4);Fu.prototype.getRedirectResult=function(){return this.Xa.getRedirectResult()},Fu.prototype.$b=function(t,e,n,r,o){var i=this;return this.Z.$b(t,e,n,function(){i.sb||(i.sb=!0,i.Z.ib(i.fd))},function(){i.reset()},r,o)};var Uu=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};Fu.prototype.ac=function(t,e,n){var r,o=this;return Mu(this.Xb).then(function(){return o.Z.ac(t,e,n).g(function(t){if(Uu(t))throw new Ii("operation-not-supported-in-this-environment");return r=t,Nu(o.Xb).then(function(){throw r})}).then(function(){return o.Z.Ze()?new In(function(){}):Nu(o.Xb).then(function(){return o.getRedirectResult()}).then(function(){}).g(function(){})})})},Fu.prototype.fc=function(t,e,n,r){return this.Z.fc(n,function(n){t.bb(e,null,n,r)},zu.get())};var qu={},Wu=function(t,e,n){var r=e+":"+n;return qu[r]||(qu[r]=new Fu(t,e,n)),qu[r]},Hu=function(t){this.h=t,this.Ab=null,this.cc=[],this.bc=[],this.yb=null,this.Rd=!1};Hu.prototype.reset=function(){this.Ab=null,this.yb&&(this.yb.cancel(),this.yb=null)},Hu.prototype.Re=function(t,e){if(!t)return Mn(new Ii("invalid-auth-event"));this.reset(),this.Rd=!0;var n=t.ma,r=t.W,o=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,i=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||o||i?t=t.ba?this.Pd(t,e):e.Nb(n,r)?this.Qd(t,e):Mn(new Ii("invalid-auth-event")):(Xu(this,!1,null,null),t=Rn()),t};var Gu=function(t){t.Rd||(t.Rd=!0,Xu(t,!1,null,null))};Hu.prototype.Pd=function(t){return Xu(this,!0,null,t.getError()),Rn()},Hu.prototype.Qd=function(t,e){var n=this;e=e.Nb(t.ma,t.W);var r=t.Eb,o=t.uc(),i=!!t.ma.match(/Redirect$/);return e(r,o).then(function(t){Xu(n,i,t,null)}).g(function(t){Xu(n,i,null,t)})};var Ku=function(t,e){if(t.Ab=function(){return Mn(e)},t.bc.length)for(var n=0;n<t.bc.length;n++)t.bc[n](e)},Qu=function(t,e){if(t.Ab=function(){return Rn(e)},t.cc.length)for(var n=0;n<t.cc.length;n++)t.cc[n](e)},Xu=function(t,e,n,r){e?r?Ku(t,r):Qu(t,n):Qu(t,{user:null}),t.cc=[],t.bc=[]};Hu.prototype.getRedirectResult=function(){var t=this;return new In(function(e,n){t.Ab?t.Ab().then(e,n):(t.cc.push(e),t.bc.push(n),Zu(t))})};var Zu=function(t){var e=new Ii("timeout");t.yb&&t.yb.cancel(),t.yb=Ur(Bu.get()).then(function(){t.Ab||Xu(t,!0,null,e)})},Yu=function(t){this.h=t};Yu.prototype.Re=function(t,e){if(!t)return Mn(new Ii("invalid-auth-event"));var n=t.ma,r=t.W;return t.ba?this.Pd(t,e):e.Nb(n,r)?this.Qd(t,e):Mn(new Ii("invalid-auth-event"))},Yu.prototype.Pd=function(t,e){return e.bb(t.ma,null,t.getError(),t.W),Rn()},Yu.prototype.Qd=function(t,e){var n=t.W,r=t.ma,o=e.Nb(r,n),i=t.Eb;return t=t.uc(),o(i,t).then(function(t){e.bb(r,t,null,n)}).g(function(t){e.bb(r,null,t,n)})};var Ju=function(t){this.f=t,this.Ja=this.fa=null,this.Na=0};Ju.prototype.G=function(){return{apiKey:this.f.m,refreshToken:this.fa,accessToken:this.Ja,expirationTime:this.Na}};var $u=function(t,e){var n=e.idToken,r=e.refreshToken;e=tc(e.expiresIn),t.Ja=n,t.Na=e,t.fa=r},tc=function(t){return v()+1e3*parseInt(t,10)},ec=function(t,e){return va(t.f,e).then(function(e){return t.Ja=e.access_token,t.Na=tc(e.expires_in),t.fa=e.refresh_token,{accessToken:t.Ja,expirationTime:t.Na,refreshToken:t.fa}}).g(function(e){throw"auth/user-token-expired"==e.code&&(t.fa=null),e})};Ju.prototype.getToken=function(t){return t=!!t,this.Ja&&!this.fa?Mn(new Ii("user-token-expired")):t||!this.Ja||v()>this.Na-3e4?this.fa?ec(this,{grant_type:"refresh_token",refresh_token:this.fa}):Rn(null):Rn({accessToken:this.Ja,expirationTime:this.Na,refreshToken:this.fa})};var nc=function(t,e,n,r,o,i){bi(this,{uid:t,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:e})},rc=function(t,e){se.call(this,t);for(var n in e)this[n]=e[n]};_(rc,se);var oc=function(t,n,r){this.J=[],this.m=t.apiKey,this.o=t.appName,this.A=t.authDomain||null,t=e.SDK_VERSION?Jo(e.SDK_VERSION):null,this.f=new sa(this.m,Ro(ko),t),this.ra=new Ju(this.f),pc(this,n.idToken),$u(this.ra,n),_i(this,"refreshToken",this.ra.fa),yc(this,r||{}),Or.call(this),this.Lc=!1,this.A&&ni()&&(this.v=Wu(this.A,this.m,this.o)),this.Sc=[],this.sa=null,this.wb=cc(this),this.Gb=y(this.wd,this);var o=this;this.ia=null,this.Ne=function(t){o.Cb(t.languageCode)},this.Dd=null,this.M=[],this.Me=function(t){ac(o,t.Cf)},this.sd=null};_(oc,Or),oc.prototype.Cb=function(t){this.ia=t,pa(this.f,t)};var ic=function(t,e){t.Dd&&Ee(t.Dd,"languageCodeChanged",t.Ne),(t.Dd=e)&&be(e,"languageCodeChanged",t.Ne)},ac=function(t,n){t.M=n,fa(t.f,e.SDK_VERSION?Jo(e.SDK_VERSION,t.M):null)},sc=function(t,e){t.sd&&Ee(t.sd,"frameworkChanged",t.Me),(t.sd=e)&&be(e,"frameworkChanged",t.Me)};oc.prototype.wd=function(){this.wb.ub&&(this.wb.stop(),this.wb.start())};var uc=function(t){try{return e.app(t.o).auth()}catch(e){throw new Ii("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}},cc=function(t){return new nu(function(){return t.getIdToken(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.ra.Na-v()-3e5;return 0<e?e:0},3e4,96e4,!1)},lc=function(t){t.Kb||t.wb.ub||(t.wb.start(),Ee(t,"tokenChanged",t.Gb),be(t,"tokenChanged",t.Gb))},hc=function(t){Ee(t,"tokenChanged",t.Gb),t.wb.stop()},pc=function(t,e){t.He=e,_i(t,"_lat",e)},fc=function(t,e){st(t.Sc,function(t){return t==e})},dc=function(t){for(var e=[],n=0;n<t.Sc.length;n++)e.push(t.Sc[n](t));return Fn(e).then(function(){return t})},mc=function(t){t.v&&!t.Lc&&(t.Lc=!0,t.v.subscribe(t))},yc=function(t,e){bi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,providerData:[]})};_i(oc.prototype,"providerId","firebase");var gc=function(){},vc=function(t){return Rn().then(function(){if(t.Kb)throw new Ii("app-deleted")})},_c=function(t){return et(t.providerData,function(t){return t.providerId})},bc=function(t,e){e&&(wc(t,e.providerId),t.providerData.push(e))},wc=function(t,e){st(t.providerData,function(t){return t.providerId==e})},xc=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&_i(t,e,n)};oc.prototype.copy=function(t){var e=this;e!=t&&(bi(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),$(t.providerData,function(t){bc(e,t)}),this.ra=t.ra,_i(this,"refreshToken",this.ra.fa))},oc.prototype.reload=function(){var t=this;return this.c(vc(this).then(function(){return Cc(t).then(function(){return dc(t)}).then(gc)}))};var Cc=function(t){return t.getIdToken().then(function(e){var n=t.isAnonymous;return Sc(t,e).then(function(){return n||xc(t,"isAnonymous",!1),e})})};oc.prototype.getIdToken=function(t){var e=this;return this.c(vc(this).then(function(){return e.ra.getToken(t)}).then(function(t){if(!t)throw new Ii("internal-error");return t.accessToken!=e.He&&(pc(e,t.accessToken),e.Ta()),xc(e,"refreshToken",t.refreshToken),t.accessToken}))},oc.prototype.getToken=function(t){return gi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(gi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(t)};var Ec=function(t,e){e.idToken&&t.He!=e.idToken&&($u(t.ra,e),t.Ta(),pc(t,e.idToken),xc(t,"refreshToken",t.ra.fa))};oc.prototype.Ta=function(){this.dispatchEvent(new rc("tokenChanged"))};var Sc=function(t,e){return os(t.f,za,{idToken:e}).then(y(t.eg,t))};oc.prototype.eg=function(t){if(!(t=t.users)||!t.length)throw new Ii("internal-error");t=t[0],yc(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber});for(var e=Tc(t),n=0;n<e.length;n++)bc(this,e[n]);xc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var Tc=function(t){return(t=t.providerUserInfo)&&t.length?et(t,function(t){return new nc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]};oc.prototype.reauthenticateAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.c(t.Gd(this.f,this.uid).then(function(t){return Ec(e,t),n=Oc(e,t,"reauthenticate"),e.sa=null,e.reload()}).then(function(){return n}),!0)},oc.prototype.reauthenticateWithCredential=function(t){return this.reauthenticateAndRetrieveDataWithCredential(t).then(function(){})};var Pc=function(t,e){return Cc(t).then(function(){if(ot(_c(t),e))return dc(t).then(function(){throw new Ii("provider-already-linked")})})};oc.prototype.linkAndRetrieveDataWithCredential=function(t){var e=this,n=null;return this.c(Pc(this,t.providerId).then(function(){return e.getIdToken()}).then(function(n){return t.Gc(e.f,n)}).then(function(t){return n=Oc(e,t,"link"),Ic(e,t)}).then(function(){return n}))},oc.prototype.linkWithCredential=function(t){return this.linkAndRetrieveDataWithCredential(t).then(function(t){return t.user})},oc.prototype.linkWithPhoneNumber=function(t,e){var n=this;return this.c(Pc(this,"phone").then(function(){return tu(uc(n),t,e,y(n.linkAndRetrieveDataWithCredential,n))}))},oc.prototype.reauthenticateWithPhoneNumber=function(t,e){var n=this;return this.c(Rn().then(function(){return tu(uc(n),t,e,y(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var Oc=function(t,e,n){var r=ea(e);return e=iu(e),wi({user:t,credential:r,additionalUserInfo:e,operationType:n})},Ic=function(t,e){return Ec(t,e),t.reload().then(function(){return t})};t=oc.prototype,t.updateEmail=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return e.f.updateEmail(n,t)}).then(function(t){return Ec(e,t),e.reload()}))},t.updatePhoneNumber=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return t.Gc(e.f,n)}).then(function(t){return Ec(e,t),e.reload()}))},t.updatePassword=function(t){var e=this;return this.c(this.getIdToken().then(function(n){return e.f.updatePassword(n,t)}).then(function(t){return Ec(e,t),e.reload()}))},t.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return vc(this);var e=this;return this.c(this.getIdToken().then(function(n){return e.f.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ec(e,t),xc(e,"displayName",t.displayName||null),xc(e,"photoURL",t.photoUrl||null),$(e.providerData,function(t){"password"===t.providerId&&(_i(t,"displayName",e.displayName),_i(t,"photoURL",e.photoURL))}),dc(e)}).then(gc))},t.unlink=function(t){var e=this;return this.c(Cc(this).then(function(n){return ot(_c(e),t)?Pa(e.f,n,[t]).then(function(t){var n={};return $(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),$(_c(e),function(t){n[t]||wc(e,t)}),n[$i.PROVIDER_ID]||_i(e,"phoneNumber",null),dc(e)}):dc(e).then(function(){throw new Ii("no-such-provider")})}))},t.delete=function(){var t=this;return this.c(this.getIdToken().then(function(e){return os(t.f,Va,{idToken:e})}).then(function(){t.dispatchEvent(new rc("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");ic(t,null),sc(t,null),t.J=[],t.Kb=!0,hc(t),_i(t,"refreshToken",null),t.v&&t.v.unsubscribe(t)})},t.ke=function(t,e){return!!("linkViaPopup"==t&&(this.la||null)==e&&this.ka||"reauthViaPopup"==t&&(this.la||null)==e&&this.ka||"linkViaRedirect"==t&&(this.Ha||null)==e||"reauthViaRedirect"==t&&(this.Ha||null)==e)},t.bb=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.la||null)||(n&&this.Va?this.Va(n):e&&!n&&this.ka&&this.ka(e),this.K&&(this.K.cancel(),this.K=null),delete this.ka,delete this.Va)},t.Nb=function(t,e){return"linkViaPopup"==t&&e==(this.la||null)?y(this.te,this):"reauthViaPopup"==t&&e==(this.la||null)?y(this.ue,this):"linkViaRedirect"==t&&(this.Ha||null)==e?y(this.te,this):"reauthViaRedirect"==t&&(this.Ha||null)==e?y(this.ue,this):null},t.tc=function(){return ci(this.uid+":::")},t.linkWithPopup=function(t){var e=this;return Ac(this,"linkViaPopup",t,function(){return Pc(e,t.providerId).then(function(){return dc(e)})},!1)},t.reauthenticateWithPopup=function(t){return Ac(this,"reauthViaPopup",t,function(){return Rn()},!0)};var Ac=function(t,n,r,o,i){if(!ni())return Mn(new Ii("operation-not-supported-in-this-environment"));if(t.sa&&!i)return Mn(t.sa);var a=Oi(r.providerId),s=t.tc(),u=null;(!ii()||Ko())&&t.A&&r.isOAuthProvider&&(u=bs(t.A,t.m,t.o,n,r,null,s,e.SDK_VERSION||null));var c=Bo(u,a&&a.Zb,a&&a.Yb);return o=o().then(function(){if(Dc(t),!i)return t.getIdToken().then(function(){})}).then(function(){return t.v.$b(c,n,r,s,!!u)}).then(function(){return new In(function(e,r){t.bb(n,null,new Ii("cancelled-popup-request"),t.la||null),t.ka=e,t.Va=r,t.la=s,t.K=t.v.fc(t,n,c,s)})}).then(function(t){return c&&zo(c),t?wi(t):null}).g(function(t){throw c&&zo(c),t}),t.c(o,i)};oc.prototype.linkWithRedirect=function(t){var e=this;return kc(this,"linkViaRedirect",t,function(){return Pc(e,t.providerId)},!1)},oc.prototype.reauthenticateWithRedirect=function(t){return kc(this,"reauthViaRedirect",t,function(){return Rn()},!0)};var kc=function(t,e,n,r,o){if(!ni())return Mn(new Ii("operation-not-supported-in-this-environment"));if(t.sa&&!o)return Mn(t.sa);var i=null,a=t.tc();return r=r().then(function(){if(Dc(t),!o)return t.getIdToken().then(function(){})}).then(function(){return t.Ha=a,dc(t)}).then(function(e){return t.Ya&&(e=t.Ya,e=e.h.set(Fc,t.G(),e.j)),e}).then(function(){return t.v.ac(e,n,a)}).g(function(e){if(i=e,t.Ya)return Vc(t.Ya);throw i}).then(function(){if(i)throw i}),t.c(r,o)},Dc=function(t){if(!t.v||!t.Lc){if(t.v&&!t.Lc)throw new Ii("internal-error");throw new Ii("auth-domain-config-required")}};oc.prototype.te=function(t,e){var n=this;this.K&&(this.K.cancel(),this.K=null);var r=null,o=this.getIdToken().then(function(r){return ka(n.f,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Oc(n,t,"link"),Ic(n,t)}).then(function(){return r});return this.c(o)},oc.prototype.ue=function(t,e){var n=this;this.K&&(this.K.cancel(),this.K=null);var r=null,o=Rn().then(function(){return Li(Da(n.f,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Oc(n,t,"reauthenticate"),Ec(n,t),n.sa=null,n.reload()}).then(function(){return r});return this.c(o,!0)},oc.prototype.sendEmailVerification=function(t){var e=this,n=null;return this.c(this.getIdToken().then(function(e){return n=e,void 0===t||vt(t)?{}:Js(new Ys(t))}).then(function(t){return e.f.sendEmailVerification(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},oc.prototype.c=function(t,e){var n=this,r=Rc(this,t,e);return this.J.push(r),Vn(r,function(){it(n.J,r)}),r};var Rc=function(t,e,n){return t.sa&&!n?(e.cancel(),Mn(t.sa)):e.g(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.sa||t.dispatchEvent(new rc("userInvalidated")),t.sa=e),e})};oc.prototype.toJSON=function(){return this.G()},oc.prototype.G=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.A,stsTokenManager:this.ra.G(),redirectEventId:this.Ha||null};return $(this.providerData,function(e){t.providerData.push(xi(e))}),t};var Mc=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-v())/1e3;var r=new oc(e,n,t);return t.providerData&&$(t.providerData,function(t){t&&bc(r,wi(t))}),t.redirectEventId&&(r.Ha=t.redirectEventId),r},Nc=function(t,e,n,r){var o=new oc(t,e);return n&&(o.Ya=n),r&&ac(o,r),o.reload().then(function(){return o})},Lc=function(t){this.j=t,this.h=mu()},Fc={name:"redirectUser",C:"session"},Vc=function(t){return t.h.remove(Fc,t.j)},jc=function(t,e){return t.h.get(Fc,t.j).then(function(t){return t&&e&&(t.authDomain=e),Mc(t||{})})},zc=function(t,e){this.j=t,this.h=e||mu(),this.N=null,this.Jd=this.Bd(),this.h.addListener(qc("local"),this.j,y(this.ug,this))};zc.prototype.ug=function(){var t=this,e=qc("local");Qc(this,function(){return Rn().then(function(){return t.N&&"local"!=t.N.C?t.h.get(e,t.j):null}).then(function(n){if(n)return Bc(t,"local").then(function(){t.N=e})})})};var Bc=function(t,e){var n,r=[];for(n in pu)pu[n]!==e&&r.push(t.h.remove(qc(pu[n]),t.j));return r.push(t.h.remove(Uc,t.j)),Ln(r)};zc.prototype.Bd=function(){var t=this,e=qc("local"),n=qc("session"),r=qc("none");return this.h.get(n,this.j).then(function(o){return o?n:t.h.get(r,t.j).then(function(n){return n?r:t.h.get(e,t.j).then(function(n){return n?e:t.h.get(Uc,t.j).then(function(t){return t?qc(t):e})})})}).then(function(e){return t.N=e,Bc(t,e.C)}).g(function(){t.N||(t.N=e)})};var Uc={name:"persistence",C:"session"},qc=function(t){return{name:"authUser",C:t}};zc.prototype.setPersistence=function(t){var e=null,n=this;return fu(t),Qc(this,function(){return t!=n.N.C?n.h.get(n.N,n.j).then(function(r){return e=r,Bc(n,t)}).then(function(){if(n.N=qc(t),e)return n.h.set(n.N,e,n.j)}):Rn()})};var Wc=function(t){return Qc(t,function(){return t.h.set(Uc,t.N.C,t.j)})},Hc=function(t,e){return Qc(t,function(){return t.h.set(t.N,e.G(),t.j)})},Gc=function(t){return Qc(t,function(){return t.h.remove(t.N,t.j)})},Kc=function(t,e){return Qc(t,function(){return t.h.get(t.N,t.j).then(function(t){return t&&e&&(t.authDomain=e),Mc(t||{})})})},Qc=function(t,e){return t.Jd=t.Jd.then(e,e),t.Jd},Xc=function(t){if(this.Ea=!1,_i(this,"app",t),!this.i().options||!this.i().options.apiKey)throw new Ii("invalid-api-key");t=e.SDK_VERSION?Jo(e.SDK_VERSION):null,this.f=new sa(this.i().options&&this.i().options.apiKey,Ro(ko),t),this.J=[],this.Ka=[],this.Fb=[],this.ag=e.INTERNAL.createSubscribe(y(this.Pf,this)),this.mc=void 0,this.cg=e.INTERNAL.createSubscribe(y(this.Rf,this)),nl(this,null),t=this.i().options.apiKey;var n=this.i().name;this.na=new zc(t+":"+n),t=this.i().options.apiKey,n=this.i().name,this.zb=new Lc(t+":"+n),this.pc=this.c(ol(this)),this.ya=this.c(il(this)),this.Dc=!1,this.ud=y(this.vg,this),this.bf=y(this.pb,this),this.Gb=y(this.wd,this),this.$e=y(this.Lf,this),this.af=y(this.Mf,this),tl(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.Xf,this),this.Oa=0,Or.call(this),Jc(this),this.M=[]};_(Xc,Or);var Zc=function(t){se.call(this,"languageCodeChanged"),this.languageCode=t};_(Zc,se);var Yc=function(t){se.call(this,"frameworkChanged"),this.Cf=t};_(Yc,se),Xc.prototype.setPersistence=function(t){return t=this.na.setPersistence(t),this.c(t)},Xc.prototype.Cb=function(t){this.ia===t||this.Ea||(this.ia=t,pa(this.f,this.ia),this.dispatchEvent(new Zc(this.ia)))},Xc.prototype.useDeviceLanguage=function(){var t=r.navigator;this.Cb(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},Xc.prototype.Xf=function(t){this.M.push(t),fa(this.f,e.SDK_VERSION?Jo(e.SDK_VERSION,this.M):null),this.dispatchEvent(new Yc(this.M))};var Jc=function(t){Object.defineProperty(t,"lc",{get:function(){return this.ia},set:function(t){this.Cb(t)},enumerable:!1}),t.ia=null};Xc.prototype.toJSON=function(){return{apiKey:this.i().options.apiKey,authDomain:this.i().options.authDomain,appName:this.i().name,currentUser:sl(this)&&sl(this).G()}};var $c=function(t){return t.xf||Mn(new Ii("auth-domain-config-required"))},tl=function(t){var e=t.i().options.authDomain,n=t.i().options.apiKey;e&&ni()&&(t.xf=t.pc.then(function(){if(!t.Ea){if(t.v=Wu(e,n,t.i().name),t.v.subscribe(t),sl(t)&&mc(sl(t)),t.Za){mc(t.Za);var r=t.Za;r.Cb(t.ia),ic(r,t),r=t.Za,ac(r,t.M),sc(r,t),t.Za=null}return t.v}}))};t=Xc.prototype,t.ke=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.la==e&&!!this.ka;default:return!1}},t.bb=function(t,e,n,r){"signInViaPopup"==t&&this.la==r&&(n&&this.Va?this.Va(n):e&&!n&&this.ka&&this.ka(e),this.K&&(this.K.cancel(),this.K=null),delete this.ka,delete this.Va)},t.Nb=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.la==e&&this.ka?y(this.zf,this):null},t.zf=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.K&&(this.K.cancel(),this.K=null);var r=null,o=null,i=Aa(n.f,t).then(function(t){return r=ea(t),o=iu(t),t});return t=n.pc.then(function(){return i}).then(function(t){return el(n,t)}).then(function(){return wi({user:sl(n),credential:r,additionalUserInfo:o,operationType:"signIn"})}),this.c(t)},t.tc=function(){return ci()},t.signInWithPopup=function(t){if(!ni())return Mn(new Ii("operation-not-supported-in-this-environment"));var n=this,r=Oi(t.providerId),o=this.tc(),i=null;(!ii()||Ko())&&this.i().options.authDomain&&t.isOAuthProvider&&(i=bs(this.i().options.authDomain,this.i().options.apiKey,this.i().name,"signInViaPopup",t,null,o,e.SDK_VERSION||null));var a=Bo(i,r&&r.Zb,r&&r.Yb);return r=$c(this).then(function(e){return e.$b(a,"signInViaPopup",t,o,!!i)}).then(function(){return new In(function(t,e){n.bb("signInViaPopup",null,new Ii("cancelled-popup-request"),n.la),n.ka=t,n.Va=e,n.la=o,n.K=n.v.fc(n,"signInViaPopup",a,o)})}).then(function(t){return a&&zo(a),t?wi(t):null}).g(function(t){throw a&&zo(a),t}),this.c(r)},t.signInWithRedirect=function(t){if(!ni())return Mn(new Ii("operation-not-supported-in-this-environment"));var e=this,n=$c(this).then(function(){return Wc(e.na)}).then(function(){return e.v.ac("signInViaRedirect",t)});return this.c(n)},t.getRedirectResult=function(){if(!ni())return Mn(new Ii("operation-not-supported-in-this-environment"));var t=this,e=$c(this).then(function(){return t.v.getRedirectResult()}).then(function(t){return t?wi(t):null});return this.c(e)};var el=function(t,e){var n={};return n.apiKey=t.i().options.apiKey,n.authDomain=t.i().options.authDomain,n.appName=t.i().name,t.pc.then(function(){return Nc(n,e,t.zb,ct(t.M))}).then(function(e){return sl(t)&&e.uid==sl(t).uid?(sl(t).copy(e),t.pb(e)):(nl(t,e),mc(e),t.pb(e))}).then(function(){t.Ta()})},nl=function(t,e){sl(t)&&(fc(sl(t),t.bf),Ee(sl(t),"tokenChanged",t.Gb),Ee(sl(t),"userDeleted",t.$e),Ee(sl(t),"userInvalidated",t.af),hc(sl(t))),e&&(e.Sc.push(t.bf),be(e,"tokenChanged",t.Gb),be(e,"userDeleted",t.$e),be(e,"userInvalidated",t.af),0<t.Oa&&lc(e)),_i(t,"currentUser",e),e&&(e.Cb(t.ia),ic(e,t),ac(e,t.M),sc(e,t))};Xc.prototype.signOut=function(){var t=this,e=this.ya.then(function(){return sl(t)?(nl(t,null),Gc(t.na).then(function(){t.Ta()})):Rn()});return this.c(e)};var rl=function(t){var e=t.i().options.authDomain;return e=jc(t.zb,e).then(function(e){return(t.Za=e)&&(e.Ya=t.zb),Vc(t.zb)}),t.c(e)},ol=function(t){var e=t.i().options.authDomain,n=rl(t).then(function(){return Kc(t.na,e)}).then(function(e){return e?(e.Ya=t.zb,t.Za&&(t.Za.Ha||null)==(e.Ha||null)?e:e.reload().then(function(){return Hc(t.na,e).then(function(){return e})}).g(function(n){return"auth/network-request-failed"==n.code?e:Gc(t.na)})):null}).then(function(e){nl(t,e||null)});return t.c(n)},il=function(t){return t.pc.then(function(){return t.getRedirectResult()}).g(function(){}).then(function(){if(!t.Ea)return t.ud()}).g(function(){}).then(function(){if(!t.Ea){t.Dc=!0;var e=t.na;e.h.addListener(qc("local"),e.j,t.ud)}})};t=Xc.prototype,t.vg=function(){var t=this,e=this.i().options.authDomain;return Kc(this.na,e).then(function(e){if(!t.Ea){var n;if(n=sl(t)&&e){n=sl(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return sl(t).copy(e),sl(t).getIdToken();(sl(t)||e)&&(nl(t,e),e&&(mc(e),e.Ya=t.zb),t.v&&t.v.subscribe(t),t.Ta())}})},t.pb=function(t){return Hc(this.na,t)},t.wd=function(){this.Ta(),this.pb(sl(this))},t.Lf=function(){this.signOut()},t.Mf=function(){this.signOut()};var al=function(t,e){var n=null,r=null;return t.c(e.then(function(e){return n=ea(e),r=iu(e),el(t,e)}).then(function(){return wi({user:sl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};t=Xc.prototype,t.Pf=function(t){var e=this;this.addAuthTokenListener(function(){t.next(sl(e))})},t.Rf=function(t){var e=this;cl(this,function(){t.next(sl(e))})},t.onIdTokenChanged=function(t,n,r){var o=this;return this.Dc&&e.Promise.resolve().then(function(){p(t)?t(sl(o)):p(t.next)&&t.next(sl(o))}),this.ag(t,n,r)},t.onAuthStateChanged=function(t,n,r){var o=this;return this.Dc&&e.Promise.resolve().then(function(){o.mc=o.getUid(),p(t)?t(sl(o)):p(t.next)&&t.next(sl(o))}),this.cg(t,n,r)},t.Ff=function(t){var e=this,n=this.ya.then(function(){return sl(e)?sl(e).getIdToken(t).then(function(t){return{accessToken:t}}):null});return this.c(n)},t.signInWithCustomToken=function(t){var e=this;return this.ya.then(function(){return al(e,os(e.f,$a,{token:t}))}).then(function(t){return t=t.user,xc(t,"isAnonymous",!1),e.pb(t)}).then(function(){return sl(e)})},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.ya.then(function(){return al(n,os(n.f,ts,{email:t,password:e}))}).then(function(t){return t.user})},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.ya.then(function(){return al(n,os(n.f,La,{email:t,password:e}))}).then(function(t){return t.user})},t.signInWithCredential=function(t){return this.signInAndRetrieveDataWithCredential(t).then(function(t){return t.user})},t.signInAndRetrieveDataWithCredential=function(t){var e=this;return this.ya.then(function(){return al(e,t.Ob(e.f))})},t.signInAnonymously=function(){var t=this;return this.ya.then(function(){var e=sl(t);return e&&e.isAnonymous?e:al(t,t.f.signInAnonymously()).then(function(e){return e=e.user,xc(e,"isAnonymous",!0),t.pb(e)}).then(function(){return sl(t)})})},t.i=function(){return this.app};var sl=function(t){return t.currentUser};Xc.prototype.getUid=function(){return sl(this)&&sl(this).uid||null};var ul=function(t){return sl(t)&&sl(t)._lat||null};t=Xc.prototype,t.Ta=function(){if(this.Dc){for(var t=0;t<this.Ka.length;t++)this.Ka[t]&&this.Ka[t](ul(this));if(this.mc!==this.getUid()&&this.Fb.length)for(this.mc=this.getUid(),t=0;t<this.Fb.length;t++)this.Fb[t]&&this.Fb[t](ul(this))}},t.lf=function(t){this.addAuthTokenListener(t),0<++this.Oa&&sl(this)&&lc(sl(this))},t.ig=function(t){var e=this;$(this.Ka,function(n){n==t&&e.Oa--}),0>this.Oa&&(this.Oa=0),0==this.Oa&&sl(this)&&hc(sl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.Ka.push(t),this.c(this.ya.then(function(){e.Ea||ot(e.Ka,t)&&t(ul(e))}))},t.removeAuthTokenListener=function(t){st(this.Ka,function(e){return e==t})};var cl=function(t,e){t.Fb.push(e),t.c(t.ya.then(function(){!t.Ea&&ot(t.Fb,e)&&t.mc!==t.getUid()&&(t.mc=t.getUid(),e(ul(t)))}))};t=Xc.prototype,t.delete=function(){this.Ea=!0;for(var t=0;t<this.J.length;t++)this.J[t].cancel("app-deleted");return this.J=[],this.na&&(t=this.na,t.h.removeListener(qc("local"),t.j,this.ud)),this.v&&this.v.unsubscribe(this),e.Promise.resolve()},t.c=function(t){var e=this;return this.J.push(t),Vn(t,function(){it(e.J,t)}),t},t.fetchProvidersForEmail=function(t){return this.c(xa(this.f,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},t.confirmPasswordReset=function(t,e){return this.c(this.f.confirmPasswordReset(t,e).then(function(){}))},t.checkActionCode=function(t){return this.c(this.f.checkActionCode(t).then(function(t){return new eu(t)}))},t.applyActionCode=function(t){return this.c(this.f.applyActionCode(t).then(function(){}))},t.sendPasswordResetEmail=function(t,e){var n=this;return this.c(Rn().then(function(){return void 0===e||vt(e)?{}:Js(new Ys(e))}).then(function(e){return n.f.sendPasswordResetEmail(t,e)}).then(function(){}))},t.signInWithPhoneNumber=function(t,e){return this.c(tu(this,t,e,y(this.signInAndRetrieveDataWithCredential,this)))};var ll=function(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<e.length;a++)if(e[a].optional)i=!0;else{if(i)throw new Ii("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=e.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=e[o].optional&&void 0===n[o],!e[o].U(n[o])&&!i){if(e=e[o],0>o||o>=hl.length)throw new Ii("internal-error","Argument validator received an unsupported number of arguments.");n=hl[o],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.T+".";break t}r=null}}if(r)throw new Ii("argument-error",t+" failed: "+r)},hl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),pl=function(t,e){return{name:t||"",T:"a valid string",optional:!!e,U:i}},fl=function(){return{name:"opt_forceRefresh",T:"a boolean",optional:!0,U:a}},dl=function(t,e){return{name:t||"",T:"a valid object",optional:!!e,U:f}},ml=function(t,e){return{name:t||"",T:"a function",optional:!!e,U:p}},yl=function(t,e){return{name:t||"",T:"null",optional:!!e,U:c}},gl=function(){return{name:"",T:"an HTML element",optional:!1,U:function(t){return!!(t&&t instanceof Element)}}},vl=function(){return{name:"auth",T:"an instance of Firebase Auth",optional:!0,U:function(t){return!!(t&&t instanceof Xc)}}},_l=function(){return{name:"app",T:"an instance of Firebase App",optional:!0,U:function(t){return!!(t&&t instanceof e.app.App)}}},bl=function(t){return{name:t?t+"Credential":"credential",T:t?"a valid "+t+" credential":"a valid credential",optional:!1,U:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.Ob||!n)}}},wl=function(){return{name:"authProvider",T:"a valid Auth provider",optional:!1,U:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},xl=function(){return{name:"applicationVerifier",T:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,U:function(t){return!!(t&&i(t.type)&&p(t.verify))}}},Cl=function(t,e,n,r){return{name:n||"",T:t.T+" or "+e.T,optional:!!r,U:function(n){return t.U(n)||e.U(n)}}},El=function(t,e){for(var n in e){var r=e[n].name;t[r]=Tl(r,t[n],e[n].a)}},Sl=function(t,e,n,r){t[e]=Tl(e,n,r)},Tl=function(t,e,n){if(!n)return e;var r=Pl(t);t=function(){var t=Array.prototype.slice.call(arguments);return ll(r,n,t),e.apply(this,t)};for(var o in e)t[o]=e[o];for(o in e.prototype)t.prototype[o]=e.prototype[o];return t},Pl=function(t){return t=t.split("."),t[t.length-1]};El(Xc.prototype,{applyActionCode:{name:"applyActionCode",a:[pl("code")]},checkActionCode:{name:"checkActionCode",a:[pl("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[pl("code"),pl("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[pl("email"),pl("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[pl("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Cl(dl(),ml(),"nextOrObserver"),ml("opt_error",!0),ml("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[Cl(dl(),ml(),"nextOrObserver"),ml("opt_error",!0),ml("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[pl("email"),Cl(dl("opt_actionCodeSettings",!0),yl(null,!0),"opt_actionCodeSettings",!0)]},setPersistence:{name:"setPersistence",a:[pl("persistence")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[bl()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[bl()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[pl("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[pl("email"),pl("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[pl("phoneNumber"),xl()]},signInWithPopup:{name:"signInWithPopup",a:[wl()]},signInWithRedirect:{name:"signInWithRedirect",a:[wl()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[pl(null,!0)]},useDeviceLanguage:{name:"useDeviceLanguage",a:[]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[pl("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var o=e[n].nf;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){ll(r,[o],[t],!0),this[n]=t},enumerable:!0})}}}(Xc.prototype,{lc:{name:"languageCode",nf:Cl(pl(),yl(),"languageCode")}}),Xc.Persistence=pu,Xc.Persistence.LOCAL="local",Xc.Persistence.SESSION="session",Xc.Persistence.NONE="none",El(oc.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[fl()]},getToken:{name:"getToken",a:[fl()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[bl()]},linkWithCredential:{name:"linkWithCredential",a:[bl()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[pl("phoneNumber"),xl()]},linkWithPopup:{name:"linkWithPopup",a:[wl()]},linkWithRedirect:{name:"linkWithRedirect",a:[wl()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[bl()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[bl()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[pl("phoneNumber"),xl()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[wl()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[wl()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[Cl(dl("opt_actionCodeSettings",!0),yl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",a:[pl(null,!0)]},unlink:{name:"unlink",a:[pl("provider")]},updateEmail:{name:"updateEmail",a:[pl("email")]},updatePassword:{name:"updatePassword",a:[pl("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[bl("phone")]},updateProfile:{name:"updateProfile",a:[dl("profile")]}}),El(In.prototype,{g:{name:"catch"},then:{name:"then"}}),El($s.prototype,{confirm:{name:"confirm",a:[pl("verificationCode")]}}),Sl(Zi,"credential",function(t,e){return new Xi(t,e)},[pl("email"),pl("password")]),El(Bi.prototype,{addScope:{name:"addScope",a:[pl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[dl("customOAuthParameters")]}}),Sl(Bi,"credential",Ui,[Cl(pl(),dl(),"token")]),El(qi.prototype,{addScope:{name:"addScope",a:[pl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[dl("customOAuthParameters")]}}),Sl(qi,"credential",Wi,[Cl(pl(),dl(),"token")]),El(Hi.prototype,{addScope:{name:"addScope",a:[pl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[dl("customOAuthParameters")]}}),Sl(Hi,"credential",Gi,[Cl(pl(),Cl(dl(),yl()),"idToken"),Cl(pl(),yl(),"accessToken",!0)]),El(Ki.prototype,{setCustomParameters:{name:"setCustomParameters",a:[dl("customOAuthParameters")]}}),Sl(Ki,"credential",Qi,[Cl(pl(),dl(),"token"),pl("secret",!0)]),El(zi.prototype,{addScope:{name:"addScope",a:[pl("scope")]},credential:{name:"credential",a:[Cl(pl(),yl(),"idToken",!0),Cl(pl(),yl(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[dl("customOAuthParameters")]}}),Sl($i,"credential",ta,[pl("verificationId"),pl("verificationCode")]),El($i.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[pl("phoneNumber"),xl()]}}),El(Ii.prototype,{toJSON:{name:"toJSON",a:[pl(null,!0)]}}),El(ra.prototype,{toJSON:{name:"toJSON",a:[pl(null,!0)]}}),El(Mi.prototype,{toJSON:{name:"toJSON",a:[pl(null,!0)]}}),El(ks.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Xc,Error:Ii};Sl(t,"EmailAuthProvider",Zi,[]),Sl(t,"FacebookAuthProvider",Bi,[]),Sl(t,"GithubAuthProvider",qi,[]),Sl(t,"GoogleAuthProvider",Hi,[]),Sl(t,"TwitterAuthProvider",Ki,[]),Sl(t,"OAuthProvider",zi,[pl("providerId")]),Sl(t,"PhoneAuthProvider",$i,[vl()]),Sl(t,"RecaptchaVerifier",ks,[Cl(pl(),gl(),"recaptchaContainer"),dl("recaptchaParameters",!0),_l()]),e.INTERNAL.registerService("auth",function(t,e){return t=new Xc(t),e({INTERNAL:{getUid:y(t.getUid,t),getToken:y(t.Ff,t),addAuthTokenListener:y(t.lf,t),removeAuthTokenListener:y(t.ig,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),e.INTERNAL.extendNamespace({User:oc})}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{})}).call(e,n("fRUx"))},"13je":function(t,e,n){"use strict";function r(t,e){try{return e?i.initializeApp(t,e):i.initializeApp(t)}catch(t){return"app/duplicate-app"===t.code?i.app(t.name):i.app(null)}}var o=n("/oeL"),i=n("2D4A"),a=new o.y("FirebaseAppConfigToken"),s=function(){function t(){}return t}(),u=n("yR50"),c=new o.y("FirebaseAppName"),l={provide:s,useFactory:r,deps:[a,c]},h=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:a,useValue:e},{provide:c,useValue:n}]}},t.decorators=[{type:o.E,args:[{providers:[l]}]}],t.ctorParameters=function(){return[]},t}(),p=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return u.queue.schedule.apply(u.queue,t)})},t}();n.d(e,!1,function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return a}),n.d(e,"f",function(){return r})},"1Dsc":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){}return t}();o.decorators=[{type:r.l,args:[{selector:"ngb-modal-backdrop",template:"",host:{class:"modal-backdrop fade show"}}]}],o.ctorParameters=function(){return[]}},"1Fi6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sha1=void 0;var r=n("a3fj"),o=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return o(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}for(var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(i=l^u&(c^l),a=1518500249):(i=u^c^l,a=1859775393):r<60?(i=u&c|l&(u|c),a=2400959708):(i=u^c^l,a=3395469782);var o=(s<<5|s>>>27)+i+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++i,++r,i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},e}(r.Hash);e.Sha1=i},"1VPd":function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&f&&(m=!1,f.length?d=f.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},"1cov":function(t,e,n){"use strict";function r(t){if(t.search(u)>=0)throw new i.FirestoreError(i.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(s.bind.apply(s,[void 0].concat(t.split("."))))}catch(e){throw new i.FirestoreError(i.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}Object.defineProperty(e,"__esModule",{value:!0}),e.FieldPath=void 0,e.fromDotSeparatedString=r;var o=n("n8qD"),i=n("3vSt"),a=n("mupS"),s=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(0,a.validateNamedArrayAtLeastNumberOfElements)("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if((0,a.validateArgType)("FieldPath","string",n,t[n]),0===t[n].length)throw new i.FirestoreError(i.Code.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new o.FieldPath(t)}return t.documentId=function(){return t._DOCUMENT_ID},t._DOCUMENT_ID=new t(o.FieldPath.keyField().canonicalString()),t}();e.FieldPath=s;var u=new RegExp("[~\\*/\\[\\]]")},"1eQ7":function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),a=n("TpsG");e.first=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new a.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},"1iF1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChildChangeAccumulator=void 0;var r=n("dSvz"),o=n("VhRD"),i=n("Iylt"),a=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,i.assert)(e==o.Change.CHILD_ADDED||e==o.Change.CHILD_CHANGED||e==o.Change.CHILD_REMOVED,"Only child changes supported for tracking"),(0,i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var a=(0,r.safeGet)(this.changeMap_,n);if(a){var s=a.type;if(e==o.Change.CHILD_ADDED&&s==o.Change.CHILD_REMOVED)this.changeMap_[n]=o.Change.childChangedChange(n,t.snapshotNode,a.snapshotNode);else if(e==o.Change.CHILD_REMOVED&&s==o.Change.CHILD_ADDED)delete this.changeMap_[n];else if(e==o.Change.CHILD_REMOVED&&s==o.Change.CHILD_CHANGED)this.changeMap_[n]=o.Change.childRemovedChange(n,a.oldSnap);else if(e==o.Change.CHILD_CHANGED&&s==o.Change.CHILD_ADDED)this.changeMap_[n]=o.Change.childAddedChange(n,t.snapshotNode);else{if(e!=o.Change.CHILD_CHANGED||s!=o.Change.CHILD_CHANGED)throw(0,i.assertionError)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap_[n]=o.Change.childChangedChange(n,t.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return(0,r.getValues)(this.changeMap_)},t}();e.ChildChangeAccumulator=a},"2B7B":function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var o=n("zijX");e.symbolIteratorPonyfill=r,e.iterator=r(o.root),e.$$iterator=e.iterator},"2D4A":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("/buS");var r=n("slqE"),o=(0,r.createFirebaseNamespace)();e.default=o,t.exports=e.default},"2LMR":function(t,e,n){"use strict";function r(t){return new u(t)}var o=(n("0yuy"),n("/oeL")),i=n("bKpL"),a=n("AHF9"),s=n("13je"),u=(n("Pic8"),n("/zHi"),n("7u+W"),function(){function t(t){var e=this;this.app=t,this.auth=t.auth();var n=new i.Observable(function(t){return{unsubscribe:e.auth.onAuthStateChanged(t)}});this.authState=a.observeOn.call(n,new s.e(Zone.current));var r=new i.Observable(function(t){return{unsubscribe:e.auth.onIdTokenChanged(t)}}).switchMap(function(t){return t?i.Observable.fromPromise(t.getIdToken()):i.Observable.of(null)});this.idToken=a.observeOn.call(r,new s.e(Zone.current))}return t.decorators=[{type:o.x}],t.ctorParameters=function(){return[{type:s.b}]},t}()),c={provide:u,useFactory:r,deps:[s.b]},l=[c],h=function(){function t(){}return t.decorators=[{type:o.E,args:[{imports:[s.a],providers:[l]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,"a",function(){return u}),n.d(e,"c",function(){return r}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return l}),n.d(e,"b",function(){return h})},"2UX9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}();e.SortedMapIterator=r;var o=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:a.EMPTY_NODE,this.right=null!=i?i:a.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return o=this,r=n(t,o.key),o=r<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n)),o.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=o;var i=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new o(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}();e.LLRBEmptyNode=i;var a=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,o.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,o.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new r(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new r(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new i,t}();e.SortedMap=a},"2nEU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortedSet=void 0;var r=n("3wYX"),o=function(){function t(t){this.comparator=t,this.data=new r.SortedMap(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}();e.SortedSet=o},"2waW":function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("f1rf"),a=0,s=function(){function t(t){this.tplRef=t,this.id="ngb-slide-"+a++}return t}();s.decorators=[{type:r.p,args:[{selector:"ng-template[ngbSlide]"}]}],s.ctorParameters=function(){return[{type:r._0}]},s.propDecorators={id:[{type:r.A}]};var u=function(){function t(t){this.slide=new r.s,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard}return t.prototype.ngAfterContentChecked=function(){var t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:null},t.prototype.ngOnInit=function(){this._startTimer()},t.prototype.ngOnChanges=function(t){"interval"in t&&!t.interval.isFirstChange()&&this._restartTimer()},t.prototype.ngOnDestroy=function(){clearInterval(this._slideChangeInterval)},t.prototype.select=function(t){this.cycleToSelected(t,this._getSlideEventDirection(this.activeId,t)),this._restartTimer()},t.prototype.prev=function(){this.cycleToPrev(),this._restartTimer()},t.prototype.next=function(){this.cycleToNext(),this._restartTimer()},t.prototype.pause=function(){this._stopTimer()},t.prototype.cycle=function(){this._startTimer()},t.prototype.cycleToNext=function(){this.cycleToSelected(this._getNextSlide(this.activeId),c.LEFT)},t.prototype.cycleToPrev=function(){this.cycleToSelected(this._getPrevSlide(this.activeId),c.RIGHT)},t.prototype.cycleToSelected=function(t,e){var n=this._getSlideById(t);n&&(n.id!==this.activeId&&this.slide.emit({prev:this.activeId,current:n.id,direction:e}),this.activeId=n.id)},t.prototype.keyPrev=function(){this.keyboard&&this.prev()},t.prototype.keyNext=function(){this.keyboard&&this.next()},t.prototype._restartTimer=function(){this._stopTimer(),this._startTimer()},t.prototype._startTimer=function(){var t=this;this.interval>0&&(this._slideChangeInterval=setInterval(function(){t.cycleToNext()},this.interval))},t.prototype._stopTimer=function(){clearInterval(this._slideChangeInterval)},t.prototype._getSlideById=function(t){var e=this.slides.filter(function(e){return e.id===t});return e.length?e[0]:null},t.prototype._getSlideIdxById=function(t){return this.slides.toArray().indexOf(this._getSlideById(t))},t.prototype._getNextSlide=function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return n===e.length-1?this.wrap?e[0].id:e[e.length-1].id:e[n+1].id},t.prototype._getPrevSlide=function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return 0===n?this.wrap?e[e.length-1].id:e[0].id:e[n-1].id},t.prototype._getSlideEventDirection=function(t,e){return this._getSlideIdxById(t)>this._getSlideIdxById(e)?c.RIGHT:c.LEFT},t}();u.decorators=[{type:r.l,args:[{selector:"ngb-carousel",exportAs:"ngbCarousel",host:{class:"carousel slide","[style.display]":'"block"',tabIndex:"0","(mouseenter)":"pause()","(mouseleave)":"cycle()","(keydown.arrowLeft)":"keyPrev()","(keydown.arrowRight)":"keyNext()"},template:'\n    <ol class="carousel-indicators">\n      <li *ngFor="let slide of slides" [id]="slide.id" [class.active]="slide.id === activeId" \n          (click)="cycleToSelected(slide.id, _getSlideEventDirection(activeId, slide.id))"></li>\n    </ol>\n    <div class="carousel-inner">\n      <div *ngFor="let slide of slides" class="carousel-item" [class.active]="slide.id === activeId">\n        <ng-template [ngTemplateOutlet]="slide.tplRef"></ng-template>\n      </div>\n    </div>\n    <a class="carousel-control-prev" role="button" (click)="cycleToPrev()">\n      <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n      <span class="sr-only">Previous</span>\n    </a>\n    <a class="carousel-control-next" role="button" (click)="cycleToNext()">\n      <span class="carousel-control-next-icon" aria-hidden="true"></span>\n      <span class="sr-only">Next</span>\n    </a>\n    '}]}],u.ctorParameters=function(){return[{type:i.a}]},u.propDecorators={slides:[{type:r.o,args:[s]}],interval:[{type:r.A}],wrap:[{type:r.A}],keyboard:[{type:r.A}],activeId:[{type:r.A}],slide:[{type:r.L}]};var c;!function(t){t[t.LEFT="left"]="LEFT",t[t.RIGHT="right"]="RIGHT"}(c||(c={}));var l=[u,s];n.d(e,"a",function(){return h}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return i.a});var h=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[i.a]}},t}();h.decorators=[{type:r.E,args:[{declarations:l,exports:l,imports:[o.c]}]}],h.ctorParameters=function(){return[]}},"2xRK":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyRestClient=void 0;var r=n("Iylt"),o=n("sN0z"),i=n("xrQA"),a=n("dSvz"),s=n("Pqa3"),u=n("QSE1"),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=(0,o.logWrapper)("p:rest:"),i.listens_={},i}return c(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,r.assert)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var i=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&i.onDataUpdate_(s,n,!1,r),(0,a.safeGet)(i.listens_,u)===c){var l;l=t?401==t?"permission_denied":"rest_error:"+t:"ok",o(l,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var u=a&&a.accessToken;u&&(e.auth=u);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+(0,s.querystring)(e);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=(0,i.jsonEval)(l.responseText)}catch(t){(0,o.warn)("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&(0,o.warn)("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()})},e}(u.ServerActions);e.ReadonlyRestClient=l},"3/38":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringLength=e.stringToByteArray=void 0;var r=n("Iylt");e.stringToByteArray=function(t){for(var e=[],n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=55296&&i<=56319){var a=i-55296;o++,(0,r.assert)(o<t.length,"Surrogate pair missing trail surrogate.");i=65536+(a<<10)+(t.charCodeAt(o)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},"3GBa":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChildEventRegistration=e.ValueEventRegistration=void 0;var r=n("bjno"),o=n("XBZp"),i=n("dSvz"),a=n("Iylt"),s=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new o.DataEvent("value",this,new r.DataSnapshot(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,a.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new o.CancelEvent(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}();e.ValueEventRegistration=s;var u=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,(0,i.contains)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new o.CancelEvent(this,t,e):null},t.prototype.createEvent=function(t,e){(0,a.assert)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new o.DataEvent(t.type,this,new r.DataSnapshot(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,a.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=(0,i.getCount)(e.callbacks_);if(n===(0,i.getCount)(this.callbacks_)){if(1===n){var r=(0,i.getAnyKey)(e.callbacks_),o=(0,i.getAnyKey)(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return(0,i.every)(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}();e.ChildEventRegistration=u},"3NMk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryQueryCache=void 0;var r=n("pZ/q"),o=n("/zE0"),i=n("G3bM"),a=n("mpwt"),s=function(){function t(){this.queries=new o.ObjectMap(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=r.SnapshotVersion.MIN,this.highestTargetId=0,this.references=new a.ReferenceSet}return t.prototype.start=function(t){return i.PersistencePromise.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,i.PersistencePromise.resolve()},t.prototype.addQueryData=function(t,e){this.queries.set(e.query,e);var n=e.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),i.PersistencePromise.resolve()},t.prototype.removeQueryData=function(t,e){return this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),i.PersistencePromise.resolve()},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return i.PersistencePromise.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),i.PersistencePromise.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),i.PersistencePromise.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),i.PersistencePromise.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return i.PersistencePromise.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}();e.MemoryQueryCache=s},"3aE0":function(t,e,n){"use strict";function r(t){return null===t||void 0===t}function o(t){return c(t)&&t<=u&&t>=s}function i(t){return a.IsNaN?a.IsNaN(t):"number"==typeof t&&isNaN(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNullOrUndefined=r,e.isSafeInteger=o,e.safeIsNaN=i;var a=Number,s=e.MIN_SAFE_INTEGER=a.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),u=e.MAX_SAFE_INTEGER=a.MAX_SAFE_INTEGER||Math.pow(2,53)-1,c=e.isInteger=a.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}},"3lsR":function(t,e,n){"use strict";var r=n("bKpL"),o=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=o},"3nuH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpGarbageCollector=void 0;var r=n("rwiY"),o=n("G3bM"),i=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return o.PersistencePromise.resolve((0,r.documentKeySet)())},t}();e.NoOpGarbageCollector=i},"3rU7":function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("wM1e"),a=n("Wv1e"),s=function(){function t(t){this.value=0,this.max=t.max,this.animated=t.animated,this.striped=t.striped,this.type=t.type,this.showValue=t.showValue}return t.prototype.getValue=function(){return Object(i.a)(this.value,this.max)},t.prototype.getPercentValue=function(){return 100*this.getValue()/this.max},t}();s.decorators=[{type:r.l,args:[{selector:"ngb-progressbar",changeDetection:r.i.OnPush,template:'\n    <div class="progress">\n      <div class="progress-bar{{type ? \' bg-\' + type : \'\'}}{{animated ? \' progress-bar-animated\' : \'\'}}{{striped ?\n    \' progress-bar-striped\' : \'\'}}" role="progressbar" [style.width.%]="getPercentValue()"\n    [attr.aria-valuenow]="getValue()" aria-valuemin="0" [attr.aria-valuemax]="max">\n        <span *ngIf="showValue">{{getPercentValue()}}%</span><ng-content></ng-content>\n      </div>\n    </div>\n  '}]}],s.ctorParameters=function(){return[{type:a.a}]},s.propDecorators={max:[{type:r.A}],animated:[{type:r.A}],striped:[{type:r.A}],showValue:[{type:r.A}],type:[{type:r.A}],value:[{type:r.A}]},n.d(e,"a",function(){return u}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return a.a});var u=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.a]}},t}();u.decorators=[{type:r.E,args:[{declarations:[s],exports:[s],imports:[o.c]}]}],u.ctorParameters=function(){return[]}},"3vSt":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=(e.Code={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r(e,t),e}(Error));e.FirestoreError=o},"3wYX":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LLRBEmptyNode=e.LLRBNode=e.SortedMapIterator=e.SortedMap=void 0;var r=n("wg5S"),o=function(){function t(t,e){this.comparator=t,this.root=e||a.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,a.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,a.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e=this.root,n=null;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o){if(e.left.isEmpty())return n?n.key:null;for(e=e.left;!e.right.isEmpty();)e=e.right;return e.key}o<0?e=e.left:o>0&&(n=e,e=e.right)}throw(0,r.fail)("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(t){return new i(this.root,null,this.comparator,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new i(this.root,t,this.comparator,!1,e)},t.prototype.getReverseIterator=function(t){return new i(this.root,null,this.comparator,!0,t)},t.prototype.getReverseIteratorFrom=function(t,e){return new i(this.root,t,this.comparator,!0,e)},t}();e.SortedMap=o;var i=function(){function t(t,e,n,r,o){this.resultGenerator=o||null,this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){(0,r.assert)(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t,e=this.nodeStack.pop();if(t=this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value},this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value}},t}();e.SortedMapIterator=i;var a=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw(0,r.fail)("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw(0,r.fail)("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw(0,r.fail)("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=a;var s=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new a(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();e.LLRBEmptyNode=s,a.EMPTY=new s},"422b":function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.filter=r;var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},"4HaF":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/oeL"),o=n("JFa0"),i=n("QGDq"),a=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[i.a]}},t}();a.decorators=[{type:r.E,args:[{declarations:[o.a,o.b],exports:[o.a],entryComponents:[o.b]}]}],a.ctorParameters=function(){return[]}},"4Q/O":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("/oeL"),o=n("bm2B"),i=n("KSV9"),a=n("GaSD"),s=n("/6Tg"),u=n("kdH+"),c=n("pd7P"),l=n("wM1e"),h=n("HRzg"),p=n("CuDZ"),f=n("w0dp"),d={provide:o.c,useExisting:Object(r._8)(function(){return m}),multi:!0},m=function(){function t(t,e,n,o,i,a,s){var u=this;this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=o,this._cd=a,this._elementRef=s,this.navigate=new r.s,this.onChange=function(t){},this.onTouched=function(){},this.dayTemplate=i.dayTemplate,this.displayMonths=i.displayMonths,this.firstDayOfWeek=i.firstDayOfWeek,this.markDisabled=i.markDisabled,this.minDate=i.minDate,this.maxDate=i.maxDate,this.navigation=i.navigation,this.outsideDays=i.outsideDays,this.showWeekdays=i.showWeekdays,this.showWeekNumbers=i.showWeekNumbers,this.startDate=i.startDate,this._subscription=e.model$.subscribe(function(t){var e=t.firstDate,n=u.model?u.model.firstDate:null,r=t.selectedDate,o=u.model?u.model.selectedDate:null;u.model=t,Object(f.d)(r,o)&&(u.onTouched(),u.onChange(r?{year:r.year,month:r.month,day:r.day}:null)),e.equals(n)||u.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month}}),a.markForCheck()})}return t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.prototype.getHeaderHeight=function(){var t=this.showWeekdays?6.25:4.25;return 1===this.displayMonths||"select"!==this.navigation?t-2:t},t.prototype.getHeaderMargin=function(){var t=this.showWeekdays?2:0;return 1!==this.displayMonths||"select"!==this.navigation?t+2:t},t.prototype.navigateTo=function(t){this._service.open(t?new a.a(t.year,t.month,1):this._calendar.getToday())},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.prototype.ngOnInit=function(){void 0===this.model&&(this._service.displayMonths=Object(l.h)(this.displayMonths),this._service.markDisabled=this.markDisabled,this._service.firstDayOfWeek=this.firstDayOfWeek,this._setDates())},t.prototype.ngOnChanges=function(t){t.displayMonths&&(this._service.displayMonths=Object(l.h)(this.displayMonths)),t.markDisabled&&(this._service.markDisabled=this.markDisabled),t.firstDayOfWeek&&(this._service.firstDayOfWeek=this.firstDayOfWeek),this._setDates()},t.prototype.onDateSelect=function(t){this._service.focus(t),this.writeValue(t)},t.prototype.onKeyDown=function(t){this._keyMapService.processKey(t)},t.prototype.onNavigateDateSelect=function(t){this._service.open(t)},t.prototype.onNavigateEvent=function(t){switch(t){case c.a.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case c.a.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._service.disabled=t},t.prototype.showFocus=function(t){this._service.focusVisible=t},t.prototype.writeValue=function(t){this._service.select(t)},t.prototype._setDates=function(){var t=this._service.toValidDate(this.startDate,this._calendar.getToday()),e=this._service.toValidDate(this.minDate,this._calendar.getPrev(t,"y",10)),n=this._service.toValidDate(this.maxDate,this._calendar.getPrev(this._calendar.getNext(t,"y",11)));this.minDate={year:e.year,month:e.month,day:e.day},this.maxDate={year:n.year,month:n.month,day:n.day},this._service.minDate=e,this._service.maxDate=n,this.navigateTo(t)},t}();m.decorators=[{type:r.l,args:[{exportAs:"ngbDatepicker",selector:"ngb-datepicker",changeDetection:r.i.OnPush,host:{class:"d-inline-block rounded",tabindex:"0","[attr.tabindex]":'model.disabled ? undefined : "0"',"(blur)":"showFocus(false)","(focus)":"showFocus(true)","(keydown)":"onKeyDown($event)"},styles:["\n    :host {\n      border: 1px solid rgba(0, 0, 0, 0.125);\n    }\n    .ngb-dp-header {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    }\n    .ngb-dp-month {\n      pointer-events: none;\n    }\n    ngb-datepicker-month-view {\n      pointer-events: auto;\n    }\n    .ngb-dp-month:first-child {\n      margin-left: 0 !important;\n    }\n    .ngb-dp-month-name {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n    }\n  "],template:'\n    <ng-template #dt let-date="date" let-currentMonth="currentMonth" let-selected="selected" let-disabled="disabled" let-focused="focused">\n      <div ngbDatepickerDayView\n        [date]="date"\n        [currentMonth]="currentMonth"\n        [selected]="selected"\n        [disabled]="disabled"\n        [focused]="focused">\n      </div>\n    </ng-template>\n\n    <div class="ngb-dp-header bg-light pt-1 rounded-top" [style.height.rem]="getHeaderHeight()"\n         [style.marginBottom.rem]="-getHeaderMargin()">\n      <ngb-datepicker-navigation *ngIf="navigation !== \'none\'"\n        [date]="model.firstDate"\n        [minDate]="model.minDate"\n        [maxDate]="model.maxDate"\n        [months]="model.months.length"\n        [disabled]="model.disabled"\n        [showWeekNumbers]="showWeekNumbers"\n        [showSelect]="navigation === \'select\'"\n        (navigate)="onNavigateEvent($event)"\n        (select)="onNavigateDateSelect($event)">\n      </ngb-datepicker-navigation>\n    </div>\n\n    <div class="ngb-dp-months d-flex px-1 pb-1">\n      <ng-template ngFor let-month [ngForOf]="model.months" let-i="index">\n        <div class="ngb-dp-month d-block ml-3">\n          <div *ngIf="navigation !== \'select\' || displayMonths > 1" class="ngb-dp-month-name text-center">\n            {{ i18n.getMonthFullName(month.number) }} {{ month.year }}\n          </div>\n          <ngb-datepicker-month-view\n            [month]="month"\n            [dayTemplate]="dayTemplate || dt"\n            [showWeekdays]="showWeekdays"\n            [showWeekNumbers]="showWeekNumbers"\n            [outsideDays]="(displayMonths === 1 ? outsideDays : \'hidden\')"\n            (select)="onDateSelect($event)">\n          </ngb-datepicker-month-view>\n        </div>\n      </ng-template>\n    </div>\n  ',providers:[d,s.a,u.a]}]}],m.ctorParameters=function(){return[{type:u.a},{type:s.a},{type:i.a},{type:p.a},{type:h.a},{type:r.j},{type:r.q}]},m.propDecorators={dayTemplate:[{type:r.A}],displayMonths:[{type:r.A}],firstDayOfWeek:[{type:r.A}],markDisabled:[{type:r.A}],maxDate:[{type:r.A}],minDate:[{type:r.A}],navigation:[{type:r.A}],outsideDays:[{type:r.A}],showWeekdays:[{type:r.A}],showWeekNumbers:[{type:r.A}],startDate:[{type:r.A}],navigate:[{type:r.L}]}},"56vs":function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.skipWhile=r;var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return o(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.Subscriber)},"59zy":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.max=10,this.readonly=!1,this.resettable=!1}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"5FV4":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.closeOthers=!1}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"5aJC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n("Iylt"),a=n("JvZA"),s=n("GIDU"),u=n("dOxD"),c=n("O07j"),l=n("sN0z"),h=n("y6vc"),p=n("ezsS"),f=n("Yt+N"),d=n("3GBa"),m=n("U+HO"),y=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,i.assert)(r,"Reference.ts has not been loaded"),r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===a.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=l.MIN_NAME)throw new Error(r);if("string"!=typeof e)throw new Error(h)}if(t.hasEnd()){if(t.getIndexEndName()!=l.MAX_NAME)throw new Error(r);if("string"!=typeof n)throw new Error(h)}}else if(t.getIndex()===s.PRIORITY_INDEX){if(null!=e&&!(0,p.isValidPriority)(e)||null!=n&&!(0,p.isValidPriority)(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,i.assert)(t.getIndex()instanceof c.PathIndex||t.getIndex()===u.VALUE_INDEX,"unknown index type."),null!=e&&"object"===(void 0===e?"undefined":o(e))||null!=n&&"object"===(void 0===n?"undefined":o(n)))throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return(0,f.validateArgCount)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){(0,f.validateArgCount)("Query.on",2,4,arguments.length),(0,p.validateEventType)("Query.on",1,e,!1),(0,f.validateCallback)("Query.on",2,n,!1);var i=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,i.cancel,i.context);else{var a={};a[e]=n,this.onChildEvent(a,i.cancel,i.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new d.ValueEventRegistration(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new d.ChildEventRegistration(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){(0,f.validateArgCount)("Query.off",0,3,arguments.length),(0,p.validateEventType)("Query.off",1,t,!0),(0,f.validateCallback)("Query.off",2,e,!0),(0,f.validateContextObject)("Query.off",3,n,!0);var r=null,o=null;if("value"===t){var i=e||null;r=new d.ValueEventRegistration(i,null,n||null)}else t&&(e&&(o={},o[t]=e),r=new d.ChildEventRegistration(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var i=this;(0,f.validateArgCount)("Query.once",1,4,arguments.length),(0,p.validateEventType)("Query.once",1,e,!1),(0,f.validateCallback)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),s=!0,u=new m.Deferred;(0,m.attachDummyErrorHandler)(u.promise);var c=function t(r){s&&(s=!1,i.off(e,t),n&&n.bind(a.context)(r),u.resolve(r))};return this.on(e,c,function(t){i.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if((0,f.validateArgCount)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if((0,f.validateArgCount)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if((0,f.validateArgCount)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');(0,p.validatePathString)("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new h.Path(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new c.PathIndex(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){(0,f.validateArgCount)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(a.KEY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){(0,f.validateArgCount)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(s.PRIORITY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){(0,f.validateArgCount)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(u.VALUE_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),(0,f.validateArgCount)("Query.startAt",0,2,arguments.length),(0,p.validateFirebaseDataArg)("Query.startAt",1,e,this.path,!0),(0,p.validateKey)("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),(0,f.validateArgCount)("Query.endAt",0,2,arguments.length),(0,p.validateFirebaseDataArg)("Query.endAt",1,e,this.path,!0),(0,p.validateKey)("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if((0,f.validateArgCount)("Query.equalTo",1,2,arguments.length),(0,p.validateFirebaseDataArg)("Query.equalTo",1,t,this.path,!1),(0,p.validateKey)("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return(0,f.validateArgCount)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return(0,f.validateArgCount)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=(0,l.ObjectToUniqueKey)(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if((0,f.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,(0,f.validateCallback)(t,3,r.cancel,!0),r.context=n,(0,f.validateContextObject)(t,4,r.context,!0);else if(e)if("object"===(void 0===e?"undefined":o(e))&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,f.errorPrefix)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();e.Query=y},"5h8W":function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("+E40"),a=0,s=function(){function t(t){this.templateRef=t}return t}();s.decorators=[{type:r.p,args:[{selector:"ng-template[ngbTabTitle]"}]}],s.ctorParameters=function(){return[{type:r._0}]};var u=function(){function t(t){this.templateRef=t}return t}();u.decorators=[{type:r.p,args:[{selector:"ng-template[ngbTabContent]"}]}],u.ctorParameters=function(){return[{type:r._0}]};var c=function(){function t(){this.id="ngb-tab-"+a++,this.disabled=!1}return t}();c.decorators=[{type:r.p,args:[{selector:"ngb-tab"}]}],c.ctorParameters=function(){return[]},c.propDecorators={id:[{type:r.A}],title:[{type:r.A}],disabled:[{type:r.A}],contentTpl:[{type:r.n,args:[u]}],titleTpl:[{type:r.n,args:[s]}]};var l=function(){function t(t){this.destroyOnHide=!0,this.tabChange=new r.s,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}return Object.defineProperty(t.prototype,"justify",{set:function(t){this.justifyClass="fill"===t||"justified"===t?"nav-"+t:"justify-content-"+t},enumerable:!0,configurable:!0}),t.prototype.select=function(t){var e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:function(){n=!0}}),n||(this.activeId=e.id)}},t.prototype.ngAfterContentChecked=function(){var t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null},t.prototype._getTabById=function(t){var e=this.tabs.filter(function(e){return e.id===t});return e.length?e[0]:null},t}();l.decorators=[{type:r.l,args:[{selector:"ngb-tabset",exportAs:"ngbTabset",template:'\n    <ul [class]="\'nav nav-\' + type + (orientation == \'horizontal\'?  \' \' + justifyClass : \' flex-column\')" role="tablist">\n      <li class="nav-item" *ngFor="let tab of tabs">\n        <a [id]="tab.id" class="nav-link" [class.active]="tab.id === activeId" [class.disabled]="tab.disabled"\n          href (click)="!!select(tab.id)" role="tab" [attr.tabindex]="(tab.disabled ? \'-1\': undefined)"\n          [attr.aria-controls]="(!destroyOnHide || tab.id === activeId ? tab.id + \'-panel\' : null)"\n          [attr.aria-expanded]="tab.id === activeId" [attr.aria-disabled]="tab.disabled">\n          {{tab.title}}<ng-template [ngTemplateOutlet]="tab.titleTpl?.templateRef"></ng-template>\n        </a>\n      </li>\n    </ul>\n    <div class="tab-content">\n      <ng-template ngFor let-tab [ngForOf]="tabs">\n        <div\n          class="tab-pane {{tab.id === activeId ? \'active\' : null}}"\n          *ngIf="!destroyOnHide || tab.id === activeId"\n          role="tabpanel"\n          [attr.aria-labelledby]="tab.id" id="{{tab.id}}-panel"\n          [attr.aria-expanded]="tab.id === activeId">\n          <ng-template [ngTemplateOutlet]="tab.contentTpl.templateRef"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  '}]}],l.ctorParameters=function(){return[{type:i.a}]},l.propDecorators={tabs:[{type:r.o,args:[c]}],activeId:[{type:r.A}],destroyOnHide:[{type:r.A}],justify:[{type:r.A}],orientation:[{type:r.A}],type:[{type:r.A}],tabChange:[{type:r.L}]},n.d(e,"a",function(){return p}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return i.a});var h=[l,c,u,s],p=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[i.a]}},t}();p.decorators=[{type:r.E,args:[{declarations:h,exports:h,imports:[o.c]}]}],p.ctorParameters=function(){return[]}},"5v8a":function(t,e,n){"use strict";var r=n("bKpL"),o=n("lx+J");r.Observable.prototype.map=o.map},"67Ck":function(t,e,n){"use strict";var r=n("bKpL"),o=n("56vs");r.Observable.prototype.skipWhile=o.skipWhile},"6NKQ":function(t,e,n){"use strict";var r=n("bKpL"),o=n("kkQ5");r.Observable.prototype.scan=o.scan},"6NMu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsCollection=void 0;var r=n("SiZc"),o=n("dSvz"),i=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,r.deepCopy)(this.counters_)},t}();e.StatsCollection=i},"6Xbx":function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=r;var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},"6ade":function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("bm2B"),a=n("wM1e"),s=function(){function t(t,e,n){this.hour=Object(a.h)(t),this.minute=Object(a.h)(e),this.second=Object(a.h)(n)}return t.prototype.changeHour=function(t){void 0===t&&(t=1),this.updateHour((isNaN(this.hour)?0:this.hour)+t)},t.prototype.updateHour=function(t){Object(a.d)(t)?this.hour=(t<0?24+t:t)%24:this.hour=NaN},t.prototype.changeMinute=function(t){void 0===t&&(t=1),this.updateMinute((isNaN(this.minute)?0:this.minute)+t)},t.prototype.updateMinute=function(t){Object(a.d)(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN},t.prototype.changeSecond=function(t){void 0===t&&(t=1),this.updateSecond((isNaN(this.second)?0:this.second)+t)},t.prototype.updateSecond=function(t){Object(a.d)(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN},t.prototype.isValid=function(t){return void 0===t&&(t=!0),Object(a.d)(this.hour)&&Object(a.d)(this.minute)&&(!t||Object(a.d)(this.second))},t.prototype.toString=function(){return(this.hour||0)+":"+(this.minute||0)+":"+(this.second||0)},t}(),u=n("V6Dl"),c={provide:i.c,useExisting:Object(r._8)(function(){return l}),multi:!0},l=function(){function t(t){this.onChange=function(t){},this.onTouched=function(){},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}return t.prototype.writeValue=function(t){this.model=t?new s(t.hour,t.minute,t.second):new s,this.seconds||t&&Object(a.d)(t.second)||(this.model.second=0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.changeHour=function(t){this.model.changeHour(t),this.propagateModelChange()},t.prototype.changeMinute=function(t){this.model.changeMinute(t),this.propagateModelChange()},t.prototype.changeSecond=function(t){this.model.changeSecond(t),this.propagateModelChange()},t.prototype.updateHour=function(t){var e=this.model.hour>=12,n=Object(a.h)(t);this.meridian&&(e&&n<12||!e&&12===n)?this.model.updateHour(n+12):this.model.updateHour(n),this.propagateModelChange()},t.prototype.updateMinute=function(t){this.model.updateMinute(Object(a.h)(t)),this.propagateModelChange()},t.prototype.updateSecond=function(t){this.model.updateSecond(Object(a.h)(t)),this.propagateModelChange()},t.prototype.toggleMeridian=function(){this.meridian&&this.changeHour(12)},t.prototype.formatHour=function(t){return Object(a.d)(t)?this.meridian?Object(a.f)(t%12==0?12:t%12):Object(a.f)(t%24):Object(a.f)(NaN)},t.prototype.formatMinSec=function(t){return Object(a.f)(t)},t.prototype.setFormControlSize=function(){return{"form-control-sm":"small"===this.size,"form-control-lg":"large"===this.size}},t.prototype.setButtonSize=function(){return{"btn-sm":"small"===this.size,"btn-lg":"large"===this.size}},t.prototype.ngOnChanges=function(t){t.seconds&&!this.seconds&&this.model&&!Object(a.d)(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))},t.prototype.propagateModelChange=function(t){void 0===t&&(t=!0),t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange({hour:this.model.hour,minute:this.model.minute,second:this.model.second}):this.onChange(null)},t}();l.decorators=[{type:r.l,args:[{selector:"ngb-timepicker",styles:["\n    .ngb-tp {\n      display: flex;\n      align-items: center;\n    }\n\n    .ngb-tp-hour, .ngb-tp-minute, .ngb-tp-second, .ngb-tp-meridian {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: space-around;\n    }\n\n    .ngb-tp-spacer {\n      width: 1em;\n      text-align: center;\n    }\n\n    .chevron::before {\n      border-style: solid;\n      border-width: 0.29em 0.29em 0 0;\n      content: '';\n      display: inline-block;\n      height: 0.69em;\n      left: 0.05em;\n      position: relative;\n      top: 0.15em;\n      transform: rotate(-45deg);\n      -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n      vertical-align: middle;\n      width: 0.71em;\n    }\n\n    .chevron.bottom:before {\n      top: -.3em;\n      -webkit-transform: rotate(135deg);\n      -ms-transform: rotate(135deg);\n      transform: rotate(135deg);\n    }\n\n    .btn-link {\n      outline: 0;\n    }\n\n    .btn-link.disabled {\n      cursor: not-allowed;\n      opacity: .65;\n    }\n\n    input {\n      text-align: center;\n      display: inline-block;\n      width: auto;\n    }\n  "],template:'\n    <fieldset [disabled]="disabled" [class.disabled]="disabled">\n      <div class="ngb-tp">\n        <div class="ngb-tp-hour">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeHour(hourStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron"></span>\n            <span class="sr-only">Increment hours</span>\n          </button>\n          <input type="text" class="form-control" [ngClass]="setFormControlSize()" maxlength="2" size="2" placeholder="HH"\n            [value]="formatHour(model?.hour)" (change)="updateHour($event.target.value)"\n            [readonly]="readonlyInputs" [disabled]="disabled" aria-label="Hours">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeHour(-hourStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron bottom"></span>\n            <span class="sr-only">Decrement hours</span>\n          </button>\n        </div>\n        <div class="ngb-tp-spacer">:</div>\n        <div class="ngb-tp-minute">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeMinute(minuteStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron"></span>\n            <span class="sr-only">Increment minutes</span>\n          </button>\n          <input type="text" class="form-control" [ngClass]="setFormControlSize()" maxlength="2" size="2" placeholder="MM"\n            [value]="formatMinSec(model?.minute)" (change)="updateMinute($event.target.value)"\n            [readonly]="readonlyInputs" [disabled]="disabled" aria-label="Minutes">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeMinute(-minuteStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron bottom"></span>\n            <span class="sr-only">Decrement minutes</span>\n          </button>\n        </div>\n        <div *ngIf="seconds" class="ngb-tp-spacer">:</div>\n        <div *ngIf="seconds" class="ngb-tp-second">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeSecond(secondStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron"></span>\n            <span class="sr-only">Increment seconds</span>\n          </button>\n          <input type="text" class="form-control" [ngClass]="setFormControlSize()" maxlength="2" size="2" placeholder="SS"\n            [value]="formatMinSec(model?.second)" (change)="updateSecond($event.target.value)"\n            [readonly]="readonlyInputs" [disabled]="disabled" aria-label="Seconds">\n          <button *ngIf="spinners" type="button" class="btn-link" [ngClass]="setButtonSize()" (click)="changeSecond(-secondStep)"\n            [disabled]="disabled" [class.disabled]="disabled">\n            <span class="chevron bottom"></span>\n            <span class="sr-only">Decrement seconds</span>\n          </button>\n        </div>\n        <div *ngIf="meridian" class="ngb-tp-spacer"></div>\n        <div *ngIf="meridian" class="ngb-tp-meridian">\n          <button type="button" class="btn btn-outline-primary" [ngClass]="setButtonSize()"\n            [disabled]="disabled" [class.disabled]="disabled"\n            (click)="toggleMeridian()">{{model?.hour >= 12 ? \'PM\' : \'AM\'}}</button>\n        </div>\n      </div>\n    </fieldset>\n  ',providers:[c]}]}],l.ctorParameters=function(){return[{type:u.a}]},l.propDecorators={meridian:[{type:r.A}],spinners:[{type:r.A}],seconds:[{type:r.A}],hourStep:[{type:r.A}],minuteStep:[{type:r.A}],secondStep:[{type:r.A}],readonlyInputs:[{type:r.A}],size:[{type:r.A}]},n.d(e,"a",function(){return h}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return u.a});var h=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[u.a]}},t}();h.decorators=[{type:r.E,args:[{declarations:[l],exports:[l],imports:[o.c]}]}],h.ctorParameters=function(){return[]}},"6jp4":function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},"6l4v":function(t,e,n){"use strict";function r(t,e,n){if(n.equals(a.NullValue.INSTANCE)){if(e!==p.EQUAL)throw new c.FirestoreError(c.Code.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new d(t)}if(n.equals(a.DoubleValue.NAN)){if(e!==p.EQUAL)throw new c.FirestoreError(c.Code.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new m(t)}return new f(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.OrderBy=e.Bound=e.Direction=e.NanFilter=e.NullFilter=e.RelationFilter=e.RelationOp=e.Query=void 0,e.fieldFilter=r;var o=n("d9fJ"),i=n("V2Ax"),a=n("ieSv"),s=n("n8qD"),u=n("wg5S"),c=n("3vSt"),l=n("3aE0"),h=function(){function t(t,e,n,r,o,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===i&&(i=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=o,this.endAt=i,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[_]:this.memoizedOrderBy=[new v(t),_];else{(0,u.assert)(null===t||null!==e&&t.equals(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:y.ASCENDING;this.memoizedOrderBy.push(a===y.ASCENDING?_:b)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){(0,u.assert)(null==this.getInequalityFilterField()||!(e instanceof f)||!e.isInequality()||e.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),(0,u.assert)(!i.DocumentKey.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){(0,u.assert)(!i.DocumentKey.isDocumentKey(this.path),"No ordering allowed for document query"),(0,u.assert)(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){t+=o[r].canonicalId(),t+=","}(0,l.isNullOrUndefined)(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),(0,l.isNullOrUndefined)(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.equals=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].equals(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].equals(t.filters[e]))return!1;return!!this.path.equals(t.path)&&(!(null!==this.startAt?!this.startAt.equals(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.equals(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(t,e);if(0!==a)return a;n=n||i.field.isKeyField()}return(0,u.assert)(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!(0,l.isNullOrUndefined)(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof f&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return i.DocumentKey.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return i.DocumentKey.isDocumentKey(this.path)?this.path.equals(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){(0,u.assert)(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}();e.Query=h;var p=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return(0,u.fail)("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}();e.RelationOp=p;var f=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){(0,u.assert)(this.value instanceof a.RefValue,"Comparing on key, but filter value not a RefValue");var e=this.value,n=i.DocumentKey.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case p.LESS_THAN:return t<0;case p.LESS_THAN_OR_EQUAL:return t<=0;case p.EQUAL:return 0===t;case p.GREATER_THAN:return t>0;case p.GREATER_THAN_OR_EQUAL:return t>=0;default:return(0,u.fail)("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==p.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.equals=function(e){return e instanceof t&&(this.op.equals(e.op)&&this.field.equals(e.field)&&this.value.equals(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}();e.RelationFilter=f;var d=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}();e.NullFilter=d;var m=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}();e.NanFilter=m;var y=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}();e.Direction=y;var g=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){(0,u.assert)(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],s=this.position[r];if(o.field.isKeyField())(0,u.assert)(s instanceof a.RefValue,"Bound has a non-key value where the key path is being used."),n=i.DocumentKey.comparator(s.key,e.key);else{var c=e.field(o.field);(0,u.assert)(void 0!==c,"Field should exist since document matched the orderBy already."),n=s.compareTo(c)}if(o.dir===y.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.equals=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.equals(r)}return!0},t}();e.Bound=g;var v=function(){function t(t,e){this.field=t,void 0===e&&(e=y.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?o.Document.compareByKey(t,e):o.Document.compareByField(this.field,t,e);switch(this.dir){case y.ASCENDING:return n;case y.DESCENDING:return-1*n;default:return(0,u.fail)("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.equals=function(t){return this.dir===t.dir&&this.field.equals(t.field)},t}();e.OrderBy=v;var _=new v(s.FieldPath.keyField(),y.ASCENDING),b=new v(s.FieldPath.keyField(),y.DESCENDING)},"6lYl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepoManager=void 0;var r=n("dSvz"),o=n("DuAm"),i=n("sN0z"),a=n("OJVB"),s=n("ezsS");n("nBII");var u,c=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return u||(u=new t),u},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&(0,i.fatal)("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=(0,a.parseRepoInfo)(n),o=r.repoInfo;return(0,s.validateUrl)("Invalid Firebase Database URL",1,r),r.path.isEmpty()||(0,i.fatal)("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=(0,r.safeGet)(this.repos_,t.app.name);e&&(0,r.safeGet)(e,t.repoInfo_.toURLString())===t||(0,i.fatal)("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=(0,r.safeGet)(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var a=(0,r.safeGet)(n,t.toURLString());return a&&(0,i.fatal)("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new o.Repo(t,this.useRestClient_,e),n[t.toURLString()]=a,a},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}();e.RepoManager=c},"6mzA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EagerGarbageCollector=void 0;var r=n("rwiY"),o=n("G3bM"),i=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=(0,r.documentKeySet)()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],i=(0,r.documentKeySet)();return this.potentialGarbage.forEach(function(r){var a=e.documentHasAnyReferences(t,r);n.push(a.next(function(t){return t||(i=i.add(r)),o.PersistencePromise.resolve()}))}),this.potentialGarbage=(0,r.documentKeySet)(),o.PersistencePromise.waitFor(n).next(function(){return i})},t.prototype.documentHasAnyReferences=function(t,e){var n=o.PersistencePromise.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?o.PersistencePromise.resolve(!0):e()})},n)},t}();e.EagerGarbageCollector=i},"6tYO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnDisconnect=void 0;var r=n("Yt+N"),o=n("ezsS"),i=n("sN0z"),a=n("U+HO"),s=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){(0,r.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,r.validateCallback)("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){(0,r.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateWritablePath)("OnDisconnect.remove",this.path_),(0,r.validateCallback)("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){(0,r.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateWritablePath)("OnDisconnect.set",this.path_),(0,o.validateFirebaseDataArg)("OnDisconnect.set",1,t,this.path_,!1),(0,r.validateCallback)("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){(0,r.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateWritablePath)("OnDisconnect.setWithPriority",this.path_),(0,o.validateFirebaseDataArg)("OnDisconnect.setWithPriority",1,t,this.path_,!1),(0,o.validatePriority)("OnDisconnect.setWithPriority",2,e,!1),(0,r.validateCallback)("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if((0,r.validateArgCount)("OnDisconnect.update",1,2,arguments.length),(0,o.validateWritablePath)("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},s=0;s<t.length;++s)n[""+s]=t[s];t=n,(0,i.warn)("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateFirebaseMergeDataArg)("OnDisconnect.update",1,t,this.path_,!1),(0,r.validateCallback)("OnDisconnect.update",2,e,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,u.wrapCallback(e)),u.promise},t}();e.OnDisconnect=s},"6w/o":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListenComplete=void 0;var r=n("y6vc"),o=n("NE16"),i=function(){function t(t,e){this.source=t,this.path=e,this.type=o.OperationType.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,r.Path.Empty):new t(this.source,this.path.popFront())},t}();e.ListenComplete=i},"75Hr":function(t,e,n){"use strict";function r(t,e,n,r){var i=Array.isArray(n)?n:[n],s=i.findIndex(function(t){return"auto"===t});s>=0&&["top","right","bottom","left"].forEach(function(t){null==i.find(function(e){return-1!==e.search("^"+t+"|^"+t+"-")})&&i.splice(s++,1,t)});for(var u,c=0,l=0,h=a.getAvailablePlacements(t,e),p=0,f=o(i);p<f.length;p++){var d=f[p],m=d.item,y=d.index;if("break"===function(n,o){if(null!=h.find(function(t){return t===n})||i.length===o+1){u=n;var s=a.positionElements(t,e,n,r);return c=s.top,l=s.left,"break"}}(m,y))break}return e.style.top=c+"px",e.style.left=l+"px",u}function o(t){return t.map(function(t,e){return{item:t,index:e}})}e.a=r;var i=function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){void 0===e&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect();else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var o=r?this.offset(t,!1):this.position(t,!1),i=this.getAllStyles(e),a=e.getBoundingClientRect(),s=n.split("-")[0]||"top",u=n.split("-")[1]||"center",c={height:a.height||e.offsetHeight,width:a.width||e.offsetWidth,top:0,bottom:a.height||e.offsetHeight,left:0,right:a.width||e.offsetWidth};switch(s){case"top":c.top=o.top-(e.offsetHeight+parseFloat(i.marginBottom));break;case"bottom":c.top=o.top+o.height;break;case"left":c.left=o.left-(e.offsetWidth+parseFloat(i.marginRight));break;case"right":c.left=o.left+o.width}switch(u){case"top":c.top=o.top;break;case"bottom":c.top=o.top+o.height-e.offsetHeight;break;case"left":c.left=o.left;break;case"right":c.left=o.left+o.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?c.left=o.left+o.width/2-e.offsetWidth/2:c.top=o.top+o.height/2-e.offsetHeight/2}return c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right),c},t.prototype.getAvailablePlacements=function(t,e){var n=[],r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=document.documentElement;return o.width<r.left&&(r.top+r.height/2-e.offsetHeight/2>0&&n.splice(n.length,1,"left"),this.setSecondaryPlacementForLeftRight(r,o,"left",n)),o.height<r.top&&(n.splice(n.length,1,"top"),this.setSecondaryPlacementForTopBottom(r,o,"top",n)),(window.innerWidth||i.clientWidth)-r.right>o.width&&(r.top+r.height/2-e.offsetHeight/2>0&&n.splice(n.length,1,"right"),this.setSecondaryPlacementForLeftRight(r,o,"right",n)),(window.innerHeight||i.clientHeight)-r.bottom>o.height&&(n.splice(n.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(r,o,"bottom",n)),n},t.prototype.setSecondaryPlacementForLeftRight=function(t,e,n,r){var o=document.documentElement;e.height<=t.bottom&&r.splice(r.length,1,n+"-bottom"),(window.innerHeight||o.clientHeight)-t.top>=e.height&&r.splice(r.length,1,n+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,e,n,r){var o=document.documentElement;(window.innerHeight||o.clientHeight)-t.left>=e.width&&r.splice(r.length,1,n+"-left"),e.width<=t.right&&r.splice(r.length,1,n+"-right")},t}(),a=new i},"7AyI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SessionStorage=e.PersistentStorage=void 0;var r=n("S15v"),o=n("SqRb"),i=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(e)}}catch(t){}return new o.MemoryStorage};e.PersistentStorage=i("localStorage"),e.SessionStorage=i("sessionStorage")},"7JOC":function(t,e,n){"use strict";var r=n("OWbQ");e.from=r.FromObservable.create},"7bNK":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebChannelConnection=void 0;var r=n("vEYP"),o=n("UWaG"),i=n("pf8o"),a=n("oQVo"),s=n("wg5S"),u=n("3vSt"),c=n("0C8m"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),h=n("U+HO"),p="Connection",f="gl-js/ fire/"+o.SDK_VERSION,d=function(){function t(t){this.databaseId=t.databaseId,this.pool=new r.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=f,t["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},t.prototype.invoke=function(t,e,n){var o=this,a=this.makeUrl(t);return new h.PromiseImpl(function(c,h){o.pool.getObject(function(f){f.listenOnce(r.EventType.COMPLETE,function(){try{switch(f.getLastErrorCode()){case r.ErrorCode.NO_ERROR:var e=f.getResponseJson();l.debug(p,"XHR received:",JSON.stringify(e)),c(e);break;case r.ErrorCode.TIMEOUT:l.error('RPC "'+t+'" timed out, retrying.'),h(new u.FirestoreError(u.Code.DEADLINE_EXCEEDED,"Request time out"));break;case r.ErrorCode.HTTP_ERROR:var n=f.getStatus();l.error('RPC "'+t+'" failed with status:',n,"response text:",f.getResponseText()),n>0?h(new u.FirestoreError((0,i.mapCodeFromHttpStatus)(n),"Server responded with status "+f.getStatusText())):(l.error(p,'RPC "'+t+'" failed, retrying.'),h(new u.FirestoreError(u.Code.UNAVAILABLE,"Connection failed.")));break;default:(0,s.fail)('RPC "'+t+'" failed with unanticipated webchannel error '+f.getLastErrorCode()+": "+f.getLastError()+", giving up.")}}finally{l.debug(p,'RPC "'+t+'" completed.'),o.pool.releaseObject(f)}});var d=JSON.stringify(e);l.debug(p,"XHR sending: ",a+" "+d);var m={"Content-Type":"text/plain"};o.modifyHeadersForRequest(m,n),f.send(a,"POST",d,m,15)})})},t.prototype.openStream=function(e,n){var o=t.RPC_STREAM_SERVICE_MAPPING[e],c=t.RPC_STREAM_NAME_MAPPING[e];o&&c||(0,s.fail)("Unknown RPC name: "+e);var h=[this.baseUrl,"/",o,"/",c,"/channel"],f=(0,r.createWebChannelTransport)(),d={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(d.initMessageHeaders,n);var m=h.join("");l.debug(p,"Creating WebChannel: "+m+" "+d);var y=f.createWebChannel(m,d),g=!1,v=!1,_=new a.StreamBridge({sendFn:function(t){v?l.debug(p,"Not sending because WebChannel is closed:",t):(g||(l.debug(p,"Opening WebChannel transport."),y.open(),g=!0),l.debug(p,"WebChannel sending:",t),y.send(t))},closeFn:function(){return y.close()}}),b=function(t,e){y.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return b(r.WebChannel.EventType.OPEN,function(){v||l.debug(p,"WebChannel transport opened.")}),b(r.WebChannel.EventType.CLOSE,function(){v||(v=!0,l.debug(p,"WebChannel transport closed"),_.callOnClose())}),b(r.WebChannel.EventType.ERROR,function(t){v||(v=!0,l.debug(p,"WebChannel transport errored:",t),_.callOnClose(new u.FirestoreError(u.Code.UNAVAILABLE,"The operation could not be completed")))}),b(r.WebChannel.EventType.MESSAGE,function(t){if(!v){var e=t.data[0];(0,s.assert)(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){l.debug(p,"WebChannel received error:",n);var r=n.status,o=(0,i.mapCodeFromRpcStatus)(r),a=n.message;void 0===o&&(o=u.Code.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),v=!0,_.callOnClose(new u.FirestoreError(o,a)),y.close()}else l.debug(p,"WebChannel received:",e),_.callOnMessage(e)}}),setTimeout(function(){_.callOnOpen()},0),_},t.prototype.makeUrl=function(t){var e=[this.baseUrl,"/","v1beta1"];return e.push("/projects/"),e.push(this.databaseId.projectId),e.push("/databases/"),e.push(this.databaseId.database),e.push("/documents"),e.push(":"),e.push(t),e.join("")},t.RPC_STREAM_SERVICE_MAPPING={Write:"google.firestore.v1beta1.Firestore",Listen:"google.firestore.v1beta1.Firestore"},t.RPC_STREAM_NAME_MAPPING={Write:"Write",Listen:"Listen"},t}();e.WebChannelConnection=d},"7u+W":function(t,e,n){"use strict";var r=n("bKpL"),o=n("QU9E");r.Observable.fromPromise=o.fromPromise},"7zUS":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.placement="top",this.triggers="click"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"8Ben":function(t,e,n){"use strict";function r(t){return t(this)}e.letProto=r},"97M5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeSdk=e.isReactNative=e.isMobileCordova=e.getUA=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("OsVr"),i=e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""};e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i())},e.isReactNative=function(){return"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===o.CONSTANTS.NODE_CLIENT||!0===o.CONSTANTS.NODE_ADMIN}},"9BZZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentChangeSet=e.SyncState=e.ChangeType=void 0;var r=n("V2Ax"),o=n("wg5S"),i=n("3wYX"),a=e.ChangeType=void 0;!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(a||(e.ChangeType=a={}));var s=e.SyncState=void 0;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(s||(e.SyncState=s={}));var u=function(){function t(){this.changeMap=new i.SortedMap(r.DocumentKey.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);if(!n)return void(this.changeMap=this.changeMap.insert(e,t));t.type!==a.Added&&n.type===a.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===a.Metadata&&n.type!==a.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===a.Modified&&n.type===a.Modified?this.changeMap=this.changeMap.insert(e,{type:a.Modified,doc:t.doc}):t.type===a.Modified&&n.type===a.Added?this.changeMap=this.changeMap.insert(e,{type:a.Added,doc:t.doc}):t.type===a.Removed&&n.type===a.Added?this.changeMap=this.changeMap.remove(e):t.type===a.Removed&&n.type===a.Modified?this.changeMap=this.changeMap.insert(e,{type:a.Removed,doc:n.doc}):t.type===a.Added&&n.type===a.Removed?this.changeMap=this.changeMap.insert(e,{type:a.Modified,doc:t.doc}):(0,o.fail)("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n))},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}();e.DocumentChangeSet=u},"9SBu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAdmin=e.isValidFormat=e.issuedAtTime=e.isValidTimestamp=e.decode=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("sN0z"),i=n("xrQA"),a=e.decode=function(t){var e={},n={},r={},a="";try{var s=t.split(".");e=(0,i.jsonEval)((0,o.base64Decode)(s[0])||""),n=(0,i.jsonEval)((0,o.base64Decode)(s[1])||""),a=s[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:a}};e.isValidTimestamp=function(t){var e,n,o=a(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"===(void 0===o?"undefined":r(o))&&(o.hasOwnProperty("nbf")?e=o.nbf:o.hasOwnProperty("iat")&&(e=o.iat),n=o.hasOwnProperty("exp")?o.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.issuedAtTime=function(t){var e=a(t).claims;return"object"===(void 0===e?"undefined":r(e))&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=a(t),n=e.claims;return!!e.signature&&!!n&&"object"===(void 0===n?"undefined":r(n))&&n.hasOwnProperty("iat")},e.isAdmin=function(t){var e=a(t).claims;return"object"===(void 0===e?"undefined":r(e))&&!0===e.admin}},AHF9:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),a=n("3lsR");e.observeOn=r;var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return o(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(a.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(a.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},AMBp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateMapping=e.ResetMapping=e.CurrentStatusUpdate=e.RemoteEvent=void 0;var r=n("pZ/q"),o=n("rwiY"),i=n("v3x7"),a=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new c,snapshotVersion:r.SnapshotVersion.MIN,currentStatusUpdate:s.MarkNotCurrent,resumeToken:(0,i.emptyByteString)()}},t}();e.RemoteEvent=a;var s=e.CurrentStatusUpdate=void 0;!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(s||(e.CurrentStatusUpdate=s={}));var u=(0,o.documentKeySet)(),c=function(){function t(){this.docs=u}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.equals=function(t){return null!==t&&this.docs.equals(t.docs)},t}();e.ResetMapping=c;var l=function(){function t(){this.addedDocuments=u,this.removedDocuments=u}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.equals=function(t){return null!==t&&this.addedDocuments.equals(t.addedDocuments)&&this.removedDocuments.equals(t.removedDocuments)},t}();e.UpdateMapping=l},ANvD:function(t,e,n){"use strict";function r(t){return(0,c.assert)("string"==typeof t,"Persisting non-string stream token not supported."),t}function o(t){return s(t,d.DbMutationBatch.store)}function i(t){return s(t,d.DbDocumentMutation.store)}function a(t){return s(t,d.DbMutationQueue.store)}function s(t,e){return t instanceof y.SimpleDbTransaction?t.store(e):(0,c.fail)("Invalid transaction object provided!")}Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedDbMutationQueue=void 0;var u=n("RFuG"),c=n("wg5S"),l=n("D1Ck"),h=n("2nEU"),p=n("mGGb"),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),d=n("abh2"),m=n("G3bM"),y=n("d6PS"),g=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return(0,c.assert)(""!==e.uid,"UserID must not be an empty string."),new t(e.isUnauthenticated()?"":e.uid,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,a(e).get(n.userId)}).next(function(t){return t||(t=new d.DbMutationQueue(n.userId,u.BATCHID_UNKNOWN,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return(0,c.assert)(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=u.BATCHID_UNKNOWN,a(e).put(n.metadata)}):m.PersistencePromise.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=u.BATCHID_UNKNOWN;return o(t).iterate({reverse:!0},function(t,n,r){var o=t[0];if(t[1]>e&&(e=n.batchId),""===o)r.done();else{var i=(0,l.immediatePredecessor)(o);r.skip([i])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return o(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return m.PersistencePromise.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return m.PersistencePromise.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var o=e.batchId;return(0,c.assert)(o>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=o,this.metadata.lastStreamToken=r(n),a(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return m.PersistencePromise.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=r(e),a(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,a=this.nextBatchId;this.nextBatchId++;var s=new u.MutationBatch(a,e,n),c=this.serializer.toDbMutationBatch(this.userId,s);return o(t).put(c).next(function(){for(var e=[],o=0,s=n;o<s.length;o++){var u=s[o],c=(f.encode(u.key.path),d.DbDocumentMutation.key(r.userId,u.key.path,a));i(t).put(c,d.DbDocumentMutation.PLACEHOLDER)}return m.PersistencePromise.waitFor(e)}).next(function(){return s})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return o(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(e+1)),i=null;return o(t).iterate({range:r},function(t,r,o){r.userId===n.userId&&((0,c.assert)(r.batchId>e,"Should have found mutation after "+e),i=n.serializer.fromDbMutationBatch(r)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(u.BATCHID_UNKNOWN),this.keyForBatchId(Number.POSITIVE_INFINITY));return o(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(u.BATCHID_UNKNOWN),this.keyForBatchId(e));return o(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=d.DbDocumentMutation.prefixForPath(this.userId,e.path),a=IDBKeyRange.lowerBound(r),s=[];return i(t).iterate({range:a},function(r,i,a){var u=r[0],l=r[1],h=r[2],p=f.decode(l);if(u!==n.userId||!e.path.equals(p))return void a.done();var d=n.keyForBatchId(h);return o(t).get(d).next(function(t){null===t&&(0,c.fail)("Dangling document-mutation reference found: "+r+" which points to "+d),s.push(n.serializer.fromDbMutationBatch(t))})}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;(0,c.assert)(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,a=r.length+1,s=d.DbDocumentMutation.prefixForPath(this.userId,r),u=(s[1],IDBKeyRange.lowerBound(s)),p=new h.SortedSet(l.primitiveComparator);return i(t).iterate({range:u},function(t,e,o){var i=t[0],s=t[1],u=t[2],c=f.decode(s);if(i!==n.userId||!r.isPrefixOf(c))return void o.done();c.length===a&&(p=p.add(u))}).next(function(){var e=[],r=[];return p.forEach(function(i){var a=n.keyForBatchId(i);r.push(o(t).get(a).next(function(t){null===t&&(0,c.fail)("Dangling document-mutation reference found, which points to "+a),e.push(n.serializer.fromDbMutationBatch(t))}))}),m.PersistencePromise.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=o(t),r=i(t),a=[],s=this,u=0,l=e;u<l.length;u++){var h=l[u];!function(t){var e=IDBKeyRange.only(s.keyForBatchId(t.batchId)),o=0,i=n.iterate({range:e},function(t,e,n){return o++,n.delete()});a.push(i.next(function(){(0,c.assert)(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var h=l[u],p=d.DbDocumentMutation.key(s.userId,h.key.path,t.batchId);a.push(r.delete(p)),null!==s.garbageCollector&&s.garbageCollector.addPotentialGarbageKey(h.key)}}(h)}return m.PersistencePromise.waitFor(a)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return m.PersistencePromise.resolve();var r=IDBKeyRange.lowerBound(d.DbDocumentMutation.prefixForUser(e.userId)),o=[];return i(t).iterate({range:r},function(t,n,r){if(t[0]!==e.userId)return void r.done();var i=f.decode(t[1]);o.push(i)}).next(function(){(0,c.assert)(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=d.DbDocumentMutation.prefixForPath(this.userId,e.path),o=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return i(t).iterate({range:a,keysOnly:!0},function(t,e,r){var i=t[0],a=t[1];t[2];i===n.userId&&a===o&&(s=!0),r.done()}).next(function(){return s})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();e.IndexedDbMutationQueue=g},AVYa:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/oeL"),o=n("zGKh"),i=function(){function t(t,e){this._elRef=t,this._renderer=e,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.s}return t.prototype.backdropClick=function(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(o.a.BACKDROP_CLICK)},t.prototype.escKey=function(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(o.a.ESC)},t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=document.activeElement,this._renderer.addClass(document.body,"modal-open")},t.prototype.ngAfterViewInit=function(){this._elRef.nativeElement.contains(document.activeElement)||this._elRef.nativeElement.focus.apply(this._elRef.nativeElement,[])},t.prototype.ngOnDestroy=function(){var t,e=document.body,n=this._elWithFocus;t=n&&n.focus&&e.contains(n)?n:e,t.focus.apply(t,[]),this._elWithFocus=null,this._renderer.removeClass(e,"modal-open")},t}();i.decorators=[{type:r.l,args:[{selector:"ngb-modal-window",host:{"[class]":'"modal fade show" + (windowClass ? " " + windowClass : "")',role:"dialog",tabindex:"-1",style:"display: block;","(keyup.esc)":"escKey($event)","(click)":"backdropClick($event)"},template:"\n    <div [class]=\"'modal-dialog' + (size ? ' modal-' + size : '')\" role=\"document\">\n        <div class=\"modal-content\"><ng-content></ng-content></div>\n    </div>\n    "}]}],i.ctorParameters=function(){return[{type:r.q},{type:r.R}]},i.propDecorators={backdrop:[{type:r.A}],keyboard:[{type:r.A}],size:[{type:r.A}],windowClass:[{type:r.A}],dismissEvent:[{type:r.L,args:["dismiss"]}]}},"An+z":function(t,e,n){"use strict";(function(t){function n(t){var e=!1,n=0,r=document.createElement("span");return new MutationObserver(function(){t(),e=!1}).observe(r,{attributes:!0}),function(){e||(e=!0,r.setAttribute("x-index",n),n+=1)}}function r(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},ct))}}function o(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function i(t,e){if(1!==t.nodeType)return[];var n=window.getComputedStyle(t,null);return e?n[e]:n}function a(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function s(t){if(!t||-1!==["HTML","BODY","#document"].indexOf(t.nodeName))return window.document.body;var e=i(t),n=e.overflow,r=e.overflowX;return/(auto|scroll)/.test(n+e.overflowY+r)?t:s(a(t))}function u(t){var e=t&&t.offsetParent,n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===i(e,"position")?u(e):e:window.document.documentElement}function c(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||u(t.firstElementChild)===t)}function l(t){return null!==t.parentNode?l(t.parentNode):t}function h(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return window.document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(t!==a&&e!==a||r.contains(o))return c(a)?a:u(a);var s=l(t);return s.host?h(s.host,e):h(t,l(e).host)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var o=window.document.documentElement;return(window.document.scrollingElement||o)[n]}return t[n]}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p(e,"top"),o=p(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=o*i,t.right+=o*i,t}function d(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return+t["border"+n+"Width"].split("px")[0]+ +t["border"+r+"Width"].split("px")[0]}function m(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],dt()?n["offset"+t]+r["margin"+("Height"===t?"Top":"Left")]+r["margin"+("Height"===t?"Bottom":"Right")]:0)}function y(){var t=window.document.body,e=window.document.documentElement,n=dt()&&window.getComputedStyle(e);return{height:m("Height",t,e,n),width:m("Width",t,e,n)}}function g(t){return vt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function v(t){var e={};if(dt())try{e=t.getBoundingClientRect();var n=p(t,"top"),r=p(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}catch(t){}else e=t.getBoundingClientRect();var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?y():{},s=a.width||t.clientWidth||o.right-o.left,u=a.height||t.clientHeight||o.bottom-o.top,c=t.offsetWidth-s,l=t.offsetHeight-u;if(c||l){var h=i(t);c-=d(h,"x"),l-=d(h,"y"),o.width-=c,o.height-=l}return g(o)}function _(t,e){var n=dt(),r="HTML"===e.nodeName,o=v(t),a=v(e),u=s(t),c=i(e),l=+c.borderTopWidth.split("px")[0],h=+c.borderLeftWidth.split("px")[0],p=g({top:o.top-a.top-l,left:o.left-a.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!n&&r){var d=+c.marginTop.split("px")[0],m=+c.marginLeft.split("px")[0];p.top-=l-d,p.bottom-=l-d,p.left-=h-m,p.right-=h-m,p.marginTop=d,p.marginLeft=m}return(n?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(p=f(p,e)),p}function b(t){var e=window.document.documentElement,n=_(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),o=Math.max(e.clientHeight,window.innerHeight||0),i=p(e),a=p(e,"left");return g({top:i-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:r,height:o})}function w(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===i(t,"position")||w(a(t)))}function x(t,e,n,r){var o={top:0,left:0},i=h(t,e);if("viewport"===r)o=b(i);else{var u=void 0;"scrollParent"===r?(u=s(a(t)),"BODY"===u.nodeName&&(u=window.document.documentElement)):u="window"===r?window.document.documentElement:r;var c=_(u,i);if("HTML"!==u.nodeName||w(i))o=c;else{var l=y(),p=l.height,f=l.width;o.top+=c.top-c.marginTop,o.bottom=p+c.top,o.left+=c.left-c.marginLeft,o.right=f+c.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function C(t){return t.width*t.height}function E(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=x(n,r,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map(function(t){return vt({key:t},s[t],{area:C(s[t])})}).sort(function(t,e){return e.area-t.area}),c=u.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function S(t,e,n){return _(n,h(e,n))}function T(t){var e=window.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function P(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function O(t,e,n){n=n.split("-")[0];var r=T(t),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return o[a]=e[a]+e[u]/2-r[u]/2,o[s]=n===s?e[s]-r[c]:e[P(s)],o}function I(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function A(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=I(t,function(t){return t[e]===n});return t.indexOf(r)}function k(t,e,n){return(void 0===n?t:t.slice(0,A(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=g(e.offsets.popper),e.offsets.reference=g(e.offsets.reference),e=n(e,t))}),e}function D(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=S(this.state,this.popper,this.reference),t.placement=E(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=O(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=k(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function R(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function M(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length-1;r++){var o=e[r],i=o?""+o+n:t;if(void 0!==window.document.body.style[i])return i}return null}function N(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[M("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(t,e,n,r){var o="BODY"===t.nodeName,i=o?window:t;i.addEventListener(e,n,{passive:!0}),o||L(s(i.parentNode),e,n,r),r.push(i)}function F(t,e,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var o=s(t);return L(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function V(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function j(t,e){return window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function z(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=j(this.reference,this.state))}function B(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function U(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&B(e[n])&&(r="px"),t.style[n]=e[n]+r})}function q(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function W(t){return U(t.instance.popper,t.styles),q(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&U(t.arrowElement,t.arrowStyles),t}function H(t,e,n,r,o){var i=S(o,e,t),a=E(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),U(e,{position:"absolute"}),n}function G(t,e){var n=e.x,r=e.y,o=t.offsets.popper,i=I(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:e.gpuAcceleration,s=u(t.instance.popper),c=v(s),l={position:o.position},h={left:Math.floor(o.left),top:Math.floor(o.top),bottom:Math.floor(o.bottom),right:Math.floor(o.right)},p="bottom"===n?"top":"bottom",f="right"===r?"left":"right",d=M("transform"),m=void 0,y=void 0;if(y="bottom"===p?-c.height+h.bottom:h.top,m="right"===f?-c.width+h.right:h.left,a&&d)l[d]="translate3d("+m+"px, "+y+"px, 0)",l[p]=0,l[f]=0,l.willChange="transform";else{var g="bottom"===p?-1:1,_="right"===f?-1:1;l[p]=y*g,l[f]=m*_,l.willChange=p+", "+f}var b={"x-placement":t.placement};return t.attributes=vt({},b,t.attributes),t.styles=vt({},l,t.styles),t.arrowStyles=vt({},t.offsets.arrow,t.arrowStyles),t}function K(t,e,n){var r=I(t,function(t){return t.name===e}),o=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!o){var i="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function Q(t,e){if(!K(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",l=u?"Top":"Left",h=l.toLowerCase(),p=u?"left":"top",f=u?"bottom":"right",d=T(n)[c];s[f]-d<a[h]&&(t.offsets.popper[h]-=a[h]-(s[f]-d)),s[h]+d>a[f]&&(t.offsets.popper[h]+=s[h]+d-a[f]);var m=s[h]+s[c]/2-d/2,y=i(t.instance.popper,"margin"+l).replace("px",""),v=m-g(t.offsets.popper)[h]-y;return v=Math.max(Math.min(a[c]-d,v),0),t.arrowElement=n,t.offsets.arrow={},t.offsets.arrow[h]=Math.round(v),t.offsets.arrow[p]="",t}function X(t){return"end"===t?"start":"start"===t?"end":t}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=bt.indexOf(t),r=bt.slice(n+1).concat(bt.slice(0,n));return e?r.reverse():r}function Y(t,e){if(R(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),r=t.placement.split("-")[0],o=P(r),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case wt.FLIP:a=[r,o];break;case wt.CLOCKWISE:a=Z(r);break;case wt.COUNTERCLOCKWISE:a=Z(r,!0);break;default:a=e.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],o=P(r);var c=t.offsets.popper,l=t.offsets.reference,h=Math.floor,p="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),f=h(c.left)<h(n.left),d=h(c.right)>h(n.right),m=h(c.top)<h(n.top),y=h(c.bottom)>h(n.bottom),g="left"===r&&f||"right"===r&&d||"top"===r&&m||"bottom"===r&&y,v=-1!==["top","bottom"].indexOf(r),_=!!e.flipVariations&&(v&&"start"===i&&f||v&&"end"===i&&d||!v&&"start"===i&&m||!v&&"end"===i&&y);(p||g||_)&&(t.flipped=!0,(p||g)&&(r=a[u+1]),_&&(i=X(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=vt({},t.offsets.popper,O(t.instance.popper,t.offsets.reference,t.placement)),t=k(t.instance.modifiers,t,"flip"))}),t}function J(t){var e=t.offsets,n=e.popper,r=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<i(r[u])&&(t.offsets.popper[u]=i(r[u])-n[c]),n[u]>i(r[s])&&(t.offsets.popper[u]=i(r[s])),t}function $(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return g(s)[e]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function tt(t,e,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(I(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return c=c.map(function(t,r){var o=(1===r?!i:i)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return $(t,o,e,n)})}),c.forEach(function(t,e){t.forEach(function(n,r){B(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))})}),o}function et(t,e){var n=e.offset,r=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=B(+n)?[+n,0]:tt(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),t.popper=i,t}function nt(t,e){var n=e.boundariesElement||u(t.instance.popper);t.instance.reference===n&&(n=u(n));var r=x(t.instance.popper,t.instance.reference,e.padding,n);e.boundaries=r;var o=e.priority,i=t.offsets.popper,a={primary:function(t){var n=i[t];return i[t]<r[t]&&!e.escapeWithReference&&(n=Math.max(i[t],r[t])),gt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",o=i[n];return i[t]>r[t]&&!e.escapeWithReference&&(o=Math.min(i[n],r[t]-("right"===t?i.width:i.height))),gt({},n,o)}};return o.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";i=vt({},i,a[e](t))}),t.offsets.popper=i,t}function rt(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:gt({},u,i[u]),end:gt({},u,i[u]+i[c]-a[c])};t.offsets.popper=vt({},a,l[r])}return t}function ot(t){if(!K(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=I(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function it(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),t.placement=P(e),t.offsets.popper=g(o),t}for(var at=["native code","[object MutationObserverConstructor]"],st="undefined"!=typeof window,ut=["Edge","Trident","Firefox"],ct=0,lt=0;lt<ut.length;lt+=1)if(st&&navigator.userAgent.indexOf(ut[lt])>=0){ct=1;break}var ht=st&&function(t){return at.some(function(e){return(t||"").toString().indexOf(e)>-1})}(window.MutationObserver),pt=ht?n:r,ft=void 0,dt=function(){return void 0===ft&&(ft=-1!==navigator.appVersion.indexOf("MSIE 10")),ft},mt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},yt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_t=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bt=_t.slice(3),wt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},xt={shift:{order:100,enabled:!0,fn:rt},offset:{order:200,enabled:!0,fn:et,offset:0},preventOverflow:{order:300,enabled:!0,fn:nt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:J},arrow:{order:500,enabled:!0,fn:Q,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Y,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:it},hide:{order:800,enabled:!0,fn:ot},computeStyle:{order:850,enabled:!0,fn:G,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:W,onLoad:H,gpuAcceleration:void 0}},Ct={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:xt},Et=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=pt(this.update.bind(this)),this.options=vt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e.jquery?e[0]:e,this.popper=n.jquery?n[0]:n,this.options.modifiers={},Object.keys(vt({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){r.options.modifiers[e]=vt({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return vt({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return yt(t,[{key:"update",value:function(){return D.call(this)}},{key:"destroy",value:function(){return N.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),t}();Et.Utils=("undefined"!=typeof window?window:t).PopperUtils,Et.placements=_t,Et.Defaults=Ct,e.a=Et}).call(e,n("fRUx"))},AobV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.uid=t}return t.prototype.isUnauthenticated=function(){return null==this.uid},t.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},t.prototype.equals=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}();e.User=r},Au1X:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnapshotHolder=void 0;var r=n("VBxt"),o=function(){function t(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();e.SnapshotHolder=o},Av3o:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/oeL"),o=n("GaSD"),i=n("CuDZ"),a=function(){function t(t){this.i18n=t,this.select=new r.s}return t.prototype.doSelect=function(t){t.context.disabled||this.isHidden(t)||this.select.emit(o.a.from(t.date))},t.prototype.isCollapsed=function(t){return"collapsed"===this.outsideDays&&t.days[0].date.month!==this.month.number&&t.days[t.days.length-1].date.month!==this.month.number},t.prototype.isHidden=function(t){return("hidden"===this.outsideDays||"collapsed"===this.outsideDays)&&this.month.number!==t.date.month},t}();a.decorators=[{type:r.l,args:[{selector:"ngb-datepicker-month-view",host:{class:"d-block"},styles:["\n    .ngb-dp-weekday, .ngb-dp-week-number {\n      line-height: 2rem;\n    }\n    .ngb-dp-day, .ngb-dp-weekday, .ngb-dp-week-number {\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-day {\n      cursor: pointer;\n    }\n    .ngb-dp-day.disabled, .ngb-dp-day.hidden {\n      cursor: default;\n    }\n  "],template:'\n    <div *ngIf="showWeekdays" class="ngb-dp-week d-flex">\n      <div *ngIf="showWeekNumbers" class="ngb-dp-weekday"></div>\n      <div *ngFor="let w of month.weekdays" class="ngb-dp-weekday small text-center text-info font-italic">\n        {{ i18n.getWeekdayShortName(w) }}\n      </div>\n    </div>\n    <ng-template ngFor let-week [ngForOf]="month.weeks">\n      <div *ngIf="!isCollapsed(week)" class="ngb-dp-week d-flex">\n        <div *ngIf="showWeekNumbers" class="ngb-dp-week-number small text-center font-italic text-muted">{{ week.number }}</div>\n        <div *ngFor="let day of week.days" (click)="doSelect(day)" class="ngb-dp-day" [class.disabled]="day.context.disabled"\n         [class.hidden]="isHidden(day)">\n          <ng-template [ngIf]="!isHidden(day)">\n            <ng-template [ngTemplateOutlet]="dayTemplate" [ngTemplateOutletContext]="day.context"></ng-template>\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n  '}]}],a.ctorParameters=function(){return[{type:i.a}]},a.propDecorators={dayTemplate:[{type:r.A}],month:[{type:r.A}],outsideDays:[{type:r.A}],showWeekdays:[{type:r.A}],showWeekNumbers:[{type:r.A}],select:[{type:r.L}]}},B404:function(t,e,n){"use strict";function r(t,e,n){var r=o.PromiseImpl.resolve(n);return t.forEach(function(t){r=r.then(function(n){return e(t,n)})}),r}Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=void 0,e.sequence=r;var o=n("U+HO"),i=function(){function t(){var t=this;this.promise=new o.PromiseImpl(function(e,n){t.resolve=e,t.reject=n})}return t}();e.Deferred=i},B9pV:function(t,e,n){"use strict";function r(t,e){var n=new c(t,e);return n.subscribe.bind(n)}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];u.PromiseImpl.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function i(t,e){if("object"!==(void 0===t?"undefined":s(t))||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}function a(){}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.createSubscribe=r,e.async=o;var u=n("U+HO"),c=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=u.PromiseImpl.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=i(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=a),void 0===r.error&&(r.error=a),void 0===r.complete&&(r.complete=a);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}()},BWiv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var r=n("sN0z"),o=n("7AyI"),i=n("w/uE"),a=n("vt96"),s=function(){function t(t,e,n,o,i,s,u){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=o,this.onDisconnect_=i,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=(0,r.logWrapper)("c:"+this.id+":"),this.transportManager_=new a.TransportManager(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,o)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=(0,r.setTimeoutNonBlocking)(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=(0,r.requireKey)("t",t),n=(0,r.requireKey)("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=(0,r.requireKey)("t",t),n=(0,r.requireKey)("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=(0,r.requireKey)("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?(0,r.error)("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):(0,r.error)("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(o),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),i.PROTOCOL_VERSION!==n&&(0,r.warn)("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),(0,r.setTimeoutNonBlocking)(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):(0,r.setTimeoutNonBlocking)(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(o.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();e.Connection=s},BZwZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildChildSet=void 0;var r=n("2UX9"),o=Math.log(2),i=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/o,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}();e.buildChildSet=function(t,e,n,o){t.sort(e);var a=function e(o,i){var a,s,u=i-o;if(0==u)return null;if(1==u)return a=t[o],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,null,null);var c=parseInt(u/2,10)+o,l=e(o,c),h=e(c+1,i);return a=t[c],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,l,h)},s=new i(t.length),u=function(e){for(var o=null,i=null,s=t.length,u=function(e,o){var i=s-e,u=s;s-=e;var l=a(i+1,u),h=t[i],p=n?n(h):h;c(new r.LLRBNode(p,h.node,o,null,l))},c=function(t){o?(o.left=t,o=t):(i=t,o=t)},l=0;l<e.count;++l){var h=e.nextBitIsOne(),p=Math.pow(2,e.count-(l+1));h?u(p,r.LLRBNode.BLACK):(u(p,r.LLRBNode.BLACK),u(p,r.LLRBNode.RED))}return i}(s);return new r.SortedMap(o||e,u)}},BkNc:function(t,e,n){"use strict";function r(t){return new Ue(t)}function o(t){var e=Error("NavigationCancelingError: "+t);return e[qe]=!0,e}function i(t){return t[qe]}function a(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=t[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function s(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];u(r,c(e,r))}}function u(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Be)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&s(t.children,e)}function c(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function l(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!h(t[n],e[n]))return!1;return!0}function h(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var o,i=0;i<n.length;i++)if(o=n[i],t[o]!==e[o])return!1;return!0}function p(t){return Array.prototype.concat.apply([],t)}function f(t){return t.length>0?t[t.length-1]:null}function d(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function m(t,e){if(0===Object.keys(t).length)return Object(de.of)({});var n=[],r=[],o={};d(t,function(t,i){var a=_e.map.call(e(i,t),function(t){return o[i]=t});i===Be?n.push(a):r.push(a)});var i=Ee.concatAll.call(de.of.apply(void 0,n.concat(r))),a=ve.last.call(i);return _e.map.call(a,function(){return o})}function y(t){var e=Pe.mergeAll.call(t);return ye.every.call(e,function(t){return!0===t})}function g(t){return Object(le._26)(t)?t:Object(le._27)(t)?Object(Te.fromPromise)(Promise.resolve(t)):Object(de.of)(t)}function v(){return new He(new Ge([],{}),{},null)}function _(t,e,n){return n?b(t.queryParams,e.queryParams)&&w(t.root,e.root):x(t.queryParams,e.queryParams)&&C(t.root,e.root)}function b(t,e){return h(t,e)}function w(t,e){if(!T(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!w(t.children[n],e.children[n]))return!1}return!0}function x(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function C(t,e){return E(t,e,e.segments)}function E(t,e,n){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!!T(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!T(t.segments,n))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!C(t.children[o],e.children[o]))return!1}return!0}var r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!T(t.segments,r)&&(!!t.children[Be]&&E(t.children[Be],e,i))}function S(t,e){return T(t,e)&&t.every(function(t,n){return h(t.parameters,e[n].parameters)})}function T(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function P(t,e){var n=[];return d(t.children,function(t,r){r===Be&&(n=n.concat(e(t,r)))}),d(t.children,function(t,r){r!==Be&&(n=n.concat(e(t,r)))}),n}function O(t){return t.segments.map(function(t){return D(t)}).join("/")}function I(t,e){if(!t.hasChildren())return O(t);if(e){var n=t.children[Be]?I(t.children[Be],!1):"",r=[];return d(t.children,function(t,e){e!==Be&&r.push(e+":"+I(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var o=P(t,function(e,n){return n===Be?[I(t.children[Be],!1)]:[n+":"+I(e,!1)]});return O(t)+"/("+o.join("//")+")"}function A(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function k(t){return decodeURIComponent(t)}function D(t){return""+A(t.path)+R(t.parameters)}function R(t){return Object.keys(t).map(function(e){return";"+A(e)+"="+A(t[e])}).join("")}function M(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return A(e)+"="+A(t)}).join("&"):A(e)+"="+A(n)});return e.length?"?"+e.join("&"):""}function N(t){var e=t.match(Ye);return e?e[0]:""}function L(t){var e=t.match(Je);return e?e[0]:""}function F(t){var e=t.match($e);return e?e[0]:""}function V(t){return new xe.Observable(function(e){return e.error(new en(t))})}function j(t){return new xe.Observable(function(e){return e.error(new nn(t))})}function z(t){return new xe.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function B(t){return new xe.Observable(function(e){return e.error(o("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function U(t,e,n,r,o){return new rn(t,e,n,r,o).apply()}function q(t,e){var n=e.canLoad;return n&&0!==n.length?y(_e.map.call(Object(fe.from)(n),function(n){var r=t.get(n);return g(r.canLoad?r.canLoad(e):r(e))})):Object(de.of)(!0)}function W(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=e.matcher||a,o=r(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function H(t,e,n,r){if(n.length>0&&X(t,n,r)){var o=new Ge(e,Q(r,new Ge(n,t.children)));return{segmentGroup:G(o),slicedSegments:[]}}if(0===n.length&&Z(t,n,r)){var o=new Ge(t.segments,K(t,n,r,t.children));return{segmentGroup:G(o),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function G(t){if(1===t.numberOfChildren&&t.children[Be]){var e=t.children[Be];return new Ge(t.segments.concat(e.segments),e.children)}return t}function K(t,e,n,r){for(var o={},i=0,a=n;i<a.length;i++){var s=a[i];Y(t,e,s)&&!r[J(s)]&&(o[J(s)]=new Ge([],{}))}return Object.assign({},r,o)}function Q(t,e){var n={};n[Be]=e;for(var r=0,o=t;r<o.length;r++){var i=o[r];""===i.path&&J(i)!==Be&&(n[J(i)]=new Ge([],{}))}return n}function X(t,e,n){return n.some(function(n){return Y(t,e,n)&&J(n)!==Be})}function Z(t,e,n){return n.some(function(n){return Y(t,e,n)})}function Y(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function J(t){return t.outlet||Be}function $(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var o=r[n],i=$(t,o);if(i)return i}return null}function tt(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var o=r[n],i=tt(t,o);if(i.length)return i.unshift(e),i}return[]}function et(t,e){var n=nt(t,e),r=new he.BehaviorSubject([new Ke("",{})]),o=new he.BehaviorSubject({}),i=new he.BehaviorSubject({}),a=new he.BehaviorSubject({}),s=new he.BehaviorSubject(""),u=new un(r,o,a,s,i,Be,e,n.root);return u.snapshot=n.root,new sn(new an(u,[]),n)}function nt(t,e){var n={},r={},o={},i=new cn([],n,o,"",r,Be,e,null,t.root,-1,{});return new ln("",new an(i,[]))}function rt(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function ot(t,e){e.value._routerState=t,e.children.forEach(function(e){return ot(t,e)})}function it(t){var e=t.children.length>0?" { "+t.children.map(it).join(", ")+" } ":"";return""+t.value+e}function at(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,h(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),h(e.params,n.params)||t.params.next(n.params),l(e.url,n.url)||t.url.next(n.url),h(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function st(t,e){var n=h(t.params,e.params)&&S(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||st(t.parent,e.parent))}function ut(t,e,n){var r=ct(t,e._root,n?n._root:void 0);return new sn(r,e)}function ct(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var o=ht(t,e,n);return new an(r,o)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return lt(e,i),i}var r=pt(e.value),o=e.children.map(function(e){return ct(t,e)});return new an(r,o)}function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)lt(t.children[n],e.children[n])}function ht(t,e,n){return e.children.map(function(e){for(var r=0,o=n.children;r<o.length;r++){var i=o[r];if(t.shouldReuseRoute(i.value.snapshot,e.value))return ct(t,e,i)}return ct(t,e)})}function pt(t){return new un(new he.BehaviorSubject(t.url),new he.BehaviorSubject(t.params),new he.BehaviorSubject(t.queryParams),new he.BehaviorSubject(t.fragment),new he.BehaviorSubject(t.data),t.outlet,t.component,t)}function ft(t,e,n,r,o){if(0===n.length)return mt(e.root,e.root,e,r,o);var i=gt(n);if(i.toRoot())return mt(e.root,new Ge([],{}),e,r,o);var a=vt(i,e,t),s=a.processChildren?Ct(a.segmentGroup,a.index,i.commands):xt(a.segmentGroup,a.index,i.commands);return mt(a.segmentGroup,s,e,r,o)}function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mt(t,e,n,r,o){var i={};return r&&d(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new He(e,i,o):new He(yt(n.root,t,e),i,o)}function yt(t,e,n){var r={};return d(t.children,function(t,o){r[o]=t===e?n:yt(t,e,n)}),new Ge(t.segments,r)}function gt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return d(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:i}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new hn(n,e,r)}function vt(t,e,n){if(t.isAbsolute)return new pn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pn(n.snapshot._urlSegment,!0,0);var r=dt(t.commands[0])?0:1,o=n.snapshot._lastPathIndex+r;return _t(n.snapshot._urlSegment,o,t.numberOfDoubleDots)}function _t(t,e,n){for(var r=t,o=e,i=n;i>o;){if(i-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new pn(r,!1,o-i)}function bt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Be]:""+t}function wt(t){return"object"!=typeof t[0]?(e={},e[Be]=t,e):void 0===t[0].outlets?(n={},n[Be]=t,n):t[0].outlets;var e,n}function xt(t,e,n){if(t||(t=new Ge([],{})),0===t.segments.length&&t.hasChildren())return Ct(t,e,n);var r=Et(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new Ge(t.segments.slice(0,r.pathIndex),{});return i.children[Be]=new Ge(t.segments.slice(r.pathIndex),t.children),Ct(i,0,o)}return r.match&&0===o.length?new Ge(t.segments,{}):r.match&&!t.hasChildren()?St(t,e,n):r.match?Ct(t,0,o):St(t,e,n)}function Ct(t,e,n){if(0===n.length)return new Ge(t.segments,{});var r=wt(n),o={};return d(r,function(n,r){null!==n&&(o[r]=xt(t.children[r],e,n))}),d(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new Ge(t.segments,o)}function Et(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var a=t.segments[o],s=bt(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ot(s,u,a))return i;r+=2}else{if(!Ot(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function St(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Tt(n[o].outlets);return new Ge(r,i)}if(0===o&&dt(n[0])){var a=t.segments[e];r.push(new Ke(a.path,n[0])),o++}else{var s=bt(n[o]),u=o<n.length-1?n[o+1]:null;s&&u&&dt(u)?(r.push(new Ke(s,Pt(u))),o+=2):(r.push(new Ke(s,{})),o++)}}return new Ge(r,{})}function Tt(t){var e={};return d(t,function(t,n){null!==t&&(e[n]=St(new Ge([],{}),0,t))}),e}function Pt(t){var e={};return d(t,function(t,n){return e[n]=""+t}),e}function Ot(t,e,n){return t==n.path&&h(e,n.parameters)}function It(t,e,n,r){return new dn(t,e,n,r).recognize()}function At(t){t.sort(function(t,e){return t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)})}function kt(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function Dt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new fn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=e.matcher||a,o=r(n,t,e);if(!o)throw new fn;var i={};d(o.posParams,function(t,e){i[e]=t.path});var s=o.consumed.length>0?Object.assign({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s}}function Rt(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function Mt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Nt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Lt(t,e,n,r){if(n.length>0&&jt(t,n,r)){var o=new Ge(e,Vt(t,e,r,new Ge(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&zt(t,n,r)){var i=new Ge(t.segments,Ft(t,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}var a=new Ge(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ft(t,e,n,r){for(var o={},i=0,a=n;i<a.length;i++){var s=a[i];if(Bt(t,e,s)&&!r[Ut(s)]){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,o[Ut(s)]=u}}return Object.assign({},r,o)}function Vt(t,e,n,r){var o={};o[Be]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var i=0,a=n;i<a.length;i++){var s=a[i];if(""===s.path&&Ut(s)!==Be){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,o[Ut(s)]=u}}return o}function jt(t,e,n){return n.some(function(n){return Bt(t,e,n)&&Ut(n)!==Be})}function zt(t,e,n){return n.some(function(n){return Bt(t,e,n)})}function Bt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function Ut(t){return t.outlet||Be}function qt(t){return t.data||{}}function Wt(t){return t.resolve||{}}function Ht(t){throw t}function Gt(t){return Object(de.of)(null)}function Kt(t){at(t.value),t.children.forEach(Kt)}function Qt(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Xt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Zt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Yt(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function Jt(t){return""===t||!!t}function $t(){return new le.I("Router",wn)}function te(t,e,n){return void 0===n&&(n={}),n.useHash?new ce.e(t,e):new ce.o(t,e)}function ee(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ne(t){return[{provide:le.a,multi:!0,useValue:t},{provide:gn,multi:!0,useValue:t}]}function re(t,e,n,r,o,i,a,s,u,c,l){void 0===u&&(u={});var h=new wn(null,e,n,r,o,i,a,p(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Object(Oe.t)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h}function oe(t){return t.routerState.root}function ie(t){return t.appInitializer.bind(t)}function ae(t){return t.bootstrapListener.bind(t)}function se(){return[Un,{provide:le.d,multi:!0,useFactory:ie,deps:[Un]},{provide:qn,useFactory:ae,deps:[Un]},{provide:le.b,multi:!0,useExisting:qn}]}n.d(e,"l",function(){return Pn}),n.d(e,"n",function(){return kn}),n.d(e,"j",function(){return mn}),n.d(e,"k",function(){return wn}),n.d(e,"i",function(){return gn}),n.d(e,"g",function(){return Vn}),n.d(e,"h",function(){return qn}),n.d(e,"m",function(){return Bn}),n.d(e,"b",function(){return An}),n.d(e,"d",function(){return Nn}),n.d(e,"e",function(){return Mn}),n.d(e,"f",function(){return Rn}),n.d(e,"o",function(){return Ln}),n.d(e,"a",function(){return un}),n.d(e,"p",function(){return _n}),n.d(e,"c",function(){return Xe}),n.d(e,"q",function(){return Qe}),n.d(e,"r",function(){return jn}),n.d(e,"x",function(){return Un}),n.d(e,"y",function(){return ie}),n.d(e,"z",function(){return ae}),n.d(e,"u",function(){return ee}),n.d(e,"t",function(){return te}),n.d(e,"w",function(){return oe}),n.d(e,"s",function(){return $t}),n.d(e,"v",function(){return re});var ue=n("6Xbx"),ce=n("qbdv"),le=n("/oeL"),he=n("gvep"),pe=(n.n(he),n("rlar")),fe=(n.n(pe),n("7JOC")),de=(n.n(fe),n("+zVg")),me=(n.n(de),n("TQn8")),ye=(n.n(me),n("THYR")),ge=(n.n(ye),n("1eQ7")),ve=(n.n(ge),n("WSkQ")),_e=(n.n(ve),n("lx+J")),be=(n.n(_e),n("cPhF")),we=(n.n(be),n("Tq0x")),xe=(n.n(we),n("bKpL")),Ce=(n.n(xe),n("ueUM")),Ee=(n.n(Ce),n("I3ay")),Se=(n.n(Ee),n("TpsG")),Te=(n.n(Se),n("QU9E")),Pe=(n.n(Te),n("TIdC")),Oe=(n.n(Pe),n("fc+i")),Ie=n("422b"),Ae=(n.n(Ie),function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}()),ke=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),De=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Re=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),Me=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Ne=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Le=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Fe=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Ve=function(){function t(t,e,n,r,o){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}return t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(),je=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),ze=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Be="primary",Ue=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),qe="ngNavigationCancelingError",We=function(){function t(t,e){this.routes=t,this.module=e}return t}(),He=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ze.serialize(this)},t}(),Ge=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,d(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return O(this)},t}(),Ke=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=r(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return D(this)},t}(),Qe=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Xe=function(){function t(){}return t.prototype.parse=function(t){var e=new tn(t);return new He(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+I(t.root,!0)+M(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Ze=new Xe,Ye=/^[^\/()?;=&#]+/,Je=/^[^=?&#]+/,$e=/^[^?&#]+/,tn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Be]=new Ge(t,e)),n},t.prototype.parseSegment=function(){var t=N(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Ke(k(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=N(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=N(this.remaining);r&&(n=r,this.capture(n))}t[k(e)]=k(n)}},t.prototype.parseQueryParam=function(t){var e=L(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=F(this.remaining);r&&(n=r,this.capture(n))}var o=k(e),i=k(n);if(t.hasOwnProperty(o)){var a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(i)}else t[o]=i}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=N(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Be);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[Be]:new Ge([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),en=function(){function t(t){this.segmentGroup=t||null}return t}(),nn=function(){function t(t){this.urlTree=t}return t}(),rn=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(le.H)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Be),n=_e.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Ce._catch.call(n,function(e){if(e instanceof nn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof en)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Be),r=_e.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Ce._catch.call(r,function(t){if(t instanceof en)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new Ge([],(o={},o[Be]=t,o)):t;return new He(r,e,n);var o},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?_e.map.call(this.expandChildren(t,e,n),function(t){return new Ge([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return m(n.children,function(n,o){return r.expandSegmentGroup(t,e,o,n)})},t.prototype.expandSegment=function(t,e,n,r,o,i){var a=this,s=de.of.apply(void 0,n),u=_e.map.call(s,function(s){var u=a.expandSegmentAgainstRoute(t,e,n,s,r,o,i);return Ce._catch.call(u,function(t){if(t instanceof en)return Object(de.of)(null);throw t})}),c=Ee.concatAll.call(u),l=ge.first.call(c,function(t){return!!t});return Ce._catch.call(l,function(t,n){if(t instanceof Se.EmptyError){if(a.noLeftoversInUrl(e,r,o))return Object(de.of)(new Ge([],{}));throw new en(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,a){return J(r)!==i?V(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):V(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?j(i):be.mergeMap.call(this.lineralizeSegments(n,i),function(n){var i=new Ge(n,{});return o.expandSegment(t,i,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var a=this,s=W(e,r,o),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return V(e);var p=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?j(p):be.mergeMap.call(this.lineralizeSegments(r,p),function(r){return a.expandSegment(t,e,n,r.concat(o.slice(l)),i,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?_e.map.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Ge(r,{})}):Object(de.of)(new Ge(r,{}));var i=W(e,n,r),a=i.matched,s=i.consumedSegments,u=i.lastChild;if(!a)return V(e);var c=r.slice(u),l=this.getChildConfig(t,n);return be.mergeMap.call(l,function(t){var n=t.module,r=t.routes,i=H(e,s,c,r),a=i.segmentGroup,u=i.slicedSegments;if(0===u.length&&a.hasChildren()){var l=o.expandChildren(n,r,a);return _e.map.call(l,function(t){return new Ge(s,t)})}if(0===r.length&&0===u.length)return Object(de.of)(new Ge(s,{}));var h=o.expandSegment(n,a,r,u,Be,!0);return _e.map.call(h,function(t){return new Ge(s.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(de.of)(new We(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(de.of)(e._loadedConfig):be.mergeMap.call(q(t.injector,e),function(r){return r?_e.map.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):B(e)}):Object(de.of)(new We([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(de.of)(n);if(r.numberOfChildren>1||!r.children[Be])return z(t.redirectTo);r=r.children[Be]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new He(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return d(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),a={};return d(e.children,function(e,i){a[i]=o.createSegmentGroup(t,e,n,r)}),new Ge(i,a)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i.path===t.path)return e.splice(n),i;n++}return t},t}(),on=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=$(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=$(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root).map(function(t){return t.value})},t}(),an=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),sn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,ot(r,e),r}return ue.a(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(on),un=function(){function t(t,e,n,r,o,i,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=_e.map.call(this.params,function(t){return r(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=_e.map.call(this.queryParams,function(t){return r(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),cn=function(){function t(t,e,n,r,o,i,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=r(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),ln=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,ot(r,n),r}return ue.a(e,t),e.prototype.toString=function(){return it(this._root)},e}(on),hn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==f(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),pn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),fn=function(){function t(){}return t}(),dn=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=Lt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Be),n=new cn([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new an(n,e),o=new ln(this.url,r);return this.inheritParamsAndData(o._root),Object(de.of)(o)}catch(t){return new xe.Observable(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=rt(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=P(e,function(e,r){return n.processSegmentGroup(t,e,r)});return Rt(r),At(r),r},t.prototype.processSegment=function(t,e,n,r){for(var o=0,i=t;o<i.length;o++){var a=i[o];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof fn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new fn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new fn;if((t.outlet||Be)!==r)throw new fn;if("**"===t.path){var o=n.length>0?f(n).parameters:{},i=new cn(n,o,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),r,t.component,t,Mt(e),Nt(e)+n.length,Wt(t));return[new an(i,[])]}var a=Dt(e,t,n),s=a.consumedSegments,u=a.parameters,c=a.lastChild,l=n.slice(c),h=kt(t),p=Lt(e,s,l,h),d=p.segmentGroup,m=p.slicedSegments,y=new cn(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),r,t.component,t,Mt(e),Nt(e)+s.length,Wt(t));if(0===m.length&&d.hasChildren()){var g=this.processChildren(h,d);return[new an(y,g)]}if(0===h.length&&0===m.length)return[new an(y,[])];var v=this.processSegment(h,d,m,Be);return[new an(y,v)]},t}(),mn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),yn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),gn=new le.y("ROUTES"),vn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return _e.map.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new We(p(o.injector.get(gn)),o)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Te.fromPromise)(this.loader.load(t)):be.mergeMap.call(g(t()),function(t){return t instanceof le.F?Object(de.of)(t):Object(Te.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),_n=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),bn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),wn=function(){function t(t,e,n,r,o,i,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new he.BehaviorSubject(null),this.routerEvents=new pe.Subject,this.navigationId=0,this.errorHandler=Ht,this.navigated=!1,this.hooks={beforePreactivation:Gt,afterPreactivation:Gt},this.urlHandlingStrategy=new bn,this.routeReuseStrategy=new yn;var c=function(t){return u.triggerEvent(new Ne(t))},l=function(t){return u.triggerEvent(new Le(t))};this.ngModule=o.get(le.H),this.resetConfig(s),this.currentUrlTree=v(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new vn(i,a,c,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){s(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,o=e.fragment,i=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Object(le._10)()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;if(a)switch(a){case"merge":l=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=i?this.currentUrlTree.queryParams:r||null;return ft(u,this.currentUrlTree,t,l,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof He?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Yt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof He)return _(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return _(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;me.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,i=null,a=new Promise(function(t,e){o=t,i=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:o,reject:i,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,o=t.extras,i=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Ae(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Ae(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,et(s,e.rootComponentType).snapshot)}).then(i,a)):(this.rawUrlTree=r,i(null))},t.prototype.runNavigate=function(t,e,n,r,o,a){var s=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new De(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var l;if(a)l=Object(de.of)({appliedUrl:t,snapshot:a});else{var h=s.ngModule.injector,p=U(h,s.configLoader,s.urlSerializer,t,s.config);l=be.mergeMap.call(p,function(e){return _e.map.call(It(s.rootComponentType,s.config,e,s.serializeUrl(e)),function(n){return s.routerEvents.next(new Me(o,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var f,d,m=be.mergeMap.call(l,function(t){return _e.map.call(s.hooks.beforePreactivation(t.snapshot),function(){return t})}),y=_e.map.call(m,function(t){var e=t.appliedUrl,n=t.snapshot,r=s.ngModule.injector;return f=new En(n,s.currentRouterState.snapshot,r),f.traverse(s.rootContexts),{appliedUrl:e,snapshot:n}}),g=be.mergeMap.call(y,function(e){var n=e.appliedUrl,r=e.snapshot;return s.navigationId!==o?Object(de.of)(!1):(s.triggerEvent(new Fe(o,s.serializeUrl(t),n,r)),_e.map.call(f.checkGuards(),function(e){return s.triggerEvent(new Ve(o,s.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),v=be.mergeMap.call(g,function(e){return s.navigationId!==o?Object(de.of)(!1):e.shouldActivate&&f.isActivating()?(s.triggerEvent(new je(o,s.serializeUrl(t),e.appliedUrl,e.snapshot)),_e.map.call(f.resolveData(),function(){return s.triggerEvent(new ze(o,s.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(de.of)(e)}),_=be.mergeMap.call(v,function(t){return _e.map.call(s.hooks.afterPreactivation(t.snapshot),function(){return t})}),b=_e.map.call(_,function(t){var e=t.appliedUrl,n=t.snapshot,r=t.shouldActivate;if(r){return{appliedUrl:e,state:ut(s.routeReuseStrategy,n,s.currentRouterState),shouldActivate:r}}return{appliedUrl:e,state:null,shouldActivate:r}}),w=s.currentRouterState,x=s.currentUrlTree;b.forEach(function(t){var i=t.appliedUrl,a=t.state;if(!t.shouldActivate||o!==s.navigationId)return void(d=!1);if(s.currentUrlTree=i,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.currentRouterState=a,!n){var u=s.urlSerializer.serialize(s.rawUrlTree);s.location.isCurrentPathEqualTo(u)||r?s.location.replaceState(u):s.location.go(u)}new Sn(s.routeReuseStrategy,a,w).activate(s.rootContexts),d=!0}).then(function(){d?(s.navigated=!0,s.routerEvents.next(new ke(o,s.serializeUrl(t),s.serializeUrl(s.currentUrlTree))),u(!0)):(s.resetUrlToCurrentUrlTree(),s.routerEvents.next(new De(o,s.serializeUrl(t),"")),u(!1))},function(n){if(i(n))s.resetUrlToCurrentUrlTree(),s.navigated=!0,s.routerEvents.next(new De(o,s.serializeUrl(t),n.message)),u(!1);else{s.routerEvents.next(new Re(o,s.serializeUrl(t),n));try{u(s.errorHandler(n))}catch(t){c(t)}}s.currentRouterState=w,s.currentUrlTree=x,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,e),s.location.replaceState(s.serializeUrl(s.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),xn=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Cn=function(){function t(t,e){this.component=t,this.route=e}return t}(),En=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(de.of)(!0);var e=this.runCanDeactivateChecks();return be.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():Object(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(de.of)(null);var e=Object(fe.from)(this.canActivateChecks),n=me.concatMap.call(e,function(e){return t.runResolve(e.route)});return we.reduce.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.traverseChildRoutes=function(t,e,n,r){var o=this,i=Zt(e);t.children.forEach(function(t){o.traverseRoutes(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),d(i,function(t,e){return o.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.traverseRoutes=function(t,e,n,r){var o=t.value,i=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(i&&o._routeConfig===i._routeConfig){var s=this.shouldRunGuardsAndResolvers(i,o,o._routeConfig.runGuardsAndResolvers);if(s?this.canActivateChecks.push(new xn(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?this.traverseChildRoutes(t,e,a?a.children:null,r):this.traverseChildRoutes(t,e,n,r),s){var u=a.outlet;this.canDeactivateChecks.push(new Cn(u.component,i))}}else i&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new xn(r)),o.component?this.traverseChildRoutes(t,null,a?a.children:null,r):this.traverseChildRoutes(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!st(t,e)||!h(t.queryParams,e.queryParams);case"paramsChange":default:return!st(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Zt(t),o=t.value;d(r,function(t,r){o.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),o.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new Cn(e.outlet.component,o)):this.canDeactivateChecks.push(new Cn(null,o))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(fe.from)(this.canDeactivateChecks),n=be.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ye.every.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(fe.from)(this.canActivateChecks),n=me.concatMap.call(e,function(e){return y(Object(fe.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ye.every.call(n,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;return n&&0!==n.length?y(_e.map.call(Object(fe.from)(n),function(n){var r,o=e.getToken(n,t);return r=g(o.canActivate?o.canActivate(t,e.future):o(t,e.future)),ge.first.call(r)})):Object(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return y(_e.map.call(Object(fe.from)(r),function(t){return y(_e.map.call(Object(fe.from)(t.guards),function(r){var o,i=e.getToken(r,t.node);return o=g(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)),ge.first.call(o)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(de.of)(!0);var o=be.mergeMap.call(Object(fe.from)(r),function(r){var o,i=n.getToken(r,e);return o=g(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)),ge.first.call(o)});return ye.every.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return _e.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,rt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Object(de.of)({});if(1===r.length){var o=r[0];return _e.map.call(this.getResolver(t[o],e),function(t){return e={},e[o]=t,e;var e})}var i={},a=be.mergeMap.call(Object(fe.from)(r),function(r){return _e.map.call(n.getResolver(t[r],e),function(t){return i[r]=t,t})});return _e.map.call(ve.last.call(a),function(){return i})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return g(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=Xt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Sn=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),at(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=Zt(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),d(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=Zt(t),i=t.value.component?r.children:e;d(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=Zt(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n)})},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(at(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var i=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Kt(a.route)}else{var s=Qt(r.snapshot),u=s?s.module.componentFactoryResolver:null;i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,n)},t}(),Tn=function(){function t(t,e,n,r,o){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(o.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._10)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Tn.decorators=[{type:le.p,args:[{selector:":not(a)[routerLink]"}]}],Tn.ctorParameters=function(){return[{type:wn},{type:un},{type:void 0,decorators:[{type:le.h,args:["tabindex"]}]},{type:le.R},{type:le.q}]},Tn.propDecorators={queryParams:[{type:le.A}],fragment:[{type:le.A}],queryParamsHandling:[{type:le.A}],preserveFragment:[{type:le.A}],skipLocationChange:[{type:le.A}],replaceUrl:[{type:le.A}],routerLink:[{type:le.A}],preserveQueryParams:[{type:le.A}],onClick:[{type:le.v,args:["click"]}]};var Pn=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof ke&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._10)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Pn.decorators=[{type:le.p,args:[{selector:"a[routerLink]"}]}],Pn.ctorParameters=function(){return[{type:wn},{type:un},{type:ce.h}]},Pn.propDecorators={target:[{type:le.u,args:["attr.target"]},{type:le.A}],queryParams:[{type:le.A}],fragment:[{type:le.A}],queryParamsHandling:[{type:le.A}],preserveFragment:[{type:le.A}],skipLocationChange:[{type:le.A}],replaceUrl:[{type:le.A}],href:[{type:le.u}],routerLink:[{type:le.A}],preserveQueryParams:[{type:le.A}],onClick:[{type:le.v,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};var On=function(){function t(t,e,n,r){var o=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof ke&&o.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}),Promise.resolve(e).then(function(e){return t.active=e}))}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();On.decorators=[{type:le.p,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],On.ctorParameters=function(){return[{type:wn},{type:le.q},{type:le.R},{type:le.j}]},On.propDecorators={links:[{type:le.o,args:[Tn,{descendants:!0}]}],linksWithHrefs:[{type:le.o,args:[Pn,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.A}],routerLinkActive:[{type:le.A}]};var In=function(){function t(){this.outlet=null,this.route=null,this.resolver=null,this.children=new An,this.attachRef=null}return t}(),An=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new In,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),kn=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new le.s,this.deactivateEvents=new le.s,this.name=r||Be,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot,r=n._routeConfig.component;e=e||this.resolver;var o=e.resolveComponentFactory(r),i=this.parentContexts.getOrCreateContext(this.name).children,a=new Dn(t,i,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}();kn.decorators=[{type:le.p,args:[{selector:"router-outlet",exportAs:"outlet"}]}],kn.ctorParameters=function(){return[{type:An},{type:le._3},{type:le.m},{type:void 0,decorators:[{type:le.h,args:["name"]}]},{type:le.j}]},kn.propDecorators={activateEvents:[{type:le.L,args:["activate"]}],deactivateEvents:[{type:le.L,args:["deactivate"]}]};var Dn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===un?this.route:t===An?this.childContexts:this.parent.get(t,e)},t}(),Rn=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Mn=function(){function t(){}return t.prototype.preload=function(t,e){return Ce._catch.call(e(),function(){return Object(de.of)(null)})},t}(),Nn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(de.of)(null)},t}(),Ln=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o;var i=function(e){return t.triggerEvent(new Ne(e))},a=function(e){return t.triggerEvent(new Le(e))};this.loader=new vn(e,n,i,a)}return t.prototype.setUpPreloading=function(){var t=this,e=Ie.filter.call(this.router.events,function(t){return t instanceof ke});this.subscription=me.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(le.H);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var a=i._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children))}return Pe.mergeAll.call(Object(fe.from)(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return be.mergeMap.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Ln.decorators=[{type:le.x}],Ln.ctorParameters=function(){return[{type:wn},{type:le.G},{type:le.k},{type:le.z},{type:Rn}]};var Fn=[kn,Tn,Pn,On],Vn=new le.y("ROUTER_CONFIGURATION"),jn=new le.y("ROUTER_FORROOT_GUARD"),zn=[ce.g,{provide:Qe,useClass:Xe},{provide:wn,useFactory:re,deps:[le.g,Qe,An,ce.g,le.z,le.G,le.k,gn,Vn,[_n,new le.K],[mn,new le.K]]},An,{provide:un,useFactory:oe,deps:[wn]},{provide:le.G,useClass:le.Y},Ln,Nn,Mn,{provide:Vn,useValue:{enableTracing:!1}}],Bn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[zn,ne(e),{provide:jn,useFactory:ee,deps:[[wn,new le.K,new le.X]]},{provide:Vn,useValue:n||{}},{provide:ce.h,useFactory:te,deps:[ce.p,[new le.w(ce.a),new le.K],Vn]},{provide:Rn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Nn},{provide:le.I,multi:!0,useFactory:$t},se()]}},t.forChild=function(e){return{ngModule:t,providers:[ne(e)]}},t}();Bn.decorators=[{type:le.E,args:[{declarations:Fn,exports:Fn}]}],Bn.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.K},{type:le.w,args:[jn]}]},{type:wn,decorators:[{type:le.K}]}]};var Un=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ce.f,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(wn),o=t.injector.get(Vn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Vn),n=this.injector.get(Ln),r=this.injector.get(wn),o=this.injector.get(le.g);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();Un.decorators=[{type:le.x}],Un.ctorParameters=function(){return[{type:le.z}]};var qn=new le.y("Router Initializer");new le._2("4.4.4")},C8VA:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),o=function(){function t(t,e,n,r){var o=this;this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance},set:function(t){},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype.dismiss=function(t){this._windowCmptRef&&(this._beforeDismiss&&!1===this._beforeDismiss()||(this._reject(t),this._removeModalElements()))},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}()},CCKO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.OnlineState=void 0;!function(t){t[t.Unknown=0]="Unknown",t[t.Healthy=1]="Healthy",t[t.Failed=2]="Failed"}(r||(e.OnlineState=r={}))},CE6k:function(t,e,n){"use strict";function r(){return new a.Subject}function o(){return i.multicast.call(this,r).refCount()}var i=n("gonN"),a=n("rlar");e.share=o},CU81:function(t,e,n){"use strict";function r(t){return f._43(0,[(t()(),f._21(0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),f._41(null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,f._24(1,"",n.highlightClass,"")),t(e,1,0,e.parent.context.$implicit)})}function o(t){return f._43(0,[(t()(),f._41(null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit)})}function i(t){return f._43(0,[(t()(),f._15(16777216,null,null,1,null,r)),f._19(16384,null,0,d.k,[f._3,f._0],{ngIf:[0,"ngIf"]},null),(t()(),f._15(16777216,null,null,1,null,o)),f._19(16384,null,0,d.k,[f._3,f._0],{ngIf:[0,"ngIf"]},null),(t()(),f._15(0,null,null,0))],function(t,e){t(e,1,0,e.context.odd),t(e,3,0,!e.context.odd)},null)}function a(t){return f._43(2,[(t()(),f._15(16777216,null,null,1,null,i)),f._19(802816,null,0,d.j,[f._3,f._0,f.B],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.parts)},null)}function s(t){return f._43(0,[(t()(),f._21(0,null,null,1,"ngb-highlight",[],null,null,null,a,g)),f._19(573440,null,0,m.a,[],null,null)],null,null)}function u(t){return f._43(0,[(t()(),f._41(null,["\n      "])),(t()(),f._21(0,null,null,1,"ngb-highlight",[],null,null,null,a,g)),f._19(573440,null,0,m.a,[],{result:[0,"result"],term:[1,"term"]},null),(t()(),f._41(null,["\n    "]))],function(t,e){t(e,2,0,e.context.formatter(e.context.result),e.context.term)},null)}function c(t){return f._43(0,[(t()(),f._15(0,null,null,0))],null,null)}function l(t){return f._43(0,[(t()(),f._41(null,["\n      "])),(t()(),f._21(0,null,null,5,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("mouseenter"===e){r=!1!==o.markActive(t.context.index)&&r}if("click"===e){r=!1!==o.select(t.context.$implicit)&&r}return r},null,null)),(t()(),f._41(null,["\n          "])),(t()(),f._15(16777216,null,null,2,null,c)),f._19(540672,null,0,d.n,[f._3],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),f._37({result:0,term:1,formatter:2}),(t()(),f._41(null,["\n      "])),(t()(),f._41(null,["\n    "]))],function(t,e){var n=e.component;t(e,4,0,t(e,5,0,e.context.$implicit,n.term,n.formatter),n.resultTemplate||f._35(e.parent,1))},function(t,e){var n=e.component;t(e,1,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)})}function h(t){return f._43(0,[(t()(),f._41(null,["\n    "])),(t()(),f._15(0,[["rt",2]],null,0,null,u)),(t()(),f._41(null,["\n    "])),(t()(),f._15(16777216,null,null,1,null,l)),f._19(802816,null,0,d.j,[f._3,f._0,f.B],{ngForOf:[0,"ngForOf"]},null),(t()(),f._41(null,["\n  "]))],function(t,e){t(e,4,0,e.component.results)},null)}function p(t){return f._43(0,[(t()(),f._21(0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu"],["role","listbox"],["style","display: block"]],[[8,"id",0]],null,null,h,b)),f._19(114688,null,0,v.a,[],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,f._35(e,1).id)})}var f=n("/oeL"),d=n("qbdv"),m=n("OPj5"),y=[".ngb-highlight[_ngcontent-%COMP%] {\n      font-weight: bold;\n    }"],g=f._18({encapsulation:0,styles:y,data:{}}),v=(f._16("ngb-highlight",m.a,s,{highlightClass:"highlightClass",result:"result",term:"term"},{},[]),n("c0Tg"));n.d(e,"a",function(){return w});var _=[],b=f._18({encapsulation:2,styles:_,data:{}}),w=f._16("ngb-typeahead-window",v.a,p,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[])},CVNG:function(t,e,n){"use strict";function r(t){return a._43(0,[(t()(),a._21(0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("click"===e){r=!1!==o.closeHandler()&&r}return r},null,null)),(t()(),a._41(null,["\n            "])),(t()(),a._21(0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),a._41(null,["\xd7"])),(t()(),a._41(null,["\n      "]))],null,null)}function o(t){return a._43(2,[(t()(),a._41(null,["\n    "])),(t()(),a._21(0,null,null,6,"div",[["role","alert"]],[[8,"className",0]],null,null,null,null)),(t()(),a._41(null,["\n      "])),(t()(),a._15(16777216,null,null,1,null,r)),a._19(16384,null,0,s.k,[a._3,a._0],{ngIf:[0,"ngIf"]},null),(t()(),a._41(null,["\n      "])),a._34(null,0),(t()(),a._41(null,["\n    "])),(t()(),a._41(null,["\n    "]))],function(t,e){t(e,4,0,e.component.dismissible)},function(t,e){var n=e.component;t(e,1,0,"alert alert-"+n.type+(n.dismissible?" alert-dismissible":""))})}function i(t){return a._43(0,[(t()(),a._21(0,null,null,1,"ngb-alert",[],null,null,null,o,h)),a._19(49152,null,0,u.a,[c.a],null,null)],null,null)}n.d(e,"a",function(){return p});var a=n("/oeL"),s=n("qbdv"),u=n("PVMJ"),c=n("nVXb"),l=[],h=a._18({encapsulation:2,styles:l,data:{}}),p=a._16("ngb-alert",u.a,i,{dismissible:"dismissible",type:"type"},{close:"close"},["*"])},Cb36:function(t,e,n){"use strict";var r,o=n("/oeL"),i=n("qbdv"),a=n("59zy"),s=n("wM1e"),u=n("bm2B");!function(t){t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(r||(r={}));var c={provide:u.c,useExisting:Object(o._8)(function(){return l}),multi:!0},l=function(){function t(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new o.s,this.leave=new o.s,this.rateChange=new o.s(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=t.max,this.readonly=t.readonly}return t.prototype.ariaValueText=function(){return this.nextRate+" out of "+this.max},t.prototype.enter=function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)},t.prototype.handleBlur=function(){this.onTouched()},t.prototype.handleClick=function(t){this.update(this.resettable&&this.rate===t?0:t)},t.prototype.handleKeyDown=function(t){if(r[Object(s.i)(t.which)])switch(t.preventDefault(),t.which){case r.ArrowDown:case r.ArrowLeft:this.update(this.rate-1);break;case r.ArrowUp:case r.ArrowRight:this.update(this.rate+1);break;case r.Home:this.update(0);break;case r.End:this.update(this.max)}},t.prototype.ngOnChanges=function(t){t.rate&&this.update(this.rate)},t.prototype.ngOnInit=function(){this.contexts=Array.from({length:this.max},function(){return{fill:0}}),this._updateState(this.rate)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.reset=function(){this.leave.emit(this.nextRate),this._updateState(this.rate)},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n=Object(s.a)(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)},t.prototype.writeValue=function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()},t.prototype._getFillValue=function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?Number.parseInt((100*e).toFixed(2)):0},t.prototype._updateState=function(t){var e=this;this.nextRate=t,this.contexts.forEach(function(t,n){return t.fill=e._getFillValue(n)})},t}();l.decorators=[{type:o.l,args:[{selector:"ngb-rating",changeDetection:o.i.OnPush,host:{class:"d-inline-flex",tabindex:"0",role:"slider","aria-valuemin":"0","[attr.aria-valuemax]":"max","[attr.aria-valuenow]":"nextRate","[attr.aria-valuetext]":"ariaValueText()","[attr.aria-disabled]":"readonly ? true : null","(blur)":"handleBlur()","(keydown)":"handleKeyDown($event)","(mouseleave)":"reset()"},template:'\n    <ng-template #t let-fill="fill">{{ fill === 100 ? \'&#9733;\' : \'&#9734;\' }}</ng-template>\n    <ng-template ngFor [ngForOf]="contexts" let-index="index">\n      <span class="sr-only">({{ index < nextRate ? \'*\' : \' \' }})</span>\n      <span (mouseenter)="enter(index + 1)" (click)="handleClick(index + 1)" [style.cursor]="readonly || disabled ? \'default\' : \'pointer\'">\n        <ng-template [ngTemplateOutlet]="starTemplate || t" [ngTemplateOutletContext]="contexts[index]"></ng-template>\n      </span>\n    </ng-template>\n  ',providers:[c]}]}],l.ctorParameters=function(){return[{type:a.a},{type:o.j}]},l.propDecorators={max:[{type:o.A}],rate:[{type:o.A}],readonly:[{type:o.A}],resettable:[{type:o.A}],starTemplate:[{type:o.A},{type:o.n,args:[o._0]}],hover:[{type:o.L}],leave:[{type:o.L}],rateChange:[{type:o.L}]},n.d(e,"a",function(){return h}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return a.a});var h=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.a]}},t}();h.decorators=[{type:o.E,args:[{declarations:[l],exports:[l],imports:[i.c]}]}],h.ctorParameters=function(){return[]}},ClIn:function(t,e,n){"use strict";function r(t){return i._43(2,[(t()(),i._21(0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),i._21(0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),i._34(null,0)],null,null)}function o(t){return i._43(0,[(t()(),i._21(0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,r,u)),i._19(49152,null,0,a.b,[i.q,i.R],null,null)],null,function(t,e){t(e,0,0,"tooltip show bs-tooltip-"+i._35(e,1).placement.split("-")[0]+" bs-tooltip-"+i._35(e,1).placement,i._35(e,1).id)})}n.d(e,"a",function(){return c});var i=n("/oeL"),a=n("JFa0"),s=[".bs-tooltip-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 50%;\n    }\n\n    .bs-tooltip-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 1em;\n    }\n\n    .bs-tooltip-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 1em;\n    }\n\n    .bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 50%;\n    }\n    \n    .bs-tooltip-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.7em;\n    }\n\n    .bs-tooltip-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.7em;\n    }"],u=i._18({encapsulation:0,styles:s,data:{}}),c=i._16("ngb-tooltip-window",a.b,o,{placement:"placement",id:"id"},{},["*"])},CuDZ:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r=n("/oeL"),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=["Mo","Tu","We","Th","Fr","Sa","Su"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=function(){function t(){}return t}();u.decorators=[{type:r.x}],u.ctorParameters=function(){return[]};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getWeekdayShortName=function(t){return i[t-1]},e.prototype.getMonthShortName=function(t){return a[t-1]},e.prototype.getMonthFullName=function(t){return s[t-1]},e}(u);c.decorators=[{type:r.x}],c.ctorParameters=function(){return[]}},D1Ck:function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:0}function o(t,e){return null!==t&&void 0!==t?!(!e||!t.equals(e)):t===e}function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}function a(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}function s(t){return t+"\0"}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoId=void 0,e.primitiveComparator=r,e.equals=o,e.arrayEquals=i,e.immediatePredecessor=a,e.immediateSuccessor=s;var u=n("wg5S"),c=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return(0,u.assert)(20===e.length,"Invalid auto ID: "+e),e},t}();e.AutoId=c},D5Qw:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStore=void 0;var o=n("pZ/q"),i=n("ERM2"),a=n("ygS9"),s=n("rwiY"),u=n("RFuG"),c=n("AMBp"),l=n("wg5S"),h=n("0C8m"),p=r(h),f=n("ILqR"),d=r(f),m=n("YeP0"),y=n("G3bM"),g=n("fw9s"),v=n("mpwt"),_=n("fIhJ"),b=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new v.ReferenceSet,this.targetIds={},this.targetIdGenerator=i.TargetIdGenerator.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new m.LocalDocumentsView(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new m.LocalDocumentsView(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=(0,s.documentKeySet)(),i=0,a=[r,t];i<a.length;i++)for(var u=a[i],c=0,l=u;c<l.length;c++)for(var h=l[c],p=0,f=h.mutations;p<f.length;p++){var d=f[p];o=o.add(d.key)}return e.localDocuments.getDocuments(n,o)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=i.TargetIdGenerator.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==u.BATCHID_UNKNOWN?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):y.PersistencePromise.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):y.PersistencePromise.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,o=a.Timestamp.now();return e.mutationQueue.addMutationBatch(n,o,t).next(function(t){r=t;var o=r.keys();return e.localDocuments.getDocuments(n,o)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=(0,s.documentKeySet)(),y.PersistencePromise.resolve();var o=new _.RemoteDocumentChangeBuffer(e.remoteDocuments);return e.releaseBatchResults(n,[t],o).next(function(t){return r=t,o.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,o;return e.mutationQueue.lookupMutationBatch(n,t).next(function(o){return(0,l.assert)(null!=o,"Attempt to reject nonexistent batch!"),r=o,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return(0,l.assert)(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return o=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,o)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new _.RemoteDocumentChangeBuffer(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];d.forEachNumber(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof c.ResetMapping)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof c.UpdateMapping))return(0,l.fail)("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.addQueryData(r,o)))}});var a=(0,s.documentKeySet)();t.documentUpdates.forEach(function(t,s){a=a.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||s.version.equals(o.SnapshotVersion.MIN)||s.version.compareTo(r.version)>=0?n.addEntry(s):p.debug("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",s.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var u=e.queryCache.getLastRemoteSnapshotVersion(),h=t.snapshotVersion;h.equals(o.SnapshotVersion.MIN)||((0,l.assert)(h.compareTo(u)>=0,"Watch stream reverted to previous snapshot?? "+h+" < "+u),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,h)));var f;return y.PersistencePromise.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return f=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,a.unionWith(f))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o];!function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){(0,l.assert)(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))}(a)}return y.PersistencePromise.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=u.BATCHID_UNKNOWN),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){if(o)return r=o,y.PersistencePromise.resolve();var i=e.targetIdGenerator.next();return r=new g.QueryData(t,i,g.QueryPurpose.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return(0,l.assert)(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return(0,l.assert)(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):y.PersistencePromise.resolve()}).next(function(){if(d.isEmpty(e.targetIds)){var t=new _.RemoteDocumentChangeBuffer(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return y.PersistencePromise.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),y.PersistencePromise.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,o=this.heldBatchResults;r<o.length;r++){var i=o[r];if(!this.isRemoteUpToVersion(i.commitVersion))break;n.push(i)}return 0===n.length?y.PersistencePromise.resolve((0,s.documentKeySet)()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||d.isEmpty(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,o=y.PersistencePromise.resolve(),i=0,a=e;i<a.length;i++){var s=a[i];!function(e){o=o.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})}(s)}return o.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=(0,s.documentKeySet)(),r=0,o=e;r<o.length;r++)for(var i=o[r],a=0,u=i.mutations;a<u.length;a++){var c=u[a],l=c.key;n=n.add(l)}return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,o=r.keys(),i=y.PersistencePromise.resolve();return o.forEach(function(o){i=i.next(function(){return n.getEntry(t,o)}).next(function(t){var i=t,a=e.docVersions.get(o);(0,l.assert)(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&(i=r.applyToRemoteDocument(o,i,e),i?n.addEntry(i):(0,l.assert)(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),i},t}();e.LocalStore=b},DP67:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var o=n("zijX");e.getSymbolObservable=r,e.observable=r(o.root),e.$$observable=e.observable},DaIH:function(t,e,n){"use strict";var r,o=n("/oeL"),i=n("qbdv"),a=n("OPj5"),s=n("c0Tg"),u=n("bm2B"),c=n("gvep"),l=n("8Ben"),h=n("rDIt"),p=n("aCMF"),f=n("zGUx"),d=n("75Hr"),m=n("uJci"),y=n("wM1e"),g=n("0H8/");!function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown"}(r||(r={}));var v={provide:u.c,useExisting:Object(o._8)(function(){return b}),multi:!0},_=0,b=function(){function t(t,e,n,r,i,a,u){var l=this;this._elementRef=t,this._viewContainerRef=e,this._renderer=n,this._injector=r,this.placement="bottom-left",this.selectItem=new o.s,this.popupId="ngb-typeahead-"+_++,this._onTouched=function(){},this._onChange=function(t){},this.container=a.container,this.editable=a.editable,this.focusFirst=a.focusFirst,this.showHint=a.showHint,this.placement=a.placement,this._valueChanges=Object(f.fromEvent)(t.nativeElement,"input",function(t){return t.target.value}),this._resubscribeTypeahead=new c.BehaviorSubject(null),this._popupService=new m.b(s.a,r,e,n,i),this._zoneSubscription=u.onStable.subscribe(function(){l.isPopupOpen()&&Object(d.a)(l._elementRef.nativeElement,l._windowRef.location.nativeElement,l.placement,"body"===l.container)})}return t.prototype.ngOnInit=function(){var t=this,e=h._do.call(this._valueChanges,function(e){t._userInput=e,t.editable&&t._onChange(e)}),n=l.letProto.call(e,this.ngbTypeahead),r=h._do.call(n,function(){t.editable||t._onChange(void 0)}),o=p.switchMap.call(this._resubscribeTypeahead,function(){return r});this._subscription=this._subscribeToUserInput(o)},t.prototype.ngOnDestroy=function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.writeValue=function(t){this._writeInputValue(this._formatItemForInput(t))},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.dismissPopup=function(){this.isPopupOpen()&&(this._closePopup(),this._writeInputValue(this._userInput))},t.prototype.isPopupOpen=function(){return null!=this._windowRef},t.prototype.handleBlur=function(){this._resubscribeTypeahead.next(null),this._onTouched()},t.prototype.handleKeyDown=function(t){if(this.isPopupOpen()&&r[Object(y.i)(t.which)])switch(t.which){case r.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case r.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case r.Enter:case r.Tab:var e=this._windowRef.instance.getActive();Object(y.b)(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup();break;case r.Escape:t.preventDefault(),this._resubscribeTypeahead.next(null),this.dismissPopup()}},t.prototype._openPopup=function(){var t=this;this.isPopupOpen()||(this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(e){return t._selectResultClosePopup(e)}),this._windowRef.instance.activeChangeEvent.subscribe(function(e){return t.activeDescendant=e}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement))},t.prototype._closePopup=function(){this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0},t.prototype._selectResult=function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))},t.prototype._selectResultClosePopup=function(t){this._selectResult(t),this._closePopup()},t.prototype._showHint=function(){if(this.showHint){var t=this._userInput.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._userInput.length).toLowerCase()?(this._writeInputValue(this._userInput+e.substr(this._userInput.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._userInput.length,e.length])):this.writeValue(this._windowRef.instance.getActive())}},t.prototype._formatItemForInput=function(t){return t&&this.inputFormatter?this.inputFormatter(t):Object(y.i)(t)},t.prototype._writeInputValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",t)},t.prototype._subscribeToUserInput=function(t){var e=this;return t.subscribe(function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._showHint(),e._windowRef.changeDetectorRef.detectChanges()):e._closePopup()})},t.prototype._unsubscribeFromUserInput=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null},t}();b.decorators=[{type:o.p,args:[{selector:"input[ngbTypeahead]",host:{"(blur)":"handleBlur()","[class.open]":"isPopupOpen()","(document:click)":"dismissPopup()","(keydown)":"handleKeyDown($event)",autocomplete:"off",autocapitalize:"off",autocorrect:"off",role:"combobox","aria-multiline":"false","[attr.aria-autocomplete]":'showHint ? "both" : "list"',"[attr.aria-activedescendant]":"activeDescendant","[attr.aria-owns]":"isPopupOpen() ? popupId : null","[attr.aria-expanded]":"isPopupOpen()"},providers:[v]}]}],b.ctorParameters=function(){return[{type:o.q},{type:o._3},{type:o.R},{type:o.z},{type:o.m},{type:g.a},{type:o.J}]},b.propDecorators={container:[{type:o.A}],editable:[{type:o.A}],focusFirst:[{type:o.A}],inputFormatter:[{type:o.A}],ngbTypeahead:[{type:o.A}],resultFormatter:[{type:o.A}],resultTemplate:[{type:o.A}],showHint:[{type:o.A}],placement:[{type:o.A}],selectItem:[{type:o.L}]},n.d(e,"a",function(){return w}),n.d(e,!1,function(){return a.a}),n.d(e,!1,function(){return s.a}),n.d(e,!1,function(){return g.a}),n.d(e,!1,function(){return b});var w=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[g.a]}},t}();w.decorators=[{type:o.E,args:[{declarations:[b,a.a,s.a],exports:[b,a.a],imports:[i.c],entryComponents:[s.a]}]}],w.ctorParameters=function(){return[]}},DlWC:function(t,e,n){"use strict";function r(t){return i._43(0,[],null,null)}function o(t){return i._43(0,[(t()(),i._21(0,null,null,1,"ngb-modal-backdrop",[["class","modal-backdrop fade show"]],null,null,null,r,u)),i._19(49152,null,0,a.a,[],null,null)],null,null)}n.d(e,"a",function(){return c});var i=n("/oeL"),a=n("1Dsc"),s=[],u=i._18({encapsulation:2,styles:s,data:{}}),c=i._16("ngb-modal-backdrop",a.a,o,{},{},[])},DuAm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Repo=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("NuZ9"),i=n("vaJ0"),a=n("y6vc"),s=n("oh70"),u=n("GhrA"),c=n("Au1X"),l=n("xrQA"),h=n("sN0z"),p=n("dSvz"),f=n("SUgJ"),d=n("pfc+"),m=n("f+LA"),y=n("J47i"),g=n("OvqL"),v=n("U19Y"),_=n("2xRK"),b=n("xF0D"),w=function(){function t(t,e,n){var o=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new s.SparseSnapshotTree,this.persistentConnection_=null;var i=new f.AuthTokenProvider(n);if(this.stats_=d.StatsManager.getCollection(t),e||(0,h.beingCrawled)())this.server_=new _.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(void 0!==a&&null!==a){if("object"!==(void 0===a?"undefined":r(a)))throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,l.stringify)(a)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new v.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,a),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){o.server_.refreshAuthToken(t)}),this.statsReporter_=d.StatsManager.getOrCreateReporter(t,function(){return new m.StatsReporter(o.stats_,o.server_)}),this.transactions_init_(),this.infoData_=new c.SnapshotHolder,this.infoSyncTree_=new u.SyncTree({startListening:function(t,e,n,r){var i=[],a=o.infoData_.getNode(t.path);return a.isEmpty()||(i=o.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){r("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new u.SyncTree({startListening:function(t,e,n,r){return o.server_.listen(t,n,e,function(e,n){var i=r(e,n);o.eventQueue_.raiseEventsForChangedPath(t.path,i)}),[]},stopListening:function(t,e){o.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new a.Path(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return(0,o.generateWithValues)({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new a.Path(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var u=(0,p.map)(e,function(t){return(0,i.nodeFromJSON)(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(o,u,r)}else{var c=(0,i.nodeFromJSON)(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(o,c,r)}else if(n){var l=(0,p.map)(e,function(t){return(0,i.nodeFromJSON)(t)});s=this.serverSyncTree_.applyServerMerge(o,l)}else{var h=(0,i.nodeFromJSON)(e);s=this.serverSyncTree_.applyServerOverwrite(o,h)}var f=o;s.length>0&&(f=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(f,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;(0,h.each)(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new a.Path("/.info/"+t),r=(0,i.nodeFromJSON)(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var a=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),u=(0,i.nodeFromJSON)(e,n),c=(0,o.resolveDeferredValueSnapshot)(u,s),l=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserOverwrite(t,c,l,!0);this.eventQueue_.queueEvents(p),this.server_.put(t.toString(),u.val(!0),function(e,n){var o="ok"===e;o||(0,h.warn)("set at "+t+" failed: "+e);var i=a.serverSyncTree_.ackUserWrite(l,!o);a.eventQueue_.raiseEventsForChangedPath(t,i),a.callOnCompleteCallback(r,e,n)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var a=!0,s=this.generateServerValues(),u={};if((0,p.forEach)(e,function(t,e){a=!1;var n=(0,i.nodeFromJSON)(e);u[t]=(0,o.resolveDeferredValueSnapshot)(n,s)}),a)(0,h.log)("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,u,c);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,function(e,o){var i="ok"===e;i||(0,h.warn)("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(c,!i),s=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,o)}),(0,p.forEach)(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=(0,o.resolveDeferredValueTree)(this.onDisconnect_,e),r=[];n.forEachTree(a.Path.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var o=t.abortTransactions_(e);t.rerunTransactions_(o)}),this.onDisconnect_=new s.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(a.Path.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=(0,i.nodeFromJSON)(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,a=(0,i.nodeFromJSON)(e,n);this.server_.onDisconnectPut(t.toString(),a.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,a),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if((0,p.isEmpty)(e))return(0,h.log)("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,a){"ok"===o&&(0,p.forEach)(e,function(e,n){var o=(0,i.nodeFromJSON)(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,a)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new y.StatsListener(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);(0,p.forEach)(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),h.log.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&(0,h.exceptionGuard)(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new b.Database(this))},enumerable:!0,configurable:!0}),t}();e.Repo=w},ERM2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=1;!function(t){t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine"}(r||(r={}));var i=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>o<<o,r=e-n;this.previousId=r>=t?n|this.generatorId:(n|this.generatorId)-(1<<o)}return t.prototype.next=function(){return this.previousId+=1<<o,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(r.LocalStore,e)},t.forSyncEngine=function(){return new t(r.SyncEngine)},t}();e.TargetIdGenerator=i},El2n:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){return void 0===e?{merge:!1}:((0,S.validateOptionNames)(t,e,["merge"]),(0,S.validateNamedOptionalType)(t,"boolean","merge",e.merge),e)}function i(t,e,n){if(e instanceof q){if(e.firestore!==n)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw(0,S.invalidClassError)(t,"DocumentReference",1,e)}function a(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(o){var i=new W(t,o.doc.key,o.doc,e.fromCache);return(0,w.assert)(o.type===f.ChangeType.Added,"Invalid event type for first snapshot"),(0,w.assert)(!n||e.query.docComparator(n,o.doc)<0,"Got added events in wrong order"),n=o.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var o=e.oldDocs;return e.docChanges.map(function(n){var r=new W(t,n.doc.key,n.doc,e.fromCache),i=-1,a=-1;return n.type!==f.ChangeType.Added&&(i=o.indexOf(n.doc.key),(0,w.assert)(i>=0,"Index for document not found"),o=o.delete(n.doc.key)),n.type!==f.ChangeType.Removed&&(o=o.add(n.doc),a=o.indexOf(n.doc.key)),{type:s(n.type),doc:r,oldIndex:i,newIndex:a}})}function s(t){switch(t){case f.ChangeType.Added:return"added";case f.ChangeType.Modified:case f.ChangeType.Metadata:return"modified";case f.ChangeType.Removed:return"removed";default:return(0,w.fail)("Unknown change type: "+t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.PublicCollectionReference=e.PublicQuerySnapshot=e.PublicQuery=e.PublicDocumentSnapshot=e.PublicDocumentReference=e.PublicWriteBatch=e.PublicTransaction=e.PublicFirestore=e.CollectionReference=e.QuerySnapshot=e.Query=e.DocumentSnapshot=e.DocumentReference=e.WriteBatch=e.Transaction=e.Firestore=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.changesFromSnapshot=a;var c=n("1cov"),l=n("Sznr"),h=n("Y++P"),p=n("6l4v"),f=n("9BZZ"),d=n("d9fJ"),m=n("V2Ax"),y=n("ieSv"),g=n("Jwze"),v=n("n8qD"),_=n("v3x7"),b=n("sdUa"),w=n("wg5S"),x=n("xQ7q"),C=n("QuDB"),E=n("3vSt"),S=n("mupS"),T=n("0C8m"),P=r(T),O=n("D1Ck"),I=n("ILqR"),A=r(I),k=n("U+HO"),D=n("yOXc"),R=n("LI/y"),M=n("FLGZ"),N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L="firestore.googleapis.com",F=!0,V=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L,this.ssl=F}else(0,S.validateNamedType)("settings","string","host",t.host),this.host=t.host,(0,S.validateNamedOptionalType)("settings","boolean","ssl",t.ssl),this.ssl=A.defaulted(t.ssl,F);(0,S.validateOptionNames)("settings",t,["host","ssl","credentials"]),(0,S.validateNamedOptionalType)("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.equals=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),j=function(){function t(){}return t}(),z=function(){function t(e){var n=this;this.INTERNAL={delete:function(){return n._firestoreClient?n._firestoreClient.shutdown():k.PromiseImpl.resolve()}};var r=new j;if("object"===u(e.options)){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new D.FirebaseCredentialsProvider(o)}else{var i=e;if(!i.projectId)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new l.DatabaseId(i.projectId,i.database),r.persistenceKey="[DEFAULT]",r.credentials=new D.EmptyCredentialsProvider}r.settings=new V({}),this._config=r}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._config.databaseId},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){if((0,S.validateExactNumberOfArgs)("Firestore.settings",arguments,1),(0,S.validateArgType)("Firestore.settings","object",1,t),A.contains(t,"persistence"))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new V(t);if(this._firestoreClient&&!this._config.settings.equals(e))throw new E.FirestoreError(E.Code.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=(0,D.makeCredentialsProvider)(e.credentials))},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new E.FirestoreError(E.Code.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;(0,w.assert)(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),(0,w.assert)(!this._firestoreClient,"configureClient() called multiple times");var n=new l.DatabaseInfo(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl),r=function(t){if(t instanceof q){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.equals(n))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new M.DocumentKeyReference(e._config.databaseId,t._key)}return t};return this._dataConverter=new M.UserDataConverter(r),this._firestoreClient=new h.FirestoreClient(_.PlatformSupport.getPlatform(),n,this._config.credentials,new C.AsyncQueue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!A.contains(e,"projectId")){if(A.contains(e,"firestoreId"))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(A.contains(e,"firestoreOptions"))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"projectId must be a string in firebase.app.App.options");return new l.DatabaseId(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E.FirestoreError(E.Code.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if((0,S.validateExactNumberOfArgs)("Firestore.collection",arguments,1),(0,S.validateArgType)("Firestore.collection","string",1,t),!t)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new K(v.ResourcePath.fromString(t),this)},t.prototype.doc=function(t){if((0,S.validateExactNumberOfArgs)("Firestore.doc",arguments,1),(0,S.validateArgType)("Firestore.doc","string",1,t),!t)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),q.forPath(v.ResourcePath.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return(0,S.validateExactNumberOfArgs)("Firestore.runTransaction",arguments,1),(0,S.validateArgType)("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new B(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new U(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(P.getLogLevel()){case T.LogLevel.DEBUG:return"debug";case T.LogLevel.ERROR:return"error";case T.LogLevel.SILENT:return"silent";default:return(0,w.fail)("Unknown log level: "+P.getLogLevel())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch((0,S.validateExactNumberOfArgs)("Firestore.setLogLevel",arguments,1),(0,S.validateArgType)("Firestore.setLogLevel","string",1,t),t){case"debug":P.setLogLevel(P.LogLevel.DEBUG);break;case"error":P.setLogLevel(P.LogLevel.ERROR);break;case"silent":P.setLogLevel(P.LogLevel.SILENT);break;default:throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}();e.Firestore=z;var B=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;(0,S.validateExactNumberOfArgs)("Transaction.get",arguments,1);var n=i("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return(0,w.fail)("Mismatch in docs returned from document lookup.");var r=t[0];return r instanceof d.NoDocument?new W(e._firestore,n._key,null,!1):new W(e._firestore,n._key,r,!1)})},t.prototype.set=function(t,e,n){(0,S.validateBetweenNumberOfArgs)("Transaction.set",arguments,2,3);var r=i("Transaction.set",t,this._firestore);n=o("Transaction.set",n);var a=this._firestore._dataConverter.parseSetData("Transaction.set",e,n);return this._transaction.set(r._key,a),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s;return"string"==typeof e||e instanceof c.FieldPath?((0,S.validateAtLeastNumberOfArgs)("Transaction.update",arguments,3),a=i("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):((0,S.validateExactNumberOfArgs)("Transaction.update",arguments,2),a=i("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){(0,S.validateExactNumberOfArgs)("Transaction.delete",arguments,1);var e=i("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}();e.Transaction=B;var U=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){(0,S.validateBetweenNumberOfArgs)("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=i("WriteBatch.set",t,this._firestore);n=o("WriteBatch.set",n);var a=this._firestore._dataConverter.parseSetData("WriteBatch.set",e,n);return this._mutations=this._mutations.concat(a.toMutations(r._key,g.Precondition.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this.verifyNotCommitted();var a,s;return"string"==typeof e||e instanceof c.FieldPath?((0,S.validateAtLeastNumberOfArgs)("WriteBatch.update",arguments,3),a=i("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):((0,S.validateExactNumberOfArgs)("WriteBatch.update",arguments,2),a=i("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(s.toMutations(a._key,g.Precondition.exists(!0))),this},t.prototype.delete=function(t){(0,S.validateExactNumberOfArgs)("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=i("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new g.DeleteMutation(e._key,g.Precondition.NONE)),this},t.prototype.commit=function(){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._firestore.ensureClientConfigured().write(this._mutations):k.PromiseImpl.resolve()},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E.FirestoreError(E.Code.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();e.WriteBatch=U;var q=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new m.DocumentKey(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new K(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if((0,S.validateExactNumberOfArgs)("DocumentReference.collection",arguments,1),(0,S.validateArgType)("DocumentReference.collection","string",1,t),!t)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=v.ResourcePath.fromString(t);return new K(this._key.path.child(e),this.firestore)},t.prototype.set=function(t,e){(0,S.validateBetweenNumberOfArgs)("DocumentReference.set",arguments,1,2),e=o("DocumentReference.set",e);var n=this.firestore._dataConverter.parseSetData("DocumentReference.set",t,e);return this._firestoreClient.write(n.toMutations(this._key,g.Precondition.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o;return"string"==typeof t||t instanceof c.FieldPath?((0,S.validateAtLeastNumberOfArgs)("DocumentReference.update",arguments,2),o=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):((0,S.validateExactNumberOfArgs)("DocumentReference.update",arguments,1),o=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(o.toMutations(this._key,g.Precondition.exists(!0)))},t.prototype.delete=function(){return(0,S.validateExactNumberOfArgs)("DocumentReference.delete",arguments,0),this._firestoreClient.write([new g.DeleteMutation(this._key,g.Precondition.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(0,S.validateBetweenNumberOfArgs)("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!==u(t[o])||(0,R.isPartialObserver)(t[o])||(r=t[o],(0,S.validateOptionNames)("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),(0,S.validateNamedOptionalType)("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return(0,R.isPartialObserver)(t[o])?n=t[o]:((0,S.validateArgType)("DocumentReference.onSnapshot","function",o,t[o]),(0,S.validateOptionalArgType)("DocumentReference.onSnapshot","function",o+1,t[o+1]),(0,S.validateOptionalArgType)("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new x.AsyncObserver({next:function(t){if(e.next){(0,w.assert)(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new W(n.firestore,n._key,r,t.fromCache))}},error:r}),i=this._firestoreClient.listen(p.Query.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(){var t=this;return(0,S.validateExactNumberOfArgs)("DocumentReference.get",arguments,0),new k.PromiseImpl(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new E.FirestoreError(E.Code.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}();e.DocumentReference=q;var W=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(){if((0,S.validateExactNumberOfArgs)("DocumentSnapshot.data",arguments,0),!this._document)throw new E.FirestoreError(E.Code.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this._document.data)},t.prototype.get=function(t){if((0,S.validateExactNumberOfArgs)("DocumentSnapshot.get",arguments,1),!this._document)throw new E.FirestoreError(E.Code.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var e=this._document.data.field((0,M.fieldPathFromArgument)("DocumentSnapshot.get",t));return void 0===e?void 0:this.convertValue(e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new q(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this._document&&this._document.hasLocalMutations,fromCache:this._fromCache}},enumerable:!0,configurable:!0}),t.prototype.convertObject=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.convertValue(r)}),n},t.prototype.convertValue=function(t){if(t instanceof y.ObjectValue)return this.convertObject(t);if(t instanceof y.ArrayValue)return this.convertArray(t);if(t instanceof y.RefValue){var e=t.value(),n=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.equals(n)||P.error("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new q(e,this._firestore)}return t.value()},t.prototype.convertArray=function(t){var e=this;return t.internalValue.map(function(t){return e.convertValue(t)})},t}();e.DocumentSnapshot=W;var H=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){(0,S.validateExactNumberOfArgs)("Query.where",arguments,3),(0,S.validateArgType)("Query.where","string",2,n),(0,S.validateDefined)("Query.where",3,r);var o,i=(0,M.fieldPathFromArgument)("Query.where",e);if(i.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new v.ResourcePath([r]));(0,w.assert)(a.length%2==0,"Path should be a document key"),o=new y.RefValue(this.firestore._databaseId,new m.DocumentKey(a))}else{if(!(r instanceof q))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+(0,S.valueDescription)(r)+".");var s=r;o=new y.RefValue(this.firestore._databaseId,s._key)}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=(0,p.fieldFilter)(i,p.RelationOp.fromString(n),o);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){(0,S.validateBetweenNumberOfArgs)("Query.orderBy",arguments,1,2),(0,S.validateOptionalArgType)("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=p.Direction.ASCENDING;else{if("desc"!==n)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=p.Direction.DESCENDING}if(null!==this._query.startAt)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=(0,M.fieldPathFromArgument)("Query.orderBy",e),i=new p.OrderBy(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore)},t.prototype.limit=function(e){if((0,S.validateExactNumberOfArgs)("Query.limit",arguments,1),(0,S.validateArgType)("Query.limit","number",1,e),e<=0)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(0,S.validateAtLeastNumberOfArgs)("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(0,S.validateAtLeastNumberOfArgs)("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(0,S.validateAtLeastNumberOfArgs)("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(0,S.validateAtLeastNumberOfArgs)("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if((0,S.validateDefined)(t,1,e),e instanceof W){if(n.length>0)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new E.FirestoreError(E.Code.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new y.RefValue(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new p.Bound(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var a=e[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+(void 0===a?"undefined":u(a)));if(-1!==a.indexOf("/"))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new m.DocumentKey(this._query.path.child(a));o.push(new y.RefValue(this.firestore._databaseId,s))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);o.push(c)}}return new p.Bound(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];(0,S.validateBetweenNumberOfArgs)("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!==u(t[o])||(0,R.isPartialObserver)(t[o])||(r=t[o],(0,S.validateOptionNames)("Query.onSnapshot",r,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),(0,S.validateNamedOptionalType)("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),(0,S.validateNamedOptionalType)("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),o++),(0,R.isPartialObserver)(t[o])?n=t[o]:((0,S.validateArgType)("Query.onSnapshot","function",o,t[o]),(0,S.validateOptionalArgType)("Query.onSnapshot","function",o+1,t[o+1]),(0,S.validateOptionalArgType)("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new x.AsyncObserver({next:function(t){e.next&&e.next(new G(n.firestore,n._query,t))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(a)}},t.prototype.get=function(){var t=this;return(0,S.validateExactNumberOfArgs)("Query.get",arguments,0),new k.PromiseImpl(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof p.RelationFilter&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.equals(t.field))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.equals(t))throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}();e.Query=H;var G=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;(0,S.validateBetweenNumberOfArgs)("QuerySnapshot.forEach",arguments,1,2),(0,S.validateArgType)("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new H(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=a(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.convertToDocumentImpl=function(t){return new W(this._firestore,t.key,t,this.metadata.fromCache)},t}();e.QuerySnapshot=G;var K=function(t){function e(e,n){var r=t.call(this,p.Query.atPath(e),n)||this;if(e.length%2!=1)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return N(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new q(new m.DocumentKey(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if((0,S.validateBetweenNumberOfArgs)("CollectionReference.doc",arguments,0,1),(0,S.validateOptionalArgType)("CollectionReference.doc","string",1,t),void 0===t&&(t=O.AutoId.newId()),"string"!=typeof t||""===t)throw new E.FirestoreError(E.Code.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=v.ResourcePath.fromString(t);return q.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){(0,S.validateExactNumberOfArgs)("CollectionReference.add",arguments,1),(0,S.validateArgType)("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(H);e.CollectionReference=K;e.PublicFirestore=(0,b.makeConstructorPrivate)(z,"Use firebase.firestore() instead."),e.PublicTransaction=(0,b.makeConstructorPrivate)(B,"Use firebase.firestore().runTransaction() instead."),e.PublicWriteBatch=(0,b.makeConstructorPrivate)(U,"Use firebase.firestore().batch() instead."),e.PublicDocumentReference=(0,b.makeConstructorPrivate)(q,"Use firebase.firestore().doc() instead."),e.PublicDocumentSnapshot=(0,b.makeConstructorPrivate)(W),e.PublicQuery=(0,b.makeConstructorPrivate)(H),e.PublicQuerySnapshot=(0,b.makeConstructorPrivate)(G),e.PublicCollectionReference=(0,b.makeConstructorPrivate)(K,"Use firebase.firestore().collection() instead.")},Emqh:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=o},F3px:function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=a);var n=(t||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var n=e[t[0]]||t;return new i(n[0],n[1])}),o=r.filter(function(t){return t.isManual()});if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}function o(t,e,n,o,i,a){var u=r(n),c=[];return 1===u.length&&u[0].isManual()?s:(u.forEach(function(n){n.open===n.close?c.push(t.listen(e,n.open,a)):c.push(t.listen(e,n.open,o),t.listen(e,n.close,i))}),function(){c.forEach(function(t){return t()})})}e.a=o;var i=function(){function t(t,e){this.open=t,this.close=e,e||(this.close=t)}return t.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},t}(),a={hover:["mouseenter","mouseleave"]},s=function(){}},FLGZ:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return!("object"!==(void 0===t?"undefined":c(t))||null===t||t instanceof Array||t instanceof Date||t instanceof T.GeoPoint||t instanceof C.Blob||t instanceof D||t instanceof S.FieldValueImpl)}function i(t,e,n){if(!o(n)||!(0,y.isPlainObject)(n)){var r=(0,y.valueDescription)(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function a(t,e){if(e instanceof E.FieldPath)return e._internalPath;if("string"==typeof e)return s(t,e);throw new m.FirestoreError(m.Code.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function s(t,e){try{return(0,E.fromDotSeparatedString)(e)._internalPath}catch(e){var n=u(e);throw new m.FirestoreError(m.Code.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function u(t){return t instanceof Error?t.message:t.toString()}Object.defineProperty(e,"__esModule",{value:!0}),e.UserDataConverter=e.DocumentKeyReference=e.ParsedUpdateData=e.ParsedSetData=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.fieldPathFromArgument=a;var l=n("ygS9"),h=n("ieSv"),p=n("Jwze"),f=n("n8qD"),d=n("wg5S"),m=n("3vSt"),y=n("mupS"),g=n("D1Ck"),v=n("ILqR"),_=r(v),b=n("3wYX"),w=n("3aE0"),x=r(w),C=n("VQAl"),E=n("1cov"),S=n("RiQK"),T=n("TNy0"),P=/^__.*__$/,O=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new p.PatchMutation(t,this.data,this.fieldMask,e)):n.push(new p.SetMutation(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new p.TransformMutation(t,this.fieldTransforms)),n},t}();e.ParsedSetData=O;var I=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new p.PatchMutation(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new p.TransformMutation(t,this.fieldTransforms)),n},t}();e.ParsedUpdateData=I;var A;!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.QueryValue=2]="QueryValue"}(A||(A={}));var k=function(){function t(t,e,n,r,o){this.dataSource=t,this.methodName=e,this.path=n,void 0===r&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContext=function(e){var n;n="number"==typeof e?null:null==this.path?null:this.path.child(e);var r=new t(this.dataSource,this.methodName,n,this.fieldTransforms,this.fieldMask);return"string"==typeof e?r.validatePathSegment(e):"object"===(void 0===e?"undefined":c(e))&&e instanceof f.FieldPath&&r.validatePath(),r},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new m.FirestoreError(m.Code.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(this.isWrite()&&P.test(t))throw this.createError("Document fields cannot begin and end with __")},t.prototype.isWrite=function(){return this.dataSource===A.Set||this.dataSource===A.Update},t}(),D=function(){function t(t,e){this.databaseId=t,this.key=e}return t}();e.DocumentKeyReference=D;var R=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e,n){var r=this,o=new k(A.Set,t,f.FieldPath.EMPTY_PATH);i("Data must be an object, but it was:",o,e);var a=void 0!==n.merge&&n.merge,s=h.ObjectValue.EMPTY;_.forEach(e,function(t,e){var n=new E.FieldPath(t)._internalPath,i=o.childContext(n);e=r.runPreConverter(e,i);var a=r.parseData(e,i);a&&(s=s.set(n,a))});var u=a?new p.FieldMask(o.fieldMask):null;return new O(s,u,o.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new k(A.Update,t,f.FieldPath.EMPTY_PATH);i("Data must be an object, but it was:",r,e);var o=[],a=h.ObjectValue.EMPTY;_.forEach(e,function(e,i){var u=s(t,e),c=r.childContext(u);if((i=n.runPreConverter(i,c))instanceof S.DeleteFieldValueImpl)o.push(u);else{var l=n.parseData(i,c);null!=l&&(o.push(u),a=a.set(u,l))}});var u=new p.FieldMask(o);return new I(a,u,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new k(A.Update,t,f.FieldPath.EMPTY_PATH),i=[a(t,e)],s=[n];if(r.length%2!=0)throw new m.FirestoreError(m.Code.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<r.length;u+=2)i.push(a(t,r[u])),s.push(r[u+1]);for(var c=[],l=h.ObjectValue.EMPTY,u=0;u<i.length;++u){var d=i[u],y=o.childContext(d),g=this.runPreConverter(s[u],y);if(g instanceof S.DeleteFieldValueImpl)c.push(d);else{var v=this.parseData(g,y);null!=v&&(c.push(d),l=l.set(d,v))}}var _=new p.FieldMask(c);return new I(l,_,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new k(A.QueryValue,t,f.FieldPath.EMPTY_PATH),r=this.parseData(e,n);return(0,d.assert)(null!=r,"Parsed data should not be null."),(0,d.assert)(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=u(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(!e.path)throw e.createError("Nested arrays are not supported");return e.fieldMask.push(e.path),this.parseArray(t,e)}return o(t)?(i("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var a=i[o],s=this.parseData(a,e.childContext(r));null==s&&(s=h.NullValue.INSTANCE),n.push(s),r++}return new h.ArrayValue(n)},t.prototype.parseObject=function(t,e){var n=this,r=new b.SortedMap(g.primitiveComparator);return _.forEach(t,function(t,o){var i=n.parseData(o,e.childContext(t));null!=i&&(r=r.insert(t,i))}),new h.ObjectValue(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return h.NullValue.INSTANCE;if("number"==typeof t)return x.isSafeInteger(t)?new h.IntegerValue(t):new h.DoubleValue(t);if("boolean"==typeof t)return h.BooleanValue.of(t);if("string"==typeof t)return new h.StringValue(t);if(t instanceof Date)return new h.TimestampValue(l.Timestamp.fromDate(t));if(t instanceof T.GeoPoint)return new h.GeoPointValue(t);if(t instanceof C.Blob)return new h.BlobValue(t);if(t instanceof D)return new h.RefValue(t.databaseId,t.key);if(t instanceof S.FieldValueImpl){if(t instanceof S.DeleteFieldValueImpl)throw e.dataSource!==A.Update?e.createError("FieldValue.delete() can only be used with update()"):((0,d.assert)(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data"));if(t instanceof S.ServerTimestampFieldValueImpl){if(e.dataSource!==A.Set&&e.dataSource!==A.Update)throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new p.FieldTransform(e.path,p.ServerTimestampTransform.instance)),null}return(0,d.fail)("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+(0,y.valueDescription)(t))},t}();e.UserDataConverter=R},FRRe:function(t,e,n){"use strict";function r(t){return a(t,m.DbTarget.store)}function o(t){return a(t,m.DbTargetGlobal.store)}function i(t){return a(t,m.DbTargetDocument.store)}function a(t,e){return t instanceof g.SimpleDbTransaction?t.store(e):(0,h.fail)("Invalid transaction object provided!")}Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedDbQueryCache=void 0;var s=n("pZ/q"),u=n("ygS9"),c=n("rwiY"),l=n("V2Ax"),h=n("wg5S"),p=n("D1Ck"),f=n("mGGb"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),m=n("abh2"),y=n("G3bM"),g=n("d6PS"),v=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=s.SnapshotVersion.MIN,this.metadata=new m.DbTargetGlobal(0,0,s.SnapshotVersion.MIN.toTimestamp()),this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return o(t).get(m.DbTargetGlobal.key).next(function(t){if(null!==t){e.metadata=t;var n=t.lastRemoteSnapshotVersion;e.lastRemoteSnapshotVersion=s.SnapshotVersion.fromTimestamp(new u.Timestamp(n.seconds,n.nanos))}return y.PersistencePromise.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),o(t).put(m.DbTargetGlobal.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this,i=e.targetId,a=r(t).put(this.serializer.toDbTarget(e));return i>this.metadata.highestTargetId?(this.metadata.highestTargetId=i,a.next(function(){return o(t).put(m.DbTargetGlobal.key,n.metadata)})):a},t.prototype.removeQueryData=function(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){r(t).delete(e.targetId)})},t.prototype.getQueryData=function(t,e){var n=this,o=e.canonicalId(),i=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),a=null;return r(t).iterate({range:i,index:m.DbTarget.queryTargetsIndexName},function(t,r,o){var i=n.serializer.fromDbTarget(r);e.equals(i.query)&&(a=i,o.done())}).next(function(){return a})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],o=i(t);return e.forEach(function(t){var e=d.encode(t.path);r.push(o.put(new m.DbTargetDocument(n,e)))}),y.PersistencePromise.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=[],a=i(t);return e.forEach(function(t){var e=d.encode(t.path);o.push(a.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),y.PersistencePromise.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=i(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=i(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var o=d.decode(t[1]),i=new l.DocumentKey(o);(0,h.assert)(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(i)}):y.PersistencePromise.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=i(t),o=(0,c.documentKeySet)();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=d.decode(t[1]),i=new l.DocumentKey(r);o=o.add(i)}).next(function(){return o})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){(0,h.assert)(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=d.encode(e.path),r=IDBKeyRange.bound([n],[(0,p.immediateSuccessor)(n)],!1,!0),o=0;return i(t).iterate({index:m.DbTargetDocument.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}();e.IndexedDbQueryCache=v},Fhmd:function(t,e,n){"use strict";var r=n("jUlM");e.forkJoin=r.ForkJoinObservable.create},Fpv1:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("Io40"),i=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(o.AsyncAction);e.QueueAction=i},G3bM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistencePromise=void 0;var r=n("wg5S"),o=n("U+HO"),i=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var o=this;return this.callbackAttached&&(0,r.fail)("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){o.nextCallback=function(n){o.wrapSuccess(e,n).next(t,r)},o.catchCallback=function(e){o.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new o.PromiseImpl(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,o=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},o).next(function(t){return n.push(t),n})},t}();e.PersistencePromise=i},GIDU:function(t,e,n){"use strict";function r(t){i=t}function o(t){a=t}Object.defineProperty(e,"__esModule",{value:!0}),e.PRIORITY_INDEX=e.PriorityIndex=void 0,e.setNodeFromJSON=r,e.setMaxNode=o;var i,a,s=n("egC3"),u=n("sN0z"),c=n("Rmqq"),l=n("hu/W"),h=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?(0,u.nameCompare)(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return c.NamedNode.MIN},e.prototype.maxPost=function(){return new c.NamedNode(u.MAX_NAME,new l.LeafNode("[PRIORITY-POST]",a))},e.prototype.makePost=function(t,e){var n=i(t);return new c.NamedNode(e,new l.LeafNode("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(s.Index);e.PriorityIndex=p;e.PRIORITY_INDEX=new p},GaSD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.year=t,this.month=e,this.day=n}return t.from=function(e){return e?new t(e.year,e.month,e.day?e.day:1):null},t.prototype.equals=function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day},t.prototype.before=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)},t.prototype.after=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)},t.prototype.toStruct=function(){return{year:this.year,month:this.month,day:this.day}},t.prototype.toString=function(){return this.year+"-"+this.month+"-"+this.day},t}()},GhrA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncTree=void 0;var r=n("Iylt"),o=n("sN0z"),i=n("TH0N"),a=n("VBxt"),s=n("dSvz"),u=n("R/Oc"),c=n("6w/o"),l=n("pRH8"),h=n("NE16"),p=n("Hgmi"),f=n("y6vc"),d=n("Hjju"),m=n("RJJc"),y=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new m.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(f.Path.Empty,!0):(0,s.forEach)(n.children,function(t,e){r=r.set(new f.Path(t),e)}),this.applyOperationToSyncPoints_(new i.AckUserWrite(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new c.ListenComplete(h.OperationSource.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,u=f.Path.relativePath(a,e),c=new p.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,c=f.Path.relativePath(a,e),p=u.ImmutableTree.fromObject(n),d=new l.Merge(h.OperationSource.forServerTaggedQuery(s),c,p);return this.applyTaggedOperation_(a,d)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,a=o.queryId,s=f.Path.relativePath(i,e),u=new c.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(i,u)}return[]},t.prototype.addEventRegistration=function(e,n){var o=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(o,function(t,e){var n=f.Path.relativePath(t,o);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var u=this.syncPointTree_.get(o);u?(s=s||u.hasCompleteView(),i=i||u.getCompleteServerCache(f.Path.Empty)):(u=new d.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(o,u));var c;if(null!=i)c=!0;else{c=!1,i=a.ChildrenNode.EMPTY_NODE;this.syncPointTree_.subtree(o).foreachChild(function(t,e){var n=e.getCompleteServerCache(f.Path.Empty);n&&(i=i.updateImmediateChild(t,n))})}var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);(0,r.assert)(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var p=t.getNextQueryTag_();this.queryToTagMap_[h]=p,this.tagToQueryMap_["_"+p]=h}var m=this.pendingWriteTree_.childWrites(o),y=u.addEventRegistration(e,n,m,i,c);if(!l&&!s){var g=u.viewForQuery(e);y=y.concat(this.setupListener_(e,g))}return y},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,a=this.syncPointTree_.get(i),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(l&&!h){var p=this.syncPointTree_.subtree(i);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var m=f[d],y=m.getQuery(),g=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=f.Path.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var r=[];return e&&(r=e.getQueryViews()),(0,s.forEach)(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+i]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var o=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),c=this.syncPointTree_.subtree(o);if(i)(0,r.assert)(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),(0,s.forEach)(n,function(t,e){r=r.concat(e)}),r}),h=0;h<l.length;++h){var p=l[h];this.listenProvider_.stopListening(t.queryForListening_(p),this.tagForQuery_(p))}return u},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=(0,o.errorForServerCode)(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return(0,r.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new f.Path(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return(0,s.safeGet)(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);(0,r.assert)(n,"Missing sync point for query tag that we're tracking");var o=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,o,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(f.Path.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(f.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(f.Path.Empty));var i=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);i=i.concat(this.applyOperationHelper_(s,u,c,l))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get(f.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(f.Path.Empty));var a=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(o.applyOperationDescendantsHelper_(c,i,s,u)))}),i&&(a=a.concat(i.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}();e.SyncTree=y},H6Sg:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},HAwn:function(t,e,n){"use strict";function r(t){return"string"==typeof t}function o(t){return"function"==typeof t.exportVal}function i(t){return void 0===t||null===t}function a(t){return"function"==typeof t.set}function s(t,e){return a(e)?e:t.database().ref(e)}function u(t,e){if(r(t))return e.stringCase();if(a(t))return e.firebaseCase();if(o(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function c(t,e,n){void 0===n&&(n="on");var r=new k.Observable(function(r){var o=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e})},r.error.bind(r));return{unsubscribe:function(){t.off(e,o)}}}).map(function(t){var n=t.snapshot,r=t.prevKey,o=null;return n&&(o=n.key),{type:e,payload:n,prevKey:r,key:o}}).delay(0);return D.observeOn.call(r,new A.e(Zone.current))}function l(t){return(i(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function h(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function p(t,e){if(i(e))return 0;var n=h(t,e);return-1===n?t.length:n+1}function f(t,e){var n=e.map(function(e){return c(t,e)});return k.Observable.merge.apply(k.Observable,n).scan(function(t,e){var n=e.payload,r=(e.type,e.prevKey),o=e.key;switch(e.type){case"child_added":return t.concat([e]);case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===o?e:t});case"child_moved":var i=h(t,n.key);if(i>-1){var a=t.splice(i,1)[0],s=p(t,r);return t.splice(s,0,a),t}return t;default:return t}},[])}function d(t,e){return e=l(e),f(t,e)}function m(t){return function(e){return v(t,e)}}function y(t){return c(t,"value").map(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}})}function g(t,e){return y(t).withLatestFrom(e).map(function(t){var e=t[0],n=t[1];return{actions:n,lastKeyToLoad:e.lastKeyToLoad,loadedKeys:n.map(function(t){return t.key})}}).skipWhile(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}).map(function(t){return t.actions})}function v(t,e){return g(t,d(t,e))}function _(t){return function(e){return b(t,e)}}function b(t,e){e=l(e);var n=e.map(function(e){return c(t,e)});return k.Observable.merge.apply(k.Observable,n)}function w(t){return function(e){return x(t,e)}}function x(t,e){return g(t,b(t,e).scan(function(t,e){return t.concat([e])},[]))}function C(t,e){return function(n,r){return u(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function E(t){return function(e){return e?u(e,{stringCase:function(){return t.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):t.remove()}}function S(t){return{query:t,update:C(t.ref,"update"),set:C(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:E(t.ref),snapshotChanges:m(t),stateChanges:_(t),auditTrail:w(t),valueChanges:function(e){return v(t,e).map(function(t){return t.map(function(t){return t.payload.val()})})}}}function T(t){return function(){return c(t,"value")}}function P(t){return{query:t,snapshotChanges:T(t),update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return T(t)().map(function(t){return t.payload?t.payload.val():null})}}}function O(t){return new R(t)}var I=n("/oeL"),A=(n("pA7+"),n("13je")),k=n("bKpL"),D=n("AHF9"),R=(n("5v8a"),n("l3Q+"),n("6NKQ"),n("JNTq"),n("67Ck"),n("asHm"),function(){function t(t){this.app=t,this.database=t.database()}return t.prototype.list=function(t,e){var n=s(this.app,t),r=n;return e&&(r=e(n)),S(r)},t.prototype.object=function(t){return P(s(this.app,t))},t.prototype.createPushId=function(){return this.database.ref().push().key},t.decorators=[{type:I.x}],t.ctorParameters=function(){return[{type:A.b}]},t}()),M={provide:R,useFactory:O,deps:[A.b]},N=[M],L=function(){function t(){}return t.decorators=[{type:I.E,args:[{imports:[A.a],providers:[N]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,"a",function(){return R}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return S}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return _}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return O}),n.d(e,!1,function(){return M}),n.d(e,!1,function(){return N}),n.d(e,"b",function(){return L})},HHMl:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("I2Y9"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(o.AsyncScheduler);e.QueueScheduler=i},HL28:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExponentialBackoff=void 0;var r=n("0C8m"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),i=n("B404"),a=function(){function t(t,e,n){this.initialDelayMs=t,this.backoffFactor=e,this.maxDelayMs=n,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndWait=function(){var t=new i.Deferred,e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&o.debug("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){t.resolve()},e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),t.promise},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();e.ExponentialBackoff=a},HRzg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},Hdz5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepoInfo=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("Iylt"),i=n("dSvz"),a=n("7AyI"),s=n("w/uE"),u=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=a.PersistentStorage.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&a.PersistentStorage.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){(0,o.assert)("string"==typeof t,"typeof type must == string"),(0,o.assert)("object"===(void 0===e?"undefined":r(e)),"typeof params must == object");var n;if(t===s.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==s.LONG_POLLING)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var a=[];return(0,i.forEach)(e,function(t,e){a.push(t+"="+e)}),n+a.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();e.RepoInfo=u},Hgmi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Overwrite=void 0;var r=n("NE16"),o=n("y6vc"),i=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=r.OperationType.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,o.Path.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();e.Overwrite=i},Hjju:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncPoint=void 0;var r,o=n("ePfY"),i=n("VBxt"),a=n("Iylt"),s=n("dSvz"),u=n("OfDd"),c=n("NQKc"),l=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,a.assert)(r,"Reference.ts has not been loaded"),r},set:function(t){(0,a.assert)(!r,"__referenceConstructor has already been defined"),r=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return(0,s.isEmpty)(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var o=(0,s.safeGet)(this.views_,r);return(0,a.assert)(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(t,e,n)}var i=[];return(0,s.forEach)(this.views_,function(r,o){i=i.concat(o.applyOperation(t,e,n))}),i},t.prototype.addEventRegistration=function(t,e,n,r,a){var l=t.queryIdentifier(),h=(0,s.safeGet)(this.views_,l);if(!h){var p=n.calcCompleteEventCache(a?r:null),f=!1;p?f=!0:r instanceof i.ChildrenNode?(p=n.calcCompleteEventChildren(r),f=!1):(p=i.ChildrenNode.EMPTY_NODE,f=!1);var d=new u.ViewCache(new o.CacheNode(p,f,!1),new o.CacheNode(r,a,!1));h=new c.View(t,d),this.views_[l]=h}return h.addEventRegistration(e),h.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),i=[],a=[],u=this.hasCompleteView();if("default"===o){var c=this;(0,s.forEach)(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||i.push(e.getQuery()))})}else{var l=(0,s.safeGet)(this.views_,o);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[o],l.getQuery().getQueryParams().loadsAllData()||i.push(l.getQuery())))}return u&&!this.hasCompleteView()&&i.push(new t.__referenceConstructor(e.repo,e.path)),{removed:i,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return(0,s.forEach)(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return(0,s.safeGet)(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return(0,s.findValue)(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}();e.SyncPoint=l},I2Y9:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("1VPd"),i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(o.Scheduler);e.AsyncScheduler=i},I3ay:function(t,e,n){"use strict";function r(){return this.lift(new o.MergeAllOperator(1))}var o=n("TIdC");e.concatAll=r},IBeK:function(t,e,n){"use strict";function r(t){var e=t.getFullYear();return e%4==0&&e%100!=0||e%400==0}function o(t,e){return t-e*Math.floor(t/e)}var i=n("/oeL"),a=n("qbdv"),s=n("4Q/O"),u=n("Av3o"),c=n("Pc3Y"),l=n("bm2B"),h=n("GaSD"),p=n("lA7/"),f=n("75Hr"),d=n("KSV9"),m=n("/6Tg"),y={provide:l.c,useExisting:Object(i._8)(function(){return v}),multi:!0},g={provide:l.b,useExisting:Object(i._8)(function(){return v}),multi:!0},v=function(){function t(t,e,n,r,o,a,s,u){var c=this;this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=r,this._cfr=o,this._service=s,this._calendar=u,this._cRef=null,this.placement="bottom-left",this.navigate=new i.s,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},this._zoneSubscription=a.onStable.subscribe(function(){c._cRef&&Object(f.a)(c._elRef.nativeElement,c._cRef.location.nativeElement,c.placement)})}return t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.registerOnValidatorChange=function(t){this._validatorChange=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elRef.nativeElement,"disabled",t),this.isOpen()&&this._cRef.instance.setDisabledState(t)},t.prototype.validate=function(t){var e=t.value;return null===e||void 0===e?null:this._calendar.isValid(e)?this.minDate&&h.a.from(e).before(h.a.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&h.a.from(e).after(h.a.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:t.value}}},t.prototype.writeValue=function(t){var e=t?new h.a(t.year,t.month,t.day):null;this._model=this._calendar.isValid(t)?e:null,this._writeModelValue(this._model)},t.prototype.manualDateChange=function(t,e){void 0===e&&(e=!1),this._model=this._service.toValidDate(this._parserFormatter.parse(t),null),this._onChange(this._model?this._model.toStruct():""===t?null:t),e&&this._model&&this._writeModelValue(this._model)},t.prototype.isOpen=function(){return!!this._cRef},t.prototype.open=function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(s.a);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._cRef.instance.writeValue(this._model),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.registerOnChange(function(e){t.writeValue(e),t._onChange(e),t.close()}),this._cRef.instance.focus()}},t.prototype.close=function(){this.isOpen()&&(this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null)},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.navigateTo=function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)},t.prototype.onBlur=function(){this._onTouched()},t.prototype.ngOnChanges=function(t){(t.minDate||t.maxDate)&&this._validatorChange()},t.prototype.ngOnDestroy=function(){this.close(),this._zoneSubscription.unsubscribe()},t.prototype._applyDatepickerInputs=function(t){var e=this;["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t.startDate=this.startDate||this._model},t.prototype._applyPopupStyling=function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.setStyle(t,"padding","0")},t.prototype._subscribeForDatepickerOutputs=function(t){var e=this;t.navigate.subscribe(function(t){return e.navigate.emit(t)})},t.prototype._writeModelValue=function(t){this._renderer.setProperty(this._elRef.nativeElement,"value",this._parserFormatter.format(t)),this.isOpen()&&(this._cRef.instance.writeValue(t),this._onTouched())},t}();v.decorators=[{type:i.p,args:[{selector:"input[ngbDatepicker]",exportAs:"ngbDatepicker",host:{"(input)":"manualDateChange($event.target.value)","(change)":"manualDateChange($event.target.value, true)","(keyup.esc)":"close()","(blur)":"onBlur()"},providers:[y,g,m.a]}]}],v.ctorParameters=function(){return[{type:p.b},{type:i.q},{type:i._3},{type:i.R},{type:i.m},{type:i.J},{type:m.a},{type:d.a}]},v.propDecorators={dayTemplate:[{type:i.A}],displayMonths:[{type:i.A}],firstDayOfWeek:[{type:i.A}],markDisabled:[{type:i.A}],minDate:[{type:i.A}],maxDate:[{type:i.A}],navigation:[{type:i.A}],outsideDays:[{type:i.A}],placement:[{type:i.A}],showWeekdays:[{type:i.A}],showWeekNumbers:[{type:i.A}],startDate:[{type:i.A}],navigate:[{type:i.L}]};var _=n("+oJC"),b=n("CuDZ"),w=n("JNkN"),x=n("HRzg"),C=n("wM1e"),E=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.isValid=function(t){return t&&Object(C.d)(t.year)&&Object(C.d)(t.month)&&Object(C.d)(t.day)&&!isNaN(this.toGregorian(t).getTime())},e.prototype.setDay=function(t,e){e=+e;var n=this.getDaysInIslamicMonth(t.month,t.year);if(e<=0)for(;e<=0;)t=this.setMonth(t,t.month-1),n=this.getDaysInIslamicMonth(t.month,t.year),e+=n;else if(e>n)for(;e>n;)e-=n,t=this.setMonth(t,t.month+1),n=this.getDaysInIslamicMonth(t.month,t.year);return t.day=e,t},e.prototype.setMonth=function(t,e){return e=+e,t.year=t.year+Math.floor((e-1)/12),t.month=Math.floor(((e-1)%12+12)%12)+1,t},e.prototype.setYear=function(t,e){return t.year=+e,t},e.prototype._isIslamicLeapYear=function(t){return(14+11*t)%30<11},e.prototype._getMonthStart=function(t,e){return Math.ceil(29.5*e)+354*(t-1)+Math.floor((3+11*t)/30)},e.prototype._getYearStart=function(t){return 354*(t-1)+Math.floor((3+11*t)/30)},e}(d.a);S.decorators=[{type:i.x}],S.ctorParameters=function(){return[]};var T=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.fromGregorian=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth(),i=e.getDate(),a=1721424.5+365*(n-1)+Math.floor((n-1)/4)+-Math.floor((n-1)/100)+Math.floor((n-1)/400)+Math.floor((367*(o+1)-362)/12+(o+1<=2?0:r(e)?-1:-2)+i);a=Math.floor(a)+.5;var s=a-1948439.5,u=Math.floor((30*s+10646)/10631),c=Math.ceil((s-29-this._getYearStart(u))/29.5);c=Math.min(c,11);var l=Math.ceil(s-this._getMonthStart(u,c))+1;return new h.a(u,c+1,l)},e.prototype.toGregorian=function(t){var e=t.year,n=t.month-1,i=t.day,a=i+Math.ceil(29.5*n)+354*(e-1)+Math.floor((3+11*e)/30)+1948439.5-1,s=Math.floor(a-.5)+.5,u=s-1721425.5,c=Math.floor(u/146097),l=o(u,146097),h=Math.floor(l/36524),p=o(l,36524),f=Math.floor(p/1461),d=o(p,1461),m=Math.floor(d/365),y=400*c+100*h+4*f+m;4!==h&&4!==m&&y++;var g=1721425.5+365*(y-1)+Math.floor((y-1)/4)-Math.floor((y-1)/100)+Math.floor((y-1)/400),v=s-g,_=1721424.5+365*(y-1)+Math.floor((y-1)/4)-Math.floor((y-1)/100)+Math.floor((y-1)/400)+Math.floor(739/12+(r(new Date(y,3,1))?-1:-2)+1),b=s<_?0:r(new Date(y,3,1))?1:2,w=Math.floor((12*(v+b)+373)/367),x=1721424.5+365*(y-1)+Math.floor((y-1)/4)-Math.floor((y-1)/100)+Math.floor((y-1)/400)+Math.floor((367*w-362)/12+(w<=2?0:r(new Date(y,w-1,1))?-1:-2)+1),C=s-x+1;return new Date(y,w-1,C)},e.prototype.getDaysInIslamicMonth=function(t,e){e+=Math.floor(t/13),t=(t-1)%12+1;var n=29+t%2;return 12===t&&this._isIslamicLeapYear(e)&&n++,n},e.prototype.getNext=function(t,e,n){switch(void 0===e&&(e="d"),void 0===n&&(n=1),t=h.a.from(t),e){case"y":return t=this.setYear(t,t.year+n),t.month=1,t.day=1,t;case"m":return t=this.setMonth(t,t.month+n),t.day=1,t;case"d":return this.setDay(t,t.day+n);default:return t}},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=this.toGregorian(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=(11-e)%7,r=t[n],o=this.toGregorian(r);o.setDate(o.getDate()+4-(o.getDay()||7));var i=o.getTime(),a=this.toGregorian(new h.a(r.year,1,1));return Math.floor(Math.round((i-a.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return this.fromGregorian(new Date)},e}(S);P.decorators=[{type:i.x}],P.ctorParameters=function(){return[]},n.d(e,"a",function(){return O}),n.d(e,!1,function(){return s.a}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return d.a}),n.d(e,!1,function(){return P}),n.d(e,!1,function(){return u.a}),n.d(e,!1,function(){return _.a}),n.d(e,!1,function(){return c.a}),n.d(e,!1,function(){return w.a}),n.d(e,!1,function(){return x.a}),n.d(e,!1,function(){return b.a}),n.d(e,!1,function(){return p.b});var O=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:d.a,useClass:d.b},{provide:b.a,useClass:b.b},{provide:p.b,useClass:p.a},x.a]}},t}();O.decorators=[{type:i.E,args:[{declarations:[s.a,u.a,c.a,w.a,_.a,v],exports:[s.a,v],imports:[a.c,l.a],entryComponents:[s.a]}]}],O.ctorParameters=function(){return[]}},ILqR:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null}function i(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function a(t,e){return void 0!==t?t:e}function s(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=parseInt(n,10);isNaN(r)||e(r,t[n])}}function u(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c(t,e,n){return r(t,e)||(t[e]=n()),t[e]}function l(t){(0,f.assert)(null!=t&&"object"===(void 0===t?"undefined":p(t)),"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function h(t){(0,f.assert)(t&&"object"===(void 0===t?"undefined":p(t)),"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}Object.defineProperty(e,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.contains=r,e.get=o,e.size=i,e.defaulted=a,e.forEachNumber=s,e.forEach=u,e.lookupOrInsert=c,e.isEmpty=l,e.shallowCopy=h;var f=n("wg5S")},Ifkj:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){(0,b.assert)(!S.isNullOrUndefined(t),e+" is missing")}function i(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):(0,b.fail)("can't parse "+t)}function a(t,e,n){return e===n||!e&&n in t}Object.defineProperty(e,"__esModule",{value:!0}),e.JsonProtoSerializer=void 0;var s=n("VQAl"),u=n("TNy0"),c=n("Sznr"),l=n("6l4v"),h=n("pZ/q"),p=n("ygS9"),f=n("fw9s"),d=n("d9fJ"),m=n("V2Ax"),y=n("ieSv"),g=r(y),v=n("Jwze"),_=n("n8qD"),b=n("wg5S"),w=n("3vSt"),x=n("ILqR"),C=r(x),E=n("3aE0"),S=r(E),T=n("zkfV"),P=n("pf8o"),O=n("MTYO"),I=function(){var t={};return t[l.Direction.ASCENDING.name]="ASCENDING",t[l.Direction.DESCENDING.name]="DESCENDING",t}(),A=function(){var t={};return t[l.RelationOp.LESS_THAN.name]="LESS_THAN",t[l.RelationOp.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[l.RelationOp.GREATER_THAN.name]="GREATER_THAN",t[l.RelationOp.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[l.RelationOp.EQUAL.name]="EQUAL",t}(),k=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.Code.UNKNOWN:(0,P.mapCodeFromRpcCode)(t.code);return new w.FirestoreError(e,t.message||"")},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return p.Timestamp.fromISOString(t);(0,b.assert)(!!t,"Cannot deserialize null or undefined timestamp.");var e=i(t.seconds||"0"),n=t.nanos||0;return new p.Timestamp(e,n)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?((0,b.assert)(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),s.Blob.fromBase64String(t)):((0,b.assert)(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),s.Blob.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return(0,b.assert)(!!t,"Trying to deserialize version that isn't set"),h.SnapshotVersion.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=_.ResourcePath.fromString(t);return(0,b.assert)(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return(0,b.assert)(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),(0,b.assert)(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new m.DocumentKey(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?_.ResourcePath.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new _.ResourcePath(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new _.ResourcePath(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return(0,b.assert)(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof g.NullValue)return{nullValue:"NULL_VALUE"};if(t instanceof g.BooleanValue)return{booleanValue:t.value()};if(t instanceof g.IntegerValue)return{integerValue:""+t.value()};if(t instanceof g.DoubleValue){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof g.StringValue?{stringValue:t.value()}:t instanceof g.ObjectValue?{mapValue:this.toMapValue(t)}:t instanceof g.ArrayValue?{arrayValue:this.toArrayValue(t)}:t instanceof g.TimestampValue?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof g.GeoPointValue?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof g.BlobValue?{bytesValue:this.toBytes(t.value())}:t instanceof g.RefValue?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:(0,b.fail)("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(a(t,n,"nullValue"))return g.NullValue.INSTANCE;if(a(t,n,"booleanValue"))return g.BooleanValue.of(t.booleanValue);if(a(t,n,"integerValue"))return new g.IntegerValue(i(t.integerValue));if(a(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return g.DoubleValue.NAN;if("Infinity"===t.doubleValue)return g.DoubleValue.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return g.DoubleValue.NEGATIVE_INFINITY}return new g.DoubleValue(t.doubleValue)}if(a(t,n,"stringValue"))return new g.StringValue(t.stringValue);if(a(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(a(t,n,"arrayValue")){o(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new g.ArrayValue(r.map(function(t){return e.fromValue(t)}))}if(a(t,n,"timestampValue"))return o(t.timestampValue,"timestampValue"),new g.TimestampValue(this.fromTimestamp(t.timestampValue));if(a(t,n,"geoPointValue")){o(t.geoPointValue,"geoPointValue");var s=t.geoPointValue.latitude||0,l=t.geoPointValue.longitude||0;return new g.GeoPointValue(new u.GeoPoint(s,l))}if(a(t,n,"bytesValue")){o(t.bytesValue,"bytesValue");var h=this.fromBlob(t.bytesValue);return new g.BlobValue(h)}if(a(t,n,"referenceValue")){o(t.referenceValue,"referenceValue");var p=this.fromResourceName(t.referenceValue),f=new c.DatabaseId(p.get(1),p.get(3)),d=new m.DocumentKey(this.extractLocalPathFromResourceName(p));return new g.RefValue(f,d)}return(0,b.fail)("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return(0,b.assert)(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new d.Document(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=g.ObjectValue.EMPTY;return C.forEach(n,function(t,n){r=r.set(new _.FieldPath([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){(0,b.assert)(!!t.found,"Tried to deserialize a found document from a missing document."),o(t.found.name,"doc.found.name"),o(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new d.Document(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){(0,b.assert)(!!t.missing,"Tried to deserialize a missing document from a found document."),(0,b.assert)(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new d.NoDocument(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result_type;return a(t,e,"found")?this.fromFound(t):a(t,e,"missing")?this.fromMissing(t):(0,b.fail)("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case O.WatchTargetChangeState.Added:return"ADD";case O.WatchTargetChangeState.Current:return"CURRENT";case O.WatchTargetChangeState.NoChange:return"NO_CHANGE";case O.WatchTargetChangeState.Removed:return"REMOVE";case O.WatchTargetChangeState.Reset:return"RESET";default:return(0,b.fail)("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof O.ExistenceFilterChange)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof O.DocumentWatchChange){if(t.newDoc instanceof d.Document){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof d.NoDocument){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof O.WatchTargetChange){var n=void 0;return t.cause&&(n={code:(0,P.mapRpcCodeFromCode)(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return(0,b.fail)("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.change_type;if(a(t,n,"targetChange")){o(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=t.targetChange.resumeToken||this.emptyByteString(),u=t.targetChange.cause,c=u&&this.fromRpcStatus(u);e=new O.WatchTargetChange(r,i,s,c||null)}else if(a(t,n,"documentChange")){o(t.documentChange,"documentChange"),o(t.documentChange.document,"documentChange.name"),o(t.documentChange.document.name,"documentChange.document.name"),o(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,p=this.fromName(l.document.name),f=this.fromVersion(l.document.updateTime),m=this.fromFields(l.document.fields||{}),y=new d.Document(p,f,m,{hasLocalMutations:!1}),g=l.targetIds||[],v=l.removedTargetIds||[];e=new O.DocumentWatchChange(g,v,y.key,y)}else if(a(t,n,"documentDelete")){o(t.documentDelete,"documentDelete"),o(t.documentDelete.document,"documentDelete.document");var _=t.documentDelete,p=this.fromName(_.document),f=_.readTime?this.fromVersion(_.readTime):h.SnapshotVersion.forDeletedDoc(),y=new d.NoDocument(p,f),v=_.removedTargetIds||[];e=new O.DocumentWatchChange([],v,y.key,y)}else if(a(t,n,"documentRemove")){o(t.documentRemove,"documentRemove"),o(t.documentRemove.document,"documentRemove");var w=t.documentRemove,p=this.fromName(w.document),v=w.removedTargetIds||[];e=new O.DocumentWatchChange([],v,p,null)}else{if(!a(t,n,"filter"))return(0,b.fail)("Unknown change type "+JSON.stringify(t));o(t.filter,"filter"),o(t.filter.targetId,"filter.targetId");var x=t.filter,C=x.count||0,E=new T.ExistenceFilter(C),S=x.targetId;e=new O.ExistenceFilterChange(S,E)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?O.WatchTargetChangeState.NoChange:"ADD"===t?O.WatchTargetChangeState.Added:"REMOVE"===t?O.WatchTargetChangeState.Removed:"CURRENT"===t?O.WatchTargetChangeState.Current:"RESET"===t?O.WatchTargetChangeState.Reset:(0,b.fail)("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!a(t,t.response_type,"targetChange"))return h.SnapshotVersion.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?h.SnapshotVersion.MIN:e.readTime?this.fromVersion(e.readTime):h.SnapshotVersion.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof v.SetMutation)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof v.DeleteMutation)e={delete:this.toName(t.key)};else if(t instanceof v.PatchMutation)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof v.TransformMutation))return(0,b.fail)("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):v.Precondition.NONE;if(t.update){o(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var a=this.fromDocumentMask(t.updateMask);return new v.PatchMutation(r,i,a,n)}return new v.SetMutation(r,i,n)}if(t.delete){var r=this.fromName(t.delete);return new v.DeleteMutation(r,n)}if(t.transform){var r=this.fromName(t.transform.document),s=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return(0,b.assert)(!0===n.exists,'Transforms only support precondition "exists == true"'),new v.TransformMutation(r,s)}return(0,b.fail)("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return(0,b.assert)(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:(0,b.fail)("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?v.Precondition.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?v.Precondition.exists(t.exists):v.Precondition.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new v.MutationResult(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return(0,b.assert)(t.transform instanceof v.ServerTimestampTransform,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){(0,b.assert)("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=_.FieldPath.fromServerFormat(t.fieldPath);return new v.FieldTransform(e,v.ServerTimestampTransform.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;(0,b.assert)(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return l.Query.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(_.ResourcePath.EMPTY_PATH);else{var n=t.path;(0,b.assert)(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toLimit(t.limit);return void 0!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){(0,b.assert)(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];e=e.child(o.collectionId)}var i=[];n.where&&(i=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=n.limit);var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new l.Query(e,a,i,s,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case f.QueryPurpose.Listen:return null;case f.QueryPurpose.ExistenceFilterMismatch:return"existence-filter-mismatch";case f.QueryPurpose.LimboResolution:return"limbo-document";default:return(0,b.fail)("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof l.RelationFilter?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):(0,b.fail)("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toLimit=function(t){if(!S.isNullOrUndefined(t))return t},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new l.Bound(r,n)},t.prototype.toDirection=function(t){return I[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return l.Direction.ASCENDING;case"DESCENDING":return l.Direction.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return A[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return l.RelationOp.EQUAL;case"GREATER_THAN":return l.RelationOp.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return l.RelationOp.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return l.RelationOp.LESS_THAN;case"LESS_THAN_OR_EQUAL":return l.RelationOp.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return(0,b.fail)("Unspecified relation");default:return(0,b.fail)("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return _.FieldPath.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new l.OrderBy(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof l.RelationFilter?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:(0,b.fail)("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new l.RelationFilter(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof l.NanFilter?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof l.NullFilter?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:(0,b.fail)("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new l.NanFilter(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new l.NullFilter(n);case"OPERATOR_UNSPECIFIED":return(0,b.fail)("Unspecified filter");default:return(0,b.fail)("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=t.fieldPaths||[],n=e.map(function(t){return _.FieldPath.fromServerFormat(t)});return new v.FieldMask(n)},t}();e.JsonProtoSerializer=k},"IhB/":function(t,e,n){"use strict";var r=n("Io40"),o=n("I2Y9");e.async=new o.AsyncScheduler(r.AsyncAction)},Iiaq:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n;if(void 0!==t)n=t;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}e.globalScope=n}).call(e,n("fRUx"))},IkMs:function(t,e,n){"use strict";function r(t){return I._43(2,[(t()(),I._41(null,["",""]))],null,function(t,e){t(e,0,0,e.component.date.day)})}function o(t){return I._43(0,[(t()(),I._21(0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,r,D)),I._19(49152,null,0,A.a,[],null,null)],null,function(t,e){t(e,0,0,I._35(e,1).selected,I._35(e,1).selected,I._35(e,1).isMuted(),I._35(e,1).isMuted(),I._35(e,1).focused)})}function i(t){return I._43(0,[(t()(),I._21(0,null,null,3,"option",[],null,null,null,null,null)),I._19(147456,null,0,R.d,[I.q,I.R,[8,null]],{value:[0,"value"]},null),I._19(147456,null,0,R.g,[I.q,I.R,[8,null]],{value:[0,"value"]},null),(t()(),I._41(null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.component.i18n.getMonthShortName(e.context.$implicit))})}function a(t){return I._43(0,[(t()(),I._21(0,null,null,3,"option",[],null,null,null,null,null)),I._19(147456,null,0,R.d,[I.q,I.R,[8,null]],{value:[0,"value"]},null),I._19(147456,null,0,R.g,[I.q,I.R,[8,null]],{value:[0,"value"]},null),(t()(),I._41(null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit)})}function s(t){return I._43(2,[(t()(),I._41(null,["\n    "])),(t()(),I._21(0,null,null,4,"select",[["class","custom-select d-inline-block"],["tabindex","-1"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0,o=t.component;if("change"===e){r=!1!==o.changeMonth(n.target.value)&&r}return r},null,null)),(t()(),I._41(null,["\n        "])),(t()(),I._15(16777216,null,null,1,null,i)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n    "])),(t()(),I._21(0,null,null,4,"select",[["class","custom-select d-inline-block"],["tabindex","-1"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0,o=t.component;if("change"===e){r=!1!==o.changeYear(n.target.value)&&r}return r},null,null)),(t()(),I._41(null,["\n        "])),(t()(),I._15(16777216,null,null,1,null,a)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n    "])),(t()(),I._41(null,[" \n  "]))],function(t,e){var n=e.component;t(e,4,0,n.months),t(e,9,0,n.years)},function(t,e){var n=e.component;t(e,1,0,n.disabled,null==n.date?null:n.date.month),t(e,6,0,n.disabled,null==n.date?null:n.date.year)})}function u(t){return I._43(0,[(t()(),I._21(0,null,null,1,"ngb-datepicker-navigation-select",[],null,null,null,s,j)),I._19(573440,null,0,M.a,[L.a,F.a],null,null)],null,null)}function c(t){return I._43(0,[(t()(),I._21(0,null,null,2,"ngb-datepicker-navigation-select",[["class","d-block"]],[[4,"width","rem"]],[[null,"select"]],function(t,e,n){var r=!0,o=t.component;if("select"===e){r=!1!==o.selectDate(n)&&r}return r},s,j)),I._19(573440,null,0,M.a,[L.a,F.a],{date:[0,"date"],disabled:[1,"disabled"],maxDate:[2,"maxDate"],minDate:[3,"minDate"]},{select:"select"}),(t()(),I._41(null,["\n    "]))],function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.maxDate,n.minDate)},function(t,e){t(e,0,0,9*e.component.months)})}function l(t){return I._43(2,[(t()(),I._41(null,["\n    "])),(t()(),I._21(0,null,null,3,"button",[["class","btn-link"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("click"===e){r=!1!=!!o.doNavigate(o.navigation.PREV)&&r}return r},null,null)),(t()(),I._41(null,["\n      "])),(t()(),I._21(0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),I._41(null,["    \n    "])),(t()(),I._41(null,["\n    \n    "])),(t()(),I._15(16777216,null,null,1,null,c)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n    \n    "])),(t()(),I._21(0,null,null,3,"button",[["class","btn-link"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("click"===e){r=!1!=!!o.doNavigate(o.navigation.NEXT)&&r}return r},null,null)),(t()(),I._41(null,["\n      "])),(t()(),I._21(0,null,null,0,"span",[["class","ngb-dp-navigation-chevron right"]],null,null,null,null,null)),(t()(),I._41(null,["\n    "])),(t()(),I._41(null,["\n  "]))],function(t,e){t(e,7,0,e.component.showSelect)},function(t,e){var n=e.component;t(e,1,0,n.prevDisabled()),t(e,9,0,n.nextDisabled())})}function h(t){return I._43(0,[(t()(),I._21(0,null,null,1,"ngb-datepicker-navigation",[["class","d-flex justify-content-between"]],[[2,"collapsed",null]],null,null,l,U)),I._19(49152,null,0,z.a,[L.a,F.a],null,null)],null,function(t,e){t(e,0,0,!I._35(e,1).showSelect)})}function p(t){return I._43(0,[(t()(),I._21(0,null,null,0,"div",[["class","ngb-dp-weekday"]],null,null,null,null,null))],null,null)}function f(t){return I._43(0,[(t()(),I._21(0,null,null,1,"div",[["class","ngb-dp-weekday small text-center text-info font-italic"]],null,null,null,null,null)),(t()(),I._41(null,["\n        ","\n      "]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))})}function d(t){return I._43(0,[(t()(),I._21(0,null,null,7,"div",[["class","ngb-dp-week d-flex"]],null,null,null,null,null)),(t()(),I._41(null,["\n      "])),(t()(),I._15(16777216,null,null,1,null,p)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n      "])),(t()(),I._15(16777216,null,null,1,null,f)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n    "]))],function(t,e){var n=e.component;t(e,3,0,n.showWeekNumbers),t(e,6,0,n.month.weekdays)},null)}function m(t){return I._43(0,[(t()(),I._21(0,null,null,1,"div",[["class","ngb-dp-week-number small text-center font-italic text-muted"]],null,null,null,null,null)),(t()(),I._41(null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.number)})}function y(t){return I._43(0,[(t()(),I._15(0,null,null,0))],null,null)}function g(t){return I._43(0,[(t()(),I._41(null,["\n            "])),(t()(),I._15(16777216,null,null,1,null,y)),I._19(540672,null,0,N.n,[I._3],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),I._41(null,["\n          "]))],function(t,e){var n=e.component;t(e,2,0,e.parent.context.$implicit.context,n.dayTemplate)},null)}function v(t){return I._43(0,[(t()(),I._21(0,null,null,4,"div",[["class","ngb-dp-day"]],[[2,"disabled",null],[2,"hidden",null]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("click"===e){r=!1!==o.doSelect(t.context.$implicit)&&r}return r},null,null)),(t()(),I._41(null,["\n          "])),(t()(),I._15(16777216,null,null,1,null,g)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n        "]))],function(t,e){t(e,3,0,!e.component.isHidden(e.context.$implicit))},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.context.disabled,n.isHidden(e.context.$implicit))})}function _(t){return I._43(0,[(t()(),I._21(0,null,null,7,"div",[["class","ngb-dp-week d-flex"]],null,null,null,null,null)),(t()(),I._41(null,["\n        "])),(t()(),I._15(16777216,null,null,1,null,m)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n        "])),(t()(),I._15(16777216,null,null,1,null,v)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n      "]))],function(t,e){t(e,3,0,e.component.showWeekNumbers),t(e,6,0,e.parent.context.$implicit.days)},null)}function b(t){return I._43(0,[(t()(),I._41(null,["\n      "])),(t()(),I._15(16777216,null,null,1,null,_)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n    "]))],function(t,e){t(e,2,0,!e.component.isCollapsed(e.context.$implicit))},null)}function w(t){return I._43(0,[(t()(),I._41(null,["\n    "])),(t()(),I._15(16777216,null,null,1,null,d)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n    "])),(t()(),I._15(16777216,null,null,1,null,b)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n  "]))],function(t,e){var n=e.component;t(e,2,0,n.showWeekdays),t(e,5,0,n.month.weeks)},null)}function x(t){return I._43(0,[(t()(),I._21(0,null,null,1,"ngb-datepicker-month-view",[["class","d-block"]],null,null,null,w,H)),I._19(49152,null,0,q.a,[L.a],null,null)],null,null)}function C(t){return I._43(0,[(t()(),I._41(null,["\n      "])),(t()(),I._21(0,null,null,2,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,r,D)),I._19(49152,null,0,A.a,[],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null),(t()(),I._41(null,["\n      "])),(t()(),I._41(null,["\n    "]))],function(t,e){t(e,2,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)},function(t,e){t(e,1,0,I._35(e,2).selected,I._35(e,2).selected,I._35(e,2).isMuted(),I._35(e,2).isMuted(),I._35(e,2).focused)})}function E(t){return I._43(0,[(t()(),I._21(0,null,null,2,"ngb-datepicker-navigation",[["class","d-flex justify-content-between"]],[[2,"collapsed",null]],[[null,"navigate"],[null,"select"]],function(t,e,n){var r=!0,o=t.component;if("navigate"===e){r=!1!==o.onNavigateEvent(n)&&r}if("select"===e){r=!1!==o.onNavigateDateSelect(n)&&r}return r},l,U)),I._19(49152,null,0,z.a,[L.a,F.a],{date:[0,"date"],disabled:[1,"disabled"],maxDate:[2,"maxDate"],minDate:[3,"minDate"],months:[4,"months"],showSelect:[5,"showSelect"],showWeekNumbers:[6,"showWeekNumbers"]},{navigate:"navigate",select:"select"}),(t()(),I._41(null,["\n      "]))],function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.maxDate,n.model.minDate,n.model.months.length,"select"===n.navigation,n.showWeekNumbers)},function(t,e){t(e,0,0,!I._35(e,1).showSelect)})}function S(t){return I._43(0,[(t()(),I._21(0,null,null,1,"div",[["class","ngb-dp-month-name text-center"]],null,null,null,null,null)),(t()(),I._41(null,["\n            "," ","\n          "]))],null,function(t,e){t(e,1,0,e.component.i18n.getMonthFullName(e.parent.context.$implicit.number),e.parent.context.$implicit.year)})}function T(t){return I._43(0,[(t()(),I._41(null,["\n        "])),(t()(),I._21(0,null,null,8,"div",[["class","ngb-dp-month d-block ml-3"]],null,null,null,null,null)),(t()(),I._41(null,["\n          "])),(t()(),I._15(16777216,null,null,1,null,S)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n          "])),(t()(),I._21(0,null,null,2,"ngb-datepicker-month-view",[["class","d-block"]],null,[[null,"select"]],function(t,e,n){var r=!0,o=t.component;if("select"===e){r=!1!==o.onDateSelect(n)&&r}return r},w,H)),I._19(49152,null,0,q.a,[L.a],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],outsideDays:[2,"outsideDays"],showWeekdays:[3,"showWeekdays"],showWeekNumbers:[4,"showWeekNumbers"]},{select:"select"}),(t()(),I._41(null,["\n          "])),(t()(),I._41(null,["\n        "])),(t()(),I._41(null,["\n      "]))],function(t,e){var n=e.component;t(e,4,0,"select"!==n.navigation||n.displayMonths>1),t(e,7,0,n.dayTemplate||I._35(e.parent,1),e.context.$implicit,1===n.displayMonths?n.outsideDays:"hidden",n.showWeekdays,n.showWeekNumbers)},null)}function P(t){return I._43(2,[(t()(),I._41(null,["\n    "])),(t()(),I._15(0,[["dt",2]],null,0,null,C)),(t()(),I._41(null,["\n\n    "])),(t()(),I._21(0,null,null,4,"div",[["class","ngb-dp-header bg-light pt-1 rounded-top"]],[[4,"height","rem"],[4,"marginBottom","rem"]],null,null,null,null)),(t()(),I._41(null,["\n      "])),(t()(),I._15(16777216,null,null,1,null,E)),I._19(16384,null,0,N.k,[I._3,I._0],{ngIf:[0,"ngIf"]},null),(t()(),I._41(null,["\n    "])),(t()(),I._41(null,["\n\n    "])),(t()(),I._21(0,null,null,4,"div",[["class","ngb-dp-months d-flex px-1 pb-1"]],null,null,null,null,null)),(t()(),I._41(null,["\n      "])),(t()(),I._15(16777216,null,null,1,null,T)),I._19(802816,null,0,N.j,[I._3,I._0,I.B],{ngForOf:[0,"ngForOf"]},null),(t()(),I._41(null,["\n    "])),(t()(),I._41(null,["\n  "]))],function(t,e){var n=e.component;t(e,6,0,"none"!==n.navigation),t(e,12,0,n.model.months)},function(t,e){var n=e.component;t(e,3,0,n.getHeaderHeight(),0-n.getHeaderMargin())})}function O(t){return I._43(0,[(t()(),I._21(0,null,null,4,"ngb-datepicker",[["class","d-inline-block rounded"],["tabindex","0"]],[[1,"tabindex",0]],[[null,"blur"],[null,"focus"],[null,"keydown"]],function(t,e,n){var r=!0;if("blur"===e){r=!1!==I._35(t,4).showFocus(!1)&&r}if("focus"===e){r=!1!==I._35(t,4).showFocus(!0)&&r}if("keydown"===e){r=!1!==I._35(t,4).onKeyDown(n)&&r}return r},P,Y)),I._38(5120,null,R.c,function(t){return[t]},[G.a]),I._38(512,null,K.a,K.a,[F.a]),I._38(512,null,Q.a,Q.a,[K.a,F.a]),I._19(770048,null,0,G.a,[Q.a,K.a,F.a,L.a,X.a,I.j,I.q],null,null)],function(t,e){t(e,4,0)},function(t,e){t(e,0,0,I._35(e,4).model.disabled?void 0:"0")})}var I=n("/oeL"),A=n("+oJC"),k=["[_nghost-%COMP%] {\n      text-align: center;\n      width: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      border-radius: 0.25rem;\n      background: transparent;\n    }\n    .outside[_nghost-%COMP%] {\n      opacity: 0.5;\n    }"],D=I._18({encapsulation:0,styles:k,data:{}}),R=(I._16("[ngbDatepickerDayView]",A.a,o,{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},{},[]),n("bm2B")),M=n("JNkN"),N=n("qbdv"),L=n("CuDZ"),F=n("KSV9"),V=["select[_ngcontent-%COMP%] {\n      \n      padding: 0.25rem 0.5rem;\n      font-size: 0.875rem;      \n      line-height: 1.25;\n      \n      height: inherit;\n      width: 50%;\n    }"],j=I._18({encapsulation:0,styles:V,data:{}}),z=(I._16("ngb-datepicker-navigation-select",M.a,u,{date:"date",disabled:"disabled",maxDate:"maxDate",minDate:"minDate"},{select:"select"},[]),n("Pc3Y")),B=["[_nghost-%COMP%] {\n      height: 2rem;\n      line-height: 1.85rem;\n    }\n    .collapsed[_nghost-%COMP%] {\n      margin-bottom: -2rem;        \n    }\n    .ngb-dp-navigation-chevron[_ngcontent-%COMP%]::before {\n      border-style: solid;\n      border-width: 0.2em 0.2em 0 0;\n      content: '';\n      display: inline-block;\n      height: 0.75em;\n      transform: rotate(-135deg);\n      -webkit-transform: rotate(-135deg);\n      -ms-transform: rotate(-135deg);\n      width: 0.75em;\n      margin: 0 0 0 0.5rem;\n    }    \n    .ngb-dp-navigation-chevron.right[_ngcontent-%COMP%]:before {\n      -webkit-transform: rotate(45deg);\n      -ms-transform: rotate(45deg);\n      transform: rotate(45deg);\n      margin: 0 0.5rem 0 0;\n    }\n    .btn-link[_ngcontent-%COMP%] {\n      cursor: pointer;\n      outline: 0;\n    }\n    .btn-link[disabled][_ngcontent-%COMP%] {\n      cursor: not-allowed;\n      opacity: .65;\n    }"],U=I._18({encapsulation:0,styles:B,data:{}}),q=(I._16("ngb-datepicker-navigation",z.a,h,{date:"date",disabled:"disabled",maxDate:"maxDate",minDate:"minDate",months:"months",showSelect:"showSelect",showWeekNumbers:"showWeekNumbers"},{navigate:"navigate",select:"select"},[]),n("Av3o")),W=[".ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      line-height: 2rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%], .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }\n    .ngb-dp-day.disabled[_ngcontent-%COMP%], .ngb-dp-day.hidden[_ngcontent-%COMP%] {\n      cursor: default;\n    }"],H=I._18({encapsulation:0,styles:W,data:{}}),G=(I._16("ngb-datepicker-month-view",q.a,x,{dayTemplate:"dayTemplate",month:"month",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers"},{select:"select"},[]),n("4Q/O")),K=n("/6Tg"),Q=n("kdH+"),X=n("HRzg");n.d(e,"a",function(){return J});var Z=["[_nghost-%COMP%] {\n      border: 1px solid rgba(0, 0, 0, 0.125);\n    }\n    .ngb-dp-header[_ngcontent-%COMP%] {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    }\n    .ngb-dp-month[_ngcontent-%COMP%] {\n      pointer-events: none;\n    }\n    ngb-datepicker-month-view[_ngcontent-%COMP%] {\n      pointer-events: auto;\n    }\n    .ngb-dp-month[_ngcontent-%COMP%]:first-child {\n      margin-left: 0 !important;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n    }"],Y=I._18({encapsulation:0,styles:Z,data:{}}),J=I._16("ngb-datepicker",G.a,O,{dayTemplate:"dayTemplate",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate"},[])},ImVX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Datastore=void 0;var r=n("rwiY"),o=n("wg5S"),i=n("w4Tc"),a=function(){function t(t,e,n,r,o,i){this.databaseInfo=t,this.queue=e,this.connection=n,this.credentials=r,this.serializer=o,this.initialBackoffDelay=i}return t.prototype.newPersistentWriteStream=function(t){return new i.PersistentWriteStream(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.newPersistentWatchStream=function(t){return new i.PersistentListenStream(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.commit=function(t){var e=this,n={writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeRPC("batchGet",n).then(function(n){var i=(0,r.maybeDocumentMap)();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);i=i.insert(n.key,n)});var a=[];return t.forEach(function(t){var e=i.get(t);(0,o.assert)(!!e,"Missing entity in write response for "+t),a.push(e)}),a})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invoke(t,e,r)})},t}();e.Datastore=a},Io40:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("zijX"),i=n("XNum"),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),o.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:o.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i.Action);e.AsyncAction=a},Iylt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertionError=e.assert=void 0;var r=n("OsVr"),o=(e.assert=function(t,e){if(!t)throw o(e)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)})},J47i:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsListener=void 0;var r=n("dSvz"),o=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,r.clone)(t);return this.last_&&(0,r.forEach)(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}();e.StatsListener=o},JFa0:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("/oeL"),o=n("F3px"),i=n("75Hr"),a=n("uJci"),s=n("QGDq"),u=0,c=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString())},t}();c.decorators=[{type:r.l,args:[{selector:"ngb-tooltip-window",changeDetection:r.i.OnPush,host:{"[class]":'"tooltip show bs-tooltip-" + placement.split("-")[0]+" bs-tooltip-" + placement',role:"tooltip","[id]":"id"},template:'<div class="arrow"></div><div class="tooltip-inner"><ng-content></ng-content></div>',styles:["\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\n      left: 50%;\n    }\n\n    :host.bs-tooltip-top-left .arrow, :host.bs-tooltip-bottom-left .arrow {\n      left: 1em;\n    }\n\n    :host.bs-tooltip-top-right .arrow, :host.bs-tooltip-bottom-right .arrow {\n      left: auto;\n      right: 1em;\n    }\n\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\n      top: 50%;\n    }\n    \n    :host.bs-tooltip-left-top .arrow, :host.bs-tooltip-right-top .arrow {\n      top: 0.7em;\n    }\n\n    :host.bs-tooltip-left-bottom .arrow, :host.bs-tooltip-right-bottom .arrow {\n      top: auto;\n      bottom: 0.7em;\n    }\n  "]}]}],c.ctorParameters=function(){return[{type:r.q},{type:r.R}]},c.propDecorators={placement:[{type:r.A}],id:[{type:r.A}]};var l=function(){function t(t,e,n,o,s,l,h){var p=this;this._elementRef=t,this._renderer=e,this.shown=new r.s,this.hidden=new r.s,this._ngbTooltipWindowId="ngb-tooltip-"+u++,this.placement=l.placement,this.triggers=l.triggers,this.container=l.container,this._popupService=new a.b(c,n,s,e,o),this._zoneSubscription=h.onStable.subscribe(function(){p._windowRef&&p._windowRef.instance.applyPlacement(Object(i.a)(p._elementRef.nativeElement,p._windowRef.location.nativeElement,p.placement,"body"===p.container))})}return Object.defineProperty(t.prototype,"ngbTooltip",{get:function(){return this._ngbTooltip},set:function(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()},enumerable:!0,configurable:!0}),t.prototype.open=function(t){!this._windowRef&&this._ngbTooltip&&(this._windowRef=this._popupService.open(this._ngbTooltip,t),this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.instance.placement=Array.isArray(this.placement)?this.placement[0]:this.placement,this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._windowRef.instance.applyPlacement(Object(i.a)(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)),this.shown.emit())},t.prototype.close=function(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit())},t.prototype.toggle=function(){this._windowRef?this.close():this.open()},t.prototype.isOpen=function(){return null!=this._windowRef},t.prototype.ngOnInit=function(){this._unregisterListenersFn=Object(o.a)(this._renderer,this._elementRef.nativeElement,this.triggers,this.open.bind(this),this.close.bind(this),this.toggle.bind(this))},t.prototype.ngOnDestroy=function(){this.close(),this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()},t}();l.decorators=[{type:r.p,args:[{selector:"[ngbTooltip]",exportAs:"ngbTooltip"}]}],l.ctorParameters=function(){return[{type:r.q},{type:r.R},{type:r.z},{type:r.m},{type:r._3},{type:s.a},{type:r.J}]},l.propDecorators={placement:[{type:r.A}],triggers:[{type:r.A}],container:[{type:r.A}],shown:[{type:r.L}],hidden:[{type:r.L}],ngbTooltip:[{type:r.A}]}},JNTq:function(t,e,n){"use strict";var r=n("bKpL"),o=n("LEug");r.Observable.merge=o.merge},JNkN:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("/oeL"),o=n("GaSD"),i=n("wM1e"),a=n("CuDZ"),s=n("KSV9"),u=function(){function t(t,e){this.i18n=t,this.calendar=e,this.years=[],this.select=new r.s,this.months=e.getMonths()}return t.prototype.ngOnChanges=function(t){(t.maxDate||t.minDate||t.date)&&(this._generateYears(),this._generateMonths())},t.prototype.changeMonth=function(t){this.select.emit(new o.a(this.date.year,Object(i.h)(t),1))},t.prototype.changeYear=function(t){this.select.emit(new o.a(Object(i.h)(t),this.date.month,1))},t.prototype._generateMonths=function(){var t=this;if(this.months=this.calendar.getMonths(),this.date&&this.date.year===this.minDate.year){var e=this.months.findIndex(function(e){return e===t.minDate.month});this.months=this.months.slice(e)}if(this.date&&this.date.year===this.maxDate.year){var e=this.months.findIndex(function(e){return e===t.maxDate.month});this.months=this.months.slice(0,e+1)}},t.prototype._generateYears=function(){var t=this;this.years=Array.from({length:this.maxDate.year-this.minDate.year+1},function(e,n){return t.minDate.year+n})},t}();u.decorators=[{type:r.l,args:[{selector:"ngb-datepicker-navigation-select",changeDetection:r.i.OnPush,styles:["\n    select {\n      /* to align with btn-sm */\n      padding: 0.25rem 0.5rem;\n      font-size: 0.875rem;      \n      line-height: 1.25;\n      /* to cancel the custom height set by custom-select */\n      height: inherit;\n      width: 50%;\n    }\n  "],template:'\n    <select\n      [disabled]="disabled"\n      class="custom-select d-inline-block"\n      [value]="date?.month"\n      (change)="changeMonth($event.target.value)"\n      tabindex="-1">\n        <option *ngFor="let m of months" [value]="m">{{ i18n.getMonthShortName(m) }}</option>\n    </select><select\n      [disabled]="disabled"\n      class="custom-select d-inline-block"\n      [value]="date?.year"\n      (change)="changeYear($event.target.value)"\n      tabindex="-1">\n        <option *ngFor="let y of years" [value]="y">{{ y }}</option>\n    </select> \n  '}]}],u.ctorParameters=function(){return[{type:a.a},{type:s.a}]},u.propDecorators={date:[{type:r.A}],disabled:[{type:r.A}],maxDate:[{type:r.A}],minDate:[{type:r.A}],select:[{type:r.L}]}},JvZA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_INDEX=e.KeyIndex=void 0;var r,o=n("egC3"),i=n("Rmqq"),a=n("sN0z"),s=n("Iylt"),u=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return(0,a.nameCompare)(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,s.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return i.NamedNode.MIN},e.prototype.maxPost=function(){return new i.NamedNode(a.MAX_NAME,r)},e.prototype.makePost=function(t,e){return(0,s.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new i.NamedNode(t,r)},e.prototype.toString=function(){return".key"},e}(o.Index);e.KeyIndex=c;e.KEY_INDEX=new c},Jwze:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteMutation=e.TransformMutation=e.PatchMutation=e.SetMutation=e.Mutation=e.Precondition=e.MutationType=e.MutationResult=e.FieldTransform=e.ServerTimestampTransform=e.FieldMask=void 0;var r=n("pZ/q"),o=n("wg5S"),i=n("D1Ck"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),s=n("d9fJ"),u=n("ieSv"),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(){function t(t){this.fields=t}return t.prototype.equals=function(t){return a.arrayEquals(this.fields,t.fields)},t}();e.FieldMask=l;var h=function(){function t(){}return t.prototype.equals=function(e){return e instanceof t},t.instance=new t,t}();e.ServerTimestampTransform=h;var p=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.equals=function(t){return this.field.equals(t.field)&&this.transform.equals(t.transform)},t}();e.FieldTransform=p;var f=function(){function t(t,e){this.version=t,this.transformResults=e}return t}();e.MutationResult=f;var d=e.MutationType=void 0;!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(d||(e.MutationType=d={}));var m=function(){function t(t,e){this.updateTime=t,this.exists=e,(0,o.assert)(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof s.Document&&t.version.equals(this.updateTime):void 0!==this.exists?this.exists?t instanceof s.Document:null===t||t instanceof s.NoDocument:((0,o.assert)(this.isNone,"Precondition should be empty"),!0)},t.prototype.equals=function(t){return a.equals(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}();e.Precondition=m;var y=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&(0,o.assert)(t.key.equals(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof s.Document?t.version:r.SnapshotVersion.MIN},t}();e.Mutation=y;var g=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=d.Set,o}return c(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),(0,o.assert)(null==e.transformResults,"Transform results received by SetMutation.");var n=y.getPostMutationVersion(t);return new s.Document(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=y.getPostMutationVersion(t);return new s.Document(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.value.equals(t.value)&&this.precondition.equals(t.precondition)},e}(y);e.SetMutation=g;var v=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=d.Patch,i}return c(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),(0,o.assert)(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=y.getPostMutationVersion(t),r=this.patchDocument(t);return new s.Document(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=y.getPostMutationVersion(t),r=this.patchDocument(t);return new s.Document(this.key,n,r,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.fieldMask.equals(t.fieldMask)&&this.precondition.equals(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof s.Document?t.data:u.ObjectValue.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],o=this.data.field(r);t=void 0!==o?t.set(r,o):t.delete(r)}return t},e}(y);e.PatchMutation=v;var _=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=d.Transform,r.precondition=m.exists(!0),r}return c(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),(0,o.assert)(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.transformObject(r.data,n);return new s.Document(this.key,r.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.localTransformResults(e),o=this.transformObject(n.data,r);return new s.Document(this.key,n.version,o,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&a.arrayEquals(this.fieldTransforms,t.fieldTransforms)&&this.precondition.equals(t.precondition)},e.prototype.requireDocument=function(t){(0,o.assert)(t instanceof s.Document,"Unknown MaybeDocument type "+t);var e=t;return(0,o.assert)(e.key.equals(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t){for(var e=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],a=i.transform;if(!(a instanceof h))return(0,o.fail)("Encountered unknown transform: "+a);e.push(new u.ServerTimestampValue(t))}return e},e.prototype.transformObject=function(t,e){(0,o.assert)(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,a=r.field;if(!(i instanceof h))return(0,o.fail)("Encountered unknown transform: "+i);t=t.set(a,e[n])}return t},e}(y);e.TransformMutation=_;var b=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=d.Delete,r}return c(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),(0,o.assert)(null==e.transformResults,"Transform results received by DeleteMutation."),new s.NoDocument(this.key,r.SnapshotVersion.MIN)},e.prototype.applyToLocalView=function(t,e){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&(0,o.assert)(t.key.equals(this.key),"Can only apply mutation to document with same key"),new s.NoDocument(this.key,r.SnapshotVersion.forDeletedDoc())):t},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.precondition.equals(t.precondition)},e}(y);e.DeleteMutation=b},KGSc:function(t,e,n){"use strict";function r(t){return i._43(0,[i._39(402653184,1,{popperViewRef:0}),(t()(),i._41(null,["\n"])),(t()(),i._21(0,[[1,0],["popperViewRef",1]],null,7,"div",[["role","popper"]],[[2,"ngxp__container",null],[2,"ngxp__animation",null],[4,"display",null],[4,"opacity",null]],null,null,null,null)),(t()(),i._41(null,["        \n      "])),(t()(),i._21(0,null,null,2,"div",[["class","ngxp__inner"]],null,null,null,null,null)),i._34(null,0),(t()(),i._41(null,["  "," "])),(t()(),i._41(null,["\n      "])),(t()(),i._21(0,null,null,0,"div",[["class","ngxp__arrow"]],null,null,null,null,null)),(t()(),i._41(null,["  \n    \n"])),(t()(),i._41(null,["\n"]))],null,function(t,e){var n=e.component;t(e,2,0,!n.popperOptions.disableDefaultStyling,!n.popperOptions.disableAnimation,n.displayType,n.opacity),t(e,6,0,n.text)})}function o(t){return i._43(0,[(t()(),i._21(0,null,null,1,"popper-content",[],null,[[null,"mouseover"],[null,"mouseleave"],["document","resize"]],function(t,e,n){var r=!0;if("mouseover"===e){r=!1!==i._35(t,1).onMouseOver()&&r}if("mouseleave"===e){r=!1!==i._35(t,1).showOnLeave()&&r}if("document:resize"===e){r=!1!==i._35(t,1).onDocumentResize()&&r}return r},r,h)),i._19(180224,null,0,c,[],null,null)],null,null)}var i=n("/oeL"),a=n("An+z"),s=function(){function t(){}return t}();s.CLICK="click",s.HOVER="hover",s.MOUSEDOWN="mousedown",s.NONE="none";var u=function(){function t(){}return t}();u.Top="top",u.Bottom="bottom",u.Left="left",u.Right="right",u.TopStart="top-start",u.BottomStart="bottom-start",u.LeftStart="left-start",u.RightStart="right-start",u.TopEnd="top-end",u.BottomEnd="bottom-end",u.LeftEnd="left-end",u.RightEnd="right-end",u.Auto="auto",u.AutoTop="auto-top",u.AutoBottom="auto-bottom",u.AutoLeft="auto-left",u.AutoRight="auto-right";var c=function(){function t(){this.popperOptions={disableAnimation:!1,disableDefaultStyling:!1,placement:u.Auto,boundariesElement:"",trigger:s.HOVER,popperModifiers:{}},this.isMouseOver=!1,this.onHidden=new i.s,this.displayType="none",this.opacity=0}return t.prototype.onMouseOver=function(){this.isMouseOver=!0},t.prototype.showOnLeave=function(){this.isMouseOver=!1,this.popperOptions.trigger===s.HOVER&&this.hide()},t.prototype.onDocumentResize=function(){this.update()},t.prototype.ngOnDestroy=function(){this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance.destroy())},t.prototype.show=function(){if(this.referenceObject){var t={placement:this.popperOptions.placement,modifiers:{arrow:{element:this.popperViewRef.nativeElement.querySelector(".ngxp__arrow")}}},e=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);t.modifiers&&e&&(t.modifiers.preventOverflow={boundariesElement:e}),t.modifiers=Object.assign(t.modifiers,this.popperOptions.popperModifiers),this.popperInstance=new a.a(this.referenceObject,this.popperViewRef.nativeElement,t),this.popperInstance.enableEventListeners(),this.scheduleUpdate(),this.toggleVisibility(!0)}},t.prototype.update=function(){this.popperInstance&&this.popperInstance.update()},t.prototype.scheduleUpdate=function(){this.popperInstance&&this.popperInstance.scheduleUpdate()},t.prototype.hide=function(){this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()},t.prototype.toggleVisibility=function(t){t?(this.opacity=1,this.displayType="block"):(this.opacity=0,this.displayType="none")},t.ctorParameters=function(){return[]},t}();n.d(e,"a",function(){return p});var l=['.ngxp__container[_ngcontent-%COMP%] {\n  display:none;\n  position: absolute;    \n  border-radius: 3px;\n  border: 1px solid grey;\n  box-shadow: 0 0 2px rgba(0,0,0,0.5);  \n  padding: 10px;\n}\n.ngxp__container.ngxp__animation[_ngcontent-%COMP%] {\n   -webkit-animation: ngxp-fadeIn  150ms ease-out;\n    -moz-animation: ngxp-fadeIn  150ms ease-out;\n    -o-animation: ngxp-fadeIn  150ms ease-out;\n    animation: ngxp-fadeIn  150ms ease-out;\n  \n}\n.ngxp__container[_ngcontent-%COMP%]   .ngxp__arrow[_ngcontent-%COMP%] {\n  width: 0;\n  height: 0;\n  border-style: solid;\n  position: absolute;\n  margin: 5px;\n}\n\n.ngxp__container[x-placement^="top"][_ngcontent-%COMP%], .ngxp__container[x-placement^="bottom"][_ngcontent-%COMP%], .ngxp__container[x-placement^="right"][_ngcontent-%COMP%], .ngxp__container[x-placement^="left"][_ngcontent-%COMP%]\n{\n  display:block;\n}\n.ngxp__container[x-placement^="top"][_ngcontent-%COMP%] {\n  margin-bottom: 5px;\n}\n.ngxp__container[x-placement^="top"][_ngcontent-%COMP%]   .ngxp__arrow[_ngcontent-%COMP%] {\n  border-width: 5px 5px 0 5px;\n  border-color: grey transparent transparent transparent;\n  bottom: -5px;\n  left: calc(50% - 5px);\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.ngxp__container[x-placement^="bottom"][_ngcontent-%COMP%] {\n  margin-top: 5px;\n}\n.ngxp__container[x-placement^="bottom"][_ngcontent-%COMP%]   .ngxp__arrow[_ngcontent-%COMP%] {\n  border-width: 0 5px 5px 5px;\n  border-color: transparent transparent grey transparent;\n  top: -5px;\n  left: calc(50% - 5px);\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.ngxp__container[x-placement^="right"][_ngcontent-%COMP%] {\n  margin-left: 5px;\n}\n.ngxp__container[x-placement^="right"][_ngcontent-%COMP%]   .ngxp__arrow[_ngcontent-%COMP%] {\n  border-width: 5px 5px 5px 0;\n  border-color: transparent grey transparent transparent;\n  left: -5px;\n  top: calc(50% - 5px);\n  margin-left: 0;\n  margin-right: 0;\n}\n.ngxp__container[x-placement^="left"][_ngcontent-%COMP%] {\n  margin-right: 5px;\n}\n.ngxp__container[x-placement^="left"][_ngcontent-%COMP%]   .ngxp__arrow[_ngcontent-%COMP%] {\n  border-width: 5px 0 5px 5px;\n  border-color: transparent transparent transparent grey;\n  right: -5px;\n  top: calc(50% - 5px);\n  margin-left: 0;\n  margin-right: 0;\n}\n@-webkit-keyframes ngxp-fadeIn { \n 0% {\n        display: none;\n        opacity: 0;\n    }\n\n    1% {\n        display: block;\n        opacity: 0;\n    }\n\n    100% {\n        display: block;\n        opacity: 1;\n    }\n}\n\n@keyframes ngxp-fadeIn {\n  0% {\n        display: none;\n        opacity: 0;\n    }\n\n    1% {\n        display: block;\n        opacity: 0;\n    }\n\n    100% {\n        display: block;\n        opacity: 1;\n    }\n}'],h=i._18({encapsulation:0,styles:l,data:{}}),p=i._16("popper-content",c,o,{},{},["*"])},KRwK:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("/oeL"),o=n("uJci"),i=n("wM1e"),a=n("1Dsc"),s=n("AVYa"),u=n("C8VA"),c=function(){function t(t,e,n){this._applicationRef=t,this._injector=e,this._componentFactoryResolver=n,this._backdropFactory=n.resolveComponentFactory(a.a),this._windowFactory=n.resolveComponentFactory(s.a)}return t.prototype.open=function(t,e,n,r){var o=r.container||"body",i=document.querySelector(o);if(!i)throw new Error('The specified modal container "'+o+'" was not found in the DOM.');var a,s,c,l=new u.a,h=this._getContentRef(t,r.injector||e,n,l);return!1!==r.backdrop&&(s=this._backdropFactory.create(this._injector),this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement)),a=this._windowFactory.create(this._injector,h.nodes),this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),c=new u.b(a,h,s,r.beforeDismiss),l.close=function(t){c.close(t)},l.dismiss=function(t){c.dismiss(t)},this._applyWindowOptions(a.instance,r),c},t.prototype._applyWindowOptions=function(t,e){["backdrop","keyboard","size","windowClass"].forEach(function(n){Object(i.b)(e[n])&&(t[n]=e[n])})},t.prototype._getContentRef=function(t,e,n,a){if(n){if(n instanceof r._0){var s=n.createEmbeddedView(a);return this._applicationRef.attachView(s),new o.a([s.rootNodes],s)}if(Object(i.e)(n))return new o.a([[document.createTextNode(""+n)]]);var c=t.resolveComponentFactory(n),l=r.P.resolveAndCreate([{provide:u.a,useValue:a}],e),h=c.create(l);return this._applicationRef.attachView(h.hostView),new o.a([[h.location.nativeElement]],h.hostView,h)}return new o.a([])},t}();c.decorators=[{type:r.x}],c.ctorParameters=function(){return[{type:r.g},{type:r.z},{type:r.m}]}},KSV9:function(t,e,n){"use strict";function r(t){return new i.a(t.getFullYear(),t.getMonth()+1,t.getDate())}function o(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});var i=n("GaSD"),a=n("/oeL"),s=n("wM1e"),u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=function(){function t(){}return t}();c.decorators=[{type:a.x}],c.ctorParameters=function(){return[]};var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.getNext=function(t,e,n){void 0===e&&(e="d"),void 0===n&&(n=1);var a=o(t);switch(e){case"y":return new i.a(t.year+n,1,1);case"m":a=new Date(t.year,t.month+n-1,1,12);break;case"d":a.setDate(a.getDate()+n);break;default:return t}return r(a)},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=o(t),n=e.getDay();return 0===n?7:n},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=(11-e)%7,r=t[n],i=o(r);i.setDate(i.getDate()+4-(i.getDay()||7));var a=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((a-i.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return r(new Date)},e.prototype.isValid=function(t){if(!(t&&Object(s.c)(t.year)&&Object(s.c)(t.month)&&Object(s.c)(t.day)))return!1;var e=o(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day},e}(c);l.decorators=[{type:a.x}],l.ctorParameters=function(){return[]}},LEug:function(t,e,n){"use strict";var r=n("ViUi");e.merge=r.mergeStatic},LF8c:function(t,e,n){"use strict";function r(t){return t instanceof c.SimpleDbTransaction?t.store(u.DbRemoteDocument.store):(0,s.fail)("Invalid transaction object provided!")}function o(t){return t.path.toArray()}Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedDbRemoteDocumentCache=void 0;var i=n("rwiY"),a=n("d9fJ"),s=n("wg5S"),u=n("abh2"),c=n("d6PS"),l=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return r(t).put(o(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return r(t).delete(o(e))},t.prototype.getEntry=function(t,e){var n=this;return r(t).get(o(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,o=(0,i.documentMap)(),s=e.path.toArray(),u=IDBKeyRange.lowerBound(s);return r(t).iterate({range:u},function(t,r,i){var s=n.serializer.fromDbRemoteDocument(r);e.path.isPrefixOf(s.key.path)?s instanceof a.Document&&e.matches(s)&&(o=o.insert(s.key,s)):i.done()}).next(function(){return o})},t}();e.IndexedDbRemoteDocumentCache=l},"LI/y":function(t,e,n){"use strict";function r(t){return o(t,["next","error","complete"])}function o(t,e){if("object"!==(void 0===t?"undefined":i(t))||null===t)return!1;for(var n=t,r=0,o=e;r<o.length;r++){var a=o[r];if(a in n&&"function"==typeof n[a])return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isPartialObserver=r},Lhvy:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=o},LiYJ:function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},MTYO:function(t,e,n){"use strict";function r(t,e){e.length>0&&(t.resumeToken=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.WatchChangeAggregator=e.WatchTargetChange=e.WatchTargetChangeState=e.ExistenceFilterChange=e.DocumentWatchChange=void 0;var o=n("rwiY"),i=n("v3x7"),a=n("wg5S"),s=n("ILqR"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),c=n("AMBp"),l=function(){function t(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}return t}();e.DocumentWatchChange=l;var h=function(){function t(t,e){this.targetId=t,this.existenceFilter=e}return t}();e.ExistenceFilterChange=h;var p=e.WatchTargetChangeState=void 0;!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(p||(e.WatchTargetChangeState=p={}));var f=function(){function t(t,e,n,r){void 0===n&&(n=(0,i.emptyByteString)()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}return t}();e.WatchTargetChange=f;var d=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=(0,o.maybeDocumentMap)(),this.frozen=!1,this.pendingTargetResponses=u.shallowCopy(n)}return t.prototype.add=function(t){(0,a.assert)(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof l?this.addDocumentChange(t):t instanceof f?this.addTargetChange(t):t instanceof h?this.addExistenceFilterChange(t):(0,a.fail)("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;(0,a.assert)(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return u.forEachNumber(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new c.RemoteEvent(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:c.CurrentStatusUpdate.None,snapshotVersion:this.snapshotVersion,mapping:new c.UpdateMapping,resumeToken:(0,i.emptyByteString)()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!u.contains(this.pendingTargetResponses,t)&&u.contains(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++){var o=r[n];if(this.isActiveTarget(o)){var i=this.ensureTargetChange(o);i.mapping.add(t.key),e=!0}}for(var a=0,s=t.removedTargetIds;a<s.length;a++){var o=s[a];if(this.isActiveTarget(o)){var i=this.ensureTargetChange(o);i.mapping.delete(t.key),e=!0}}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var o=e.ensureTargetChange(n);switch(t.state){case p.NoChange:e.isActiveTarget(n)&&r(o,t.resumeToken);break;case p.Added:e.recordTargetResponse(n),u.contains(e.pendingTargetResponses,n)||(o.mapping=new c.UpdateMapping,o.currentStatusUpdate=c.CurrentStatusUpdate.None,delete e.existenceFilters[n]),r(o,t.resumeToken);break;case p.Removed:e.recordTargetResponse(n),(0,a.assert)(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case p.Current:e.isActiveTarget(n)&&(o.currentStatusUpdate=c.CurrentStatusUpdate.MarkCurrent,r(o,t.resumeToken));break;case p.Reset:e.isActiveTarget(n)&&(o.mapping=new c.ResetMapping,r(o,t.resumeToken));break;default:(0,a.fail)("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();e.WatchChangeAggregator=d},MicL:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},MsHi:function(t,e,n){"use strict";function r(t){return i._43(2,[(t()(),i._41(null,["\n    "])),(t()(),i._21(0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),i._41(null,["\n    "])),(t()(),i._21(0,null,null,1,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),i._41(null,["",""])),(t()(),i._21(0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),i._34(null,0)],null,function(t,e){t(e,4,0,e.component.title)})}function o(t){return i._43(0,[(t()(),i._21(0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,r,u)),i._19(49152,null,0,a.b,[i.q,i.R],null,null)],null,function(t,e){t(e,0,0,"popover bs-popover-"+i._35(e,1).placement.split("-")[0]+" bs-popover-"+i._35(e,1).placement,i._35(e,1).id)})}n.d(e,"a",function(){return c});var i=n("/oeL"),a=n("mQQt"),s=[".bs-popover-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 50%;\n    }\n\n    .bs-popover-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 2em;\n    }\n\n    .bs-popover-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 2em;\n    }\n\n    .bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 50%;\n    }\n    \n    .bs-popover-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.7em;\n    }\n\n    .bs-popover-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.7em;\n    }"],u=i._18({encapsulation:0,styles:s,data:{}}),c=i._16("ngb-popover-window",a.b,o,{placement:"placement",title:"title",id:"id"},{},["*"])},"N/q0":function(t,e,n){(function(e){var n,n;!function(e){t.exports=e()}(function(){var t;return function t(e,r,o){function i(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof n&&n;if(!u&&c)return n(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return i(n||t)},h,h.exports,t,e,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,n,r){!function(e,o){"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.glMatrix=o()}(this,function(){"use strict";function t(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function e(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function n(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=o*u+a*s,t[2]=r*-s+i*u,t[3]=o*-s+a*u,t}function o(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*u,t[3]=a*u,t}function i(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],g=e[15],v=n*s-r*a,_=n*u-o*a,b=n*c-i*a,w=r*u-o*s,x=r*c-i*s,C=o*c-i*u,E=l*m-h*d,S=l*y-p*d,T=l*g-f*d,P=h*y-p*m,O=h*g-f*m,I=p*g-f*y,A=v*I-_*O+b*P+w*T-x*S+C*E;return A?(A=1/A,t[0]=(s*I-u*O+c*P)*A,t[1]=(o*O-r*I-i*P)*A,t[2]=(m*C-y*x+g*w)*A,t[3]=(p*x-h*C-f*w)*A,t[4]=(u*T-a*I-c*S)*A,t[5]=(n*I-o*T+i*S)*A,t[6]=(y*b-d*C-g*_)*A,t[7]=(l*C-p*b+f*_)*A,t[8]=(a*O-s*T+c*E)*A,t[9]=(r*T-n*O-i*E)*A,t[10]=(d*x-m*b+g*v)*A,t[11]=(h*b-l*x-f*v)*A,t[12]=(s*S-a*P-u*E)*A,t[13]=(n*P-r*S+o*E)*A,t[14]=(m*_-d*w-y*v)*A,t[15]=(l*w-h*_+p*v)*A,t):null}function l(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],m=e[12],y=e[13],g=e[14],v=e[15],_=n[0],b=n[1],w=n[2],x=n[3];return t[0]=_*r+b*s+w*h+x*m,t[1]=_*o+b*u+w*p+x*y,t[2]=_*i+b*c+w*f+x*g,t[3]=_*a+b*l+w*d+x*v,_=n[4],b=n[5],w=n[6],x=n[7],t[4]=_*r+b*s+w*h+x*m,t[5]=_*o+b*u+w*p+x*y,t[6]=_*i+b*c+w*f+x*g,t[7]=_*a+b*l+w*d+x*v,_=n[8],b=n[9],w=n[10],x=n[11],t[8]=_*r+b*s+w*h+x*m,t[9]=_*o+b*u+w*p+x*y,t[10]=_*i+b*c+w*f+x*g,t[11]=_*a+b*l+w*d+x*v,_=n[12],b=n[13],w=n[14],x=n[15],t[12]=_*r+b*s+w*h+x*m,t[13]=_*o+b*u+w*p+x*y,t[14]=_*i+b*c+w*f+x*g,t[15]=_*a+b*l+w*d+x*v,t}function h(t,e,n){var r,o,i,a,s,u,c,l,h,p,f,d,m=n[0],y=n[1],g=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*g+e[12],t[13]=e[1]*m+e[5]*y+e[9]*g+e[13],t[14]=e[2]*m+e[6]*y+e[10]*g+e[14],t[15]=e[3]*m+e[7]*y+e[11]*g+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=r*m+s*y+h*g+e[12],t[13]=o*m+u*y+p*g+e[13],t[14]=i*m+c*y+f*g+e[14],t[15]=a*m+l*y+d*g+e[15]),t}function p(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+l*r,t[6]=s*o+h*r,t[7]=u*o+p*r,t[8]=c*o-i*r,t[9]=l*o-a*r,t[10]=h*o-s*r,t[11]=p*o-u*r,t}function d(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+l*r,t[2]=s*o+h*r,t[3]=u*o+p*r,t[4]=c*o-i*r,t[5]=l*o-a*r,t[6]=h*o-s*r,t[7]=p*o-u*r,t}function m(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}function y(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*c,t[15]=1,t}return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:n,rotate:r,scale:o},mat3:{create:i,fromRotation:a},mat4:{create:s,identity:u,translate:h,scale:p,multiply:l,perspective:m,rotateX:f,rotateZ:d,invert:c,ortho:y}}})},{}],2:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,o=n*this.x+e*this.y;return this.x=r,this.y=o,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),o=e.x+n*(this.x-e.x)-r*(this.y-e.y),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],3:[function(e,n,r){!function(e,o){"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.ShelfPack=o()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,r,o,i,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=o,this.maxw=i||r,this.maxh=a||o,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,o,i,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,o=t[s].id,n&&r){if(!(i=this.packOne(n,r,o)))continue;e.inPlace&&(t[s].x=i.x,t[s].y=i.y,t[s].id=i.id),a.push(i)}return this.shrink(),a},t.prototype.packOne=function(t,n,r){var o,i,a,s,u={freebin:-1,shelf:-1,waste:1/0},c=0;if("string"==typeof r||"number"==typeof r){if(o=this.getBin(r))return this.ref(o),o;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(o=this.freebins[s],n===o.maxh&&t===o.maxw)return this.allocFreebin(s,t,n,r);n>o.maxh||t>o.maxw||n<=o.maxh&&t<=o.maxw&&(a=o.maxw*o.maxh-t*n)<u.waste&&(u.waste=a,u.freebin=s)}for(s=0;s<this.shelves.length;s++)if(i=this.shelves[s],c+=i.h,!(t>i.free)){if(n===i.h)return this.allocShelf(s,t,n,r);n>i.h||n<i.h&&(a=(i.h-n)*t)<u.waste&&(u.freebin=-1,u.waste=a,u.shelf=s)}if(-1!==u.freebin)return this.allocFreebin(u.freebin,t,n,r);if(-1!==u.shelf)return this.allocShelf(u.shelf,t,n,r);if(n<=this.h-c&&t<=this.w)return i=new e(c,this.w,n),this.allocShelf(this.shelves.push(i)-1,t,n,r);if(this.autoResize){var l,h,p,f;return l=h=this.h,p=f=this.w,(p<=l||t>p)&&(f=2*Math.max(t,p)),(l<p||n>l)&&(h=2*Math.max(n,l)),this.resize(f,h),this.packOne(t,n,r)}return null},t.prototype.allocFreebin=function(t,e,n,r){var o=this.freebins.splice(t,1)[0];return o.id=r,o.w=e,o.h=n,o.refcount=0,this.bins[r]=o,this.ref(o),o},t.prototype.allocShelf=function(t,e,n,r){var o=this.shelves[t],i=o.alloc(e,n,r);return this.bins[r]=i,this.ref(i),i},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var o=this.x;return this.x+=t,this.free-=t,new n(r,o,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],4:[function(t,e,n){"use strict";function r(t,e,n,r,o,i){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(t,e,n,r,o,a,s){for(var u=0;u<e;u++){for(var c=0;c<n;c++)r[c]=t[c*e+u];for(i(r,o,a,s,n),c=0;c<n;c++)t[c*e+u]=o[c]}for(c=0;c<n;c++){for(u=0;u<e;u++)r[u]=t[c*e+u];for(i(r,o,a,s,e),u=0;u<e;u++)t[c*e+u]=Math.sqrt(o[u])}}function i(t,e,n,r,o){n[0]=0,r[0]=-a,r[1]=+a;for(var i=1,s=0;i<o;i++){for(var u=(t[i]+i*i-(t[n[s]]+n[s]*n[s]))/(2*i-2*n[s]);u<=r[s];)s--,u=(t[i]+i*i-(t[n[s]]+n[s]*n[s]))/(2*i-2*n[s]);s++,n[s]=i,r[s]=u,r[s+1]=+a}for(i=0,s=0;i<o;i++){for(;r[s+1]<i;)s++;e[i]=(i-n[s])*(i-n[s])+t[n[s]]}}e.exports=r;var a=1e20;r.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?a:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?a:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(o(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),o(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var s=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},{}],5:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){void 0===e&&(e=1e-6);var n,r,o,i,a;for(o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(n=0,r=1,(o=t)<n)return n;if(o>r)return r;for(;n<r;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?n=o:r=o,o=.5*(r-n)+n}return o},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],6:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":7,"./lib/vectortilefeature.js":8,"./lib/vectortilelayer.js":9}],7:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(o,{},e)}function o(t,e,n){if(3===t){var r=new i(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var i=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":9}],8:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?i(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function i(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[r]=o}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,o=[],i=0;i<e;i++){var a=s(t[i]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&o.push(n),n=[t[i]]):n.push(t[i]))}return n&&o.push(n),o}function s(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var u=t("@mapbox/point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,i=0,a=0,s=[];t.pos<n;){if(!o){var c=t.readVarint();r=7&c,o=c>>3}if(o--,1===r||2===r)i+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new u(i,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,o=0,i=0,a=1/0,s=-1/0,u=1/0,c=-1/0;t.pos<e;){if(!r){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)o+=t.readSVarint(),i+=t.readSVarint(),o<a&&(a=o),o>s&&(s=o),i<u&&(u=i),i>c&&(c=i);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,c]},r.prototype.toGeoJSON=function(t,e,n){function o(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+l)/u;t[e]=[360*(n.x+c)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i,s,u=this.extent*Math.pow(2,n),c=this.extent*t,l=this.extent*e,h=this.loadGeometry(),p=r.types[this.type];switch(this.type){case 1:var f=[];for(i=0;i<h.length;i++)f[i]=h[i][0];h=f,o(h);break;case 2:for(i=0;i<h.length;i++)o(h[i]);break;case 3:for(h=a(h),i=0;i<h.length;i++)for(s=0;s<h[i].length;s++)o(h[i][s])}1===h.length?h=h[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:h},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"@mapbox/point-geometry":2}],9:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(i(n))}function i(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":8}],10:[function(e,n,r){!function(e,o){"object"==typeof r&&void 0!==n?o(r):"function"==typeof t&&t.amd?t(["exports"],o):o(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,o,i,a){return a=a||{},t+"?"+["bbox="+n(r,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function n(t,e,n){e=Math.pow(2,n)-e-1;var o=r(256*t,256*e,n),i=r(256*(t+1),256*(e+1),n);return o[0]+","+o[1]+","+i[0]+","+i[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],11:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=o(t,0,i,n,!0),u=[];if(!s)return u;var c,l,p,f,d,m,y;if(r&&(s=h(t,e,s,n)),t.length>80*n){c=p=t[0],l=f=t[1];for(var g=n;g<i;g+=n)d=t[g],m=t[g+1],d<c&&(c=d),m<l&&(l=m),d>p&&(p=d),m>f&&(f=m);y=Math.max(p-c,f-l)}return a(s,u,n,c,l,y),u}function o(t,e,n,r,o){var i,a;if(o===k(t,e,n,r)>0)for(i=e;i<n;i+=r)a=O(i,t[i],t[i+1],a);else for(i=n-r;i>=e;i-=r)a=O(i,t[i],t[i+1],a);return a&&x(a,a.next)&&(I(a),a=a.next),a}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!x(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(I(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,o,h,p){if(t){!p&&h&&m(t,r,o,h);for(var f,d,y=t;t.prev!==t.next;)if(f=t.prev,d=t.next,h?u(t,r,o,h):s(t))e.push(f.i/n),e.push(t.i/n),e.push(d.i/n),I(t),t=d.next,y=d.next;else if((t=d)===y){p?1===p?(t=c(t,e,n),a(t,e,n,r,o,h,2)):2===p&&l(t,e,n,r,o,h):a(i(t),e,n,r,o,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(w(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(_(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&w(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function u(t,e,n,r){var o=t.prev,i=t,a=t.next;if(w(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,l=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,h=g(s,u,e,n,r),p=g(c,l,e,n,r),f=t.nextZ;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&_(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&_(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function c(t,e,n){var r=t;do{var o=r.prev,i=r.next.next;!x(o,i)&&C(o,r,r.next,i)&&S(o,i)&&S(i,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(i.i/n),I(r),I(r.next),r=t=i),r=r.next}while(r!==t);return r}function l(t,e,n,r,o,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&b(u,c)){var l=P(u,c);return u=i(u,u.next),l=i(l,l.next),a(u,e,n,r,o,s),void a(l,e,n,r,o,s)}c=c.next}u=u.next}while(u!==t)}function h(t,e,n,r){var a,s,u,c,l,h=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,c=a<s-1?e[a+1]*r:t.length,l=o(t,u,c,r,!1),l===l.next&&(l.steiner=!0),h.push(v(l));for(h.sort(p),a=0;a<h.length;a++)f(h[a],n),n=i(n,n.next);return n}function p(t,e){return t.x-e.x}function f(t,e){if(e=d(t,e)){var n=P(e,t);i(n,n.next)}}function d(t,e){var n,r=e,o=t.x,i=t.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===a)return n.prev;var u,c=n,l=n.x,h=n.y,p=1/0;for(r=n.next;r!==c;)o>=r.x&&r.x>=l&&_(i<h?o:a,i,l,h,i<h?a:o,i,r.x,r.y)&&((u=Math.abs(i-r.y)/(o-r.x))<p||u===p&&r.x>n.x)&&S(r,t)&&(n=r,p=u),r=r.next;return n}function m(t,e,n,r){var o=t;do{null===o.z&&(o.z=g(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,y(o)}function y(t){var e,n,r,o,i,a,s,u,c=1;do{for(n=t,t=null,i=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0===s?(o=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1);return t}function g(t,e,n,r,o){return t=32767*(t-n)/o,e=32767*(e-r)/o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&T(t,e)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,n,r){return!!(x(t,e)&&x(n,r)||x(t,r)&&x(n,e))||w(t,e,n)>0!=w(t,e,r)>0&&w(n,r,t)>0!=w(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&C(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function S(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function T(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function P(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function O(t,e,n,r){var o=new A(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,n,r){for(var o=0,i=e,a=n-r;i<n;i+=r)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}e.exports=r,r.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,a=Math.abs(k(t,0,i,n));if(o)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(k(t,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,f=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)n.vertices.push(t[o][i][a]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},{}],12:[function(t,e,n){function r(t){if("Polygon"===t.type)return o(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=o(t.coordinates[n]);return e}return null}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(i(t[n]))}return e}function i(t){var e=0;if(t.length>2){for(var n,r,o=0;o<t.length-1;o++)n=t[o],r=t[o+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=i},{wgs84:40}],13:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return i(t,e);default:return t}}function o(t,e){return function(n){return t(n,e)}}function i(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(o(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],e);for(var n=1;n<t.length;n++)t[n]=s(t[n],!e);return t}function s(t,e){return u(t)===e?t:t.reverse()}function u(t){return c.ring(t)>=0}var c=t("geojson-area");e.exports=r},{"geojson-area":12}],14:[function(t,e,n){"use strict";function r(t,e,n,r,a,u,c,l){if(n/=e,r/=e,c>=n&&l<=r)return t;if(c>r||l<n)return null;for(var h=[],p=0;p<t.length;p++){var f,d,m=t[p],y=m.geometry,g=m.type;if(f=m.min[a],d=m.max[a],f>=n&&d<=r)h.push(m);else if(!(f>r||d<n)){var v=1===g?o(y,n,r,a):i(y,n,r,a,u,3===g);v.length&&h.push(s(m.tags,g,v,m.id))}}return h.length?h:null}function o(t,e,n,r){for(var o=[],i=0;i<t.length;i++){var a=t[i],s=a[r];s>=e&&s<=n&&o.push(a)}return o}function i(t,e,n,r,o,i){for(var s=[],u=0;u<t.length;u++){var c,l,h,p=0,f=0,d=null,m=t[u],y=m.area,g=m.dist,v=m.outer,_=m.length,b=[];for(l=0;l<_-1;l++)c=d||m[l],d=m[l+1],p=f||c[r],f=d[r],p<e?f>n?(b.push(o(c,d,e),o(c,d,n)),i||(b=a(s,b,y,g,v))):f>=e&&b.push(o(c,d,e)):p>n?f<e?(b.push(o(c,d,n),o(c,d,e)),i||(b=a(s,b,y,g,v))):f<=n&&b.push(o(c,d,n)):(b.push(c),f<e?(b.push(o(c,d,e)),i||(b=a(s,b,y,g,v))):f>n&&(b.push(o(c,d,n)),i||(b=a(s,b,y,g,v))));c=m[_-1],p=c[r],p>=e&&p<=n&&b.push(c),h=b[b.length-1],i&&h&&(b[0][0]!==h[0]||b[0][1]!==h[1])&&b.push(b[0]),a(s,b,y,g,v)}return s}function a(t,e,n,r,o){return e.length&&(e.area=n,e.dist=r,void 0!==o&&(e.outer=o),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":16}],15:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)o(n,t.features[r],e);else"Feature"===t.type?o(n,t,e):o(n,{geometry:t},e);return n}function o(t,e,n){if(null!==e.geometry){var r,s,u,l,h=e.geometry,p=h.type,f=h.coordinates,d=e.properties,m=e.id;if("Point"===p)t.push(c(d,1,[a(f)],m));else if("MultiPoint"===p)t.push(c(d,1,i(f),m));else if("LineString"===p)t.push(c(d,2,[i(f,n)],m));else if("MultiLineString"===p||"Polygon"===p){for(u=[],r=0;r<f.length;r++)l=i(f[r],n),"Polygon"===p&&(l.outer=0===r),u.push(l);t.push(c(d,"Polygon"===p?3:2,u,m))}else if("MultiPolygon"===p){for(u=[],r=0;r<f.length;r++)for(s=0;s<f[r].length;s++)l=i(f[r][s],n),l.outer=0===s,u.push(l);t.push(c(d,3,u,m))}else{if("GeometryCollection"!==p)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<h.geometries.length;r++)o(t,{geometry:h.geometries[r],properties:d},n)}}}function i(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(u(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,o=0,i=0;i<t.length-1;i++)e=n||t[i],n=t[i+1],r+=e[0]*n[1]-n[0]*e[1],o+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=o}e.exports=r;var u=t("./simplify"),c=t("./feature")},{"./feature":16,"./simplify":18}],16:[function(t,e,n){"use strict";function r(t,e,n,r){var i={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-1/0,-1/0]};return o(i),i}function o(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)i(n,r,e);else for(var o=0;o<e.length;o++)i(n,r,e[o]);return t}function i(t,e,n){for(var r,o=0;o<n.length;o++)r=n[o],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],17:[function(t,e,n){"use strict";function r(t,e){return new o(t,e)}function o(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,o=l(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=f(o,e.buffer/e.extent,a),o.length&&this.splitTile(o,0,0,0),n&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function c(t,e,n){var r=t.source;if(1!==r.length)return!1;var o=r[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=h.point(o.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var l=t("./convert"),h=t("./transform"),p=t("./clip"),f=t("./wrap"),d=t("./tile");o.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},o.prototype.splitTile=function(t,e,n,r,o,u,l){for(var h=[t,e,n,r],f=this.options,m=f.debug,y=null;h.length;){r=h.pop(),n=h.pop(),e=h.pop(),t=h.pop();var g=1<<e,v=i(e,n,r),_=this.tiles[v],b=e===f.maxZoom?0:f.tolerance/(g*f.extent);if(!_&&(m>1&&console.time("creation"),_=this.tiles[v]=d(t,g,n,r,b,e===f.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,_.numFeatures,_.numPoints,_.numSimplified),console.timeEnd("creation"));var w="z"+e;this.stats[w]=(this.stats[w]||0)+1,this.total++}if(_.source=t,o){if(e===f.maxZoom||e===o)continue;var x=1<<o-e;if(n!==Math.floor(u/x)||r!==Math.floor(l/x))continue}else if(e===f.indexMaxZoom||_.numPoints<=f.indexMaxPoints)continue;if(f.solidChildren||!c(_,f.extent,f.buffer)){_.source=null,m>1&&console.time("clipping");var C,E,S,T,P,O,I=.5*f.buffer/f.extent,A=.5-I,k=.5+I,D=1+I;C=E=S=T=null,P=p(t,g,n-I,n+k,0,a,_.min[0],_.max[0]),O=p(t,g,n+A,n+D,0,a,_.min[0],_.max[0]),P&&(C=p(P,g,r-I,r+k,1,s,_.min[1],_.max[1]),E=p(P,g,r+A,r+D,1,s,_.min[1],_.max[1])),O&&(S=p(O,g,r-I,r+k,1,s,_.min[1],_.max[1]),T=p(O,g,r+A,r+D,1,s,_.min[1],_.max[1])),m>1&&console.timeEnd("clipping"),t.length&&(h.push(C||[],e+1,2*n,2*r),h.push(E||[],e+1,2*n,2*r+1),h.push(S||[],e+1,2*n+1,2*r),h.push(T||[],e+1,2*n+1,2*r+1))}else o&&(y=e)}return y},o.prototype.getTile=function(t,e,n){var r=this.options,o=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var u=i(t,e,n);if(this.tiles[u])return h.tile(this.tiles[u],o);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,p=t,f=e,d=n;!l&&p>0;)p--,f=Math.floor(f/2),d=Math.floor(d/2),l=this.tiles[i(p,f,d)];if(!l||!l.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",p,f,d),c(l,o,r.buffer))return h.tile(l,o);a>1&&console.time("drilling down");var m=this.splitTile(l.source,p,f,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var y=1<<t-m;u=i(m,Math.floor(e/y),Math.floor(n/y))}return this.tiles[u]?h.tile(this.tiles[u],o):null}},{"./clip":14,"./convert":15,"./tile":19,"./transform":20,"./wrap":21}],18:[function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s=e*e,u=t.length,c=0,l=u-1,h=[];for(t[c][2]=1,t[l][2]=1;l;){for(r=0,n=c+1;n<l;n++)(i=o(t[n],t[c],t[l]))>r&&(a=n,r=i);r>s?(t[a][2]=r,h.push(c),h.push(a),c=a):(l=h.pop(),c=h.pop())}}function o(t,e,n){var r=e[0],o=e[1],i=n[0],a=n[1],s=t[0],u=t[1],c=i-r,l=a-o;if(0!==c||0!==l){var h=((s-r)*c+(u-o)*l)/(c*c+l*l);h>1?(r=i,o=a):h>0&&(r+=c*h,o+=l*h)}return c=s-r,l=u-o,c*c+l*l}e.exports=r},{}],19:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,o(s,t[u],i,a);var c=t[u].min,l=t[u].max;c[0]<s.min[0]&&(s.min[0]=c[0]),c[1]<s.min[1]&&(s.min[1]=c[1]),l[0]>s.max[0]&&(s.max[0]=l[0]),l[1]>s.max[1]&&(s.max[1]=l[1])}return s}function o(t,e,n,r){var o,a,s,u,c=e.geometry,l=e.type,h=[],p=n*n;if(1===l)for(o=0;o<c.length;o++)h.push(c[o]),t.numPoints++,t.numSimplified++;else for(o=0;o<c.length;o++)if(s=c[o],r||!(2===l&&s.dist<n||3===l&&s.area<p)){var f=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>p)&&(f.push(u),t.numSimplified++),t.numPoints++;3===l&&i(f,s.outer),h.push(f)}else t.numPoints+=s.length;if(h.length){var d={geometry:h,type:l,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function i(t,e){a(t)<0===e&&t.reverse()}function a(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,i,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var c=t.features[n],l=c.geometry;if(1===c.type)for(r=0;r<l.length;r++)l[r]=o(l[r],e,a,s,u);else for(r=0;r<l.length;r++){var h=l[r];for(i=0;i<h.length;i++)h[i]=o(h[i],e,a,s,u)}}return t.transformed=!0,t}function o(t,e,n,r,o){return[Math.round(e*(t[0]*n-r)),Math.round(e*(t[1]*n-o))]}n.tile=r,n.point=o},{}],21:[function(t,e,n){"use strict";function r(t,e,n){var r=t,i=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(i||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],i&&(r=o(i,1).concat(r)),s&&(r=r.concat(o(s,-1)))),r}function o(t,e){for(var n=[],r=0;r<t.length;r++){var o,a=t[r],u=a.type;if(1===u)o=i(a.geometry,e);else{o=[];for(var c=0;c<a.geometry.length;c++)o.push(i(a.geometry[c],e))}n.push(s(a.tags,u,o,a.id))}return n}function i(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":14,"./feature":16}],22:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=i[o+a],u=i[o+a+1];r.push(s===u?null:i.subarray(s,u))}var c=i[o+r.length],l=i[o+r.length+1];this.keys=i.subarray(c,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var h=0;h<this.d*this.d;h++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}e.exports=r;var o=3;r.prototype.insert=function(t,e,n,r,o){this._forEachCell(e,n,r,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,o,i){this.cells[o].push(i)},r.prototype.query=function(t,e,n,r){var o=this.min,i=this.max;if(t<=o&&e<=o&&i<=n&&i<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,o,i,a){var s=this.cells[o];if(null!==s)for(var u=this.keys,c=this.bboxes,l=0;l<s.length;l++){var h=s[l];if(void 0===a[h]){var p=4*h;t<=c[p+2]&&e<=c[p+3]&&n>=c[p+0]&&r>=c[p+1]?(a[h]=!0,i.push(u[h])):a[h]=!1}}},r.prototype._forEachCell=function(t,e,n,r,o,i,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),l=this._convertToCellCoord(r),h=s;h<=c;h++)for(var p=u;p<=l;p++){var f=this.d*p+h;if(o.call(this,t,e,n,r,f,i,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=o+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];i[o+s]=a,i.set(u,a),a+=u.length}return i[o+t.length]=a,i.set(this.keys,a),a+=this.keys.length,i[o+t.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],23:[function(t,e,n){n.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?o-1:0,p=n?-1:1,f=t[e+h];for(h+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+t[e+h],h+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?p/u:p*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[n+f]=255&s,f+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+f]=255&a,f+=d,a/=256,c-=8);t[n+f-d]|=128*m}},{}],24:[function(t,e,n){"use strict";function r(t,e,n,r,i){return new o(t,e,n,r,i)}function o(t,e,n,r,o){e=e||i,n=n||a,o=o||Array,this.nodeSize=r||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),u=t("./range"),c=t("./within");e.exports=r,o.prototype={range:function(t,e,n,r){return u(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return c(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":25,"./sort":26,"./within":27}],25:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){for(var s,u,c=[0,t.length-1,0],l=[];c.length;){var h=c.pop(),p=c.pop(),f=c.pop();if(p-f<=a)for(var d=f;d<=p;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=o&&u>=r&&u<=i&&l.push(t[d]);else{var m=Math.floor((f+p)/2);s=e[2*m],u=e[2*m+1],s>=n&&s<=o&&u>=r&&u<=i&&l.push(t[m]);var y=(h+1)%2;(0===h?n<=s:r<=u)&&(c.push(f),c.push(m-1),c.push(y)),(0===h?o>=s:i>=u)&&(c.push(m+1),c.push(p),c.push(y))}}return l}e.exports=r},{}],26:[function(t,e,n){"use strict";function r(t,e,n,i,a,s){if(!(a-i<=n)){var u=Math.floor((i+a)/2);o(t,e,u,i,a,s%2),r(t,e,n,i,u-1,s+1),r(t,e,n,u+1,a,s+1)}}function o(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,c=n-r+1,l=Math.log(u),h=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1);o(t,e,n,Math.max(r,Math.floor(n-c*h/u+p)),Math.min(a,Math.floor(n+(u-c)*h/u+p)),s)}var f=e[2*n+s],d=r,m=a;for(i(t,e,r,n),e[2*a+s]>f&&i(t,e,r,a);d<m;){for(i(t,e,d,m),d++,m--;e[2*d+s]<f;)d++;for(;e[2*m+s]>f;)m--}e[2*r+s]===f?i(t,e,r,m):(m++,i(t,e,m,a)),m<=n&&(r=m+1),n<=m&&(a=m-1)}}function i(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],27:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s=[0,t.length-1,0],u=[],c=i*i;s.length;){var l=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a)for(var f=p;f<=h;f++)o(e[2*f],e[2*f+1],n,r)<=c&&u.push(t[f]);else{var d=Math.floor((p+h)/2),m=e[2*d],y=e[2*d+1];o(m,y,n,r)<=c&&u.push(t[d]);var g=(l+1)%2;(0===l?n-i<=m:r-i<=y)&&(s.push(p),s.push(d-1),s.push(g)),(0===l?n+i>=m:r+i>=y)&&(s.push(d+1),s.push(h),s.push(g))}}return u}function o(t,e,n,r){var o=t-n,i=e-r;return o*o+i*i}e.exports=r},{}],28:[function(t,e,n){"use strict";function r(t){return!!(o()&&i()&&a()&&s()&&u()&&c()&&l()&&h(t&&t.failIfMajorPerformanceCaveat))}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function c(){return"Worker"in window}function l(){return"Uint8ClampedArray"in window}function h(t){return void 0===f[t]&&(f[t]=p(t)),f[t]}function p(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}void 0!==e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var f={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],29:[function(t,e,n){"use strict";function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function o(t,e,n){var r,o,i=n.buf;if(o=i[n.pos++],r=(112&o)>>4,o<128)return a(t,r,e);if(o=i[n.pos++],r|=(127&o)<<3,o<128)return a(t,r,e);if(o=i[n.pos++],r|=(127&o)<<10,o<128)return a(t,r,e);if(o=i[n.pos++],r|=(127&o)<<17,o<128)return a(t,r,e);if(o=i[n.pos++],r|=(127&o)<<24,o<128)return a(t,r,e);if(o=i[n.pos++],r|=(1&o)<<31,o<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function i(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(n,r,e),c(r,e)}function u(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function c(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function l(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=t;o--)n.buf[o+r]=n.buf[o]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function C(t,e,n){for(var r="",o=e;o<n;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s>n)break;var u,c,l;1===s?i<128&&(a=i):2===s?128==(192&(u=t[o+1]))&&(a=(31&i)<<6|63&u)<=127&&(a=null):3===s?(u=t[o+1],c=t[o+2],128==(192&u)&&128==(192&c)&&((a=(15&i)<<12|(63&u)<<6|63&c)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(u=t[o+1],c=t[o+2],l=t[o+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&((a=(15&i)<<18|(63&u)<<12|(63&c)<<6|63&l)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),o+=s}return r}function E(t,e,n){for(var r,o,i=0;i<e.length;i++){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){r>56319||i+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):o=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,o=r;continue}r=o-55296<<10|r-56320|65536,o=null}else o&&(t[n++]=239,t[n++]=191,t[n++]=189,o=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}e.exports=r;var S=t("ieee754");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;this.type=7&r,t(o,e,this),this.pos===i&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+4294967296*x(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=S.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=S.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return n=r[this.pos++],e=127&n,n<128?e:(n=r[this.pos++],e|=(127&n)<<7,n<128?e:(n=r[this.pos++],e|=(127&n)<<14,n<128?e:(n=r[this.pos++],e|=(127&n)<<21,n<128?e:(n=r[this.pos],e|=(15&n)<<28,o(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=C(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=i(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=i(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){if((t=+t||0)>268435455||t<0)return void s(t,this);this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=E(this.buf,t,this.pos);var n=this.pos-e;n>=128&&l(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),S.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),S.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&l(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){this.writeMessage(t,m,e)},writePackedFloat:function(t,e){this.writeMessage(t,f,e)},writePackedDouble:function(t,e){this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){this.writeMessage(t,y,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:23}],30:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&d&&(y=!1,d.length?m=d.concat(m):g=-1,m.length&&u())}function u(){if(!y){var t=i(s);y=!0;for(var e=m.length;e;){for(d=m,m=[];++g<e;)d&&d[g].run();g=-1,e=m.length}d=null,y=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,p,f=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var d,m=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||y||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],31:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||i;a>n;){if(a-n>600){var u=a-n+1,c=e-n+1,l=Math.log(u),h=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1);r(t,e,Math.max(n,Math.floor(e-c*h/u+p)),Math.min(a,Math.floor(e+(u-c)*h/u+p)),s)}var f=t[e],d=n,m=a;for(o(t,n,e),s(t[a],f)>0&&o(t,n,a);d<m;){for(o(t,d,m),d++,m--;s(t[d],f)<0;)d++;for(;s(t[m],f)>0;)m--}0===s(t[n],f)?o(t,n,m):(m++,o(t,m,a)),m<=e&&(n=m+1),e<=m&&(a=m-1)}}function o(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],32:[function(t,e,n){"use strict";function r(t){return new o(t)}function o(t){this.options=f(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function i(t,e,n,r,o){return{x:t,y:e,zoom:1/0,id:r,properties:o,parentId:-1,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return{x:c(n[0]),y:l(n[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[h(t.x),p(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return f(f({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function c(t){return t/360+.5}function l(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function h(t){return 360*(t-.5)}function p(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function f(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function m(t){return t.y}var y=t("kdbush");e.exports=r,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=y(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,o),e&&console.log("z%d: %d clusters in %dms",o,r.length,+Date.now()-i)}return this.trees[this.options.minZoom]=y(r,d,m,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(c(t[0]),l(t[3]),c(t[2]),l(t[1])),o=[],i=0;i<r.length;i++){var a=n.points[r[i]];o.push(a.numPoints?s(a):this.points[a.id])}return o},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),o=this.trees[e+1].within(n.x,n.y,r),i=[],a=0;a<o.length;a++){var u=this.trees[e+1].points[o[a]];u.parentId===t&&i.push(u.numPoints?s(u):this.points[u.id])}return i},getLeaves:function(t,e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,t,e,n,r,0),o},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],o=Math.pow(2,t),i=this.options.extent,a=this.options.radius,s=a/i,u=(n-s)/o,c=(n+1+s)/o,l={features:[]};return this._addTileFeatures(r.range((e-s)/o,u,(e+1+s)/o,c),r.points,e,n,o,l),0===e&&this._addTileFeatures(r.range(1-s/o,u,1,c),r.points,o,n,o,l),e===o-1&&this._addTileFeatures(r.range(0,u,s/o,c),r.points,-1,n,o,l),l.features.length?l:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,o,i){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?i+u.point_count<=o?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,n+1,r,o,i):i<o?i++:t.push(a[s]),t.length===r)break}return i},_addTileFeatures:function(t,e,n,r,o,i){for(var a=0;a<t.length;a++){var s=e[t[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*o-n)),Math.round(this.options.extent*(s.y*o-r))]],tags:s.numPoints?u(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],u=s.within(a.x,a.y,r),c=a.numPoints||1,l=a.x*c,h=a.y*c,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,a));for(var f=0;f<u.length;f++){var d=s.points[u[f]];if(e<d.zoom){var m=d.numPoints||1;d.zoom=e,l+=d.x*m,h+=d.y*m,c+=m,d.parentId=o,this.options.reduce&&this._accumulate(p,d)}}1===c?n.push(a):(a.parentId=o,n.push(i(l/c,h/c,c,o,p)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},{kdbush:24}],33:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var n=this.length>>1;n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var o=t-1>>1,i=e[o];if(n(r,i)>=0)break;e[t]=i,t=o}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length,o=r>>1,i=e[t];t<o;){var a=1+(t<<1),s=a+1,u=e[a];if(s<r&&n(e[s],u)<0&&(a=s,u=e[s]),n(u,i)>=0)break;e[t]=u,t=a}e[t]=i}}},{}],34:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],35:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],36:[function(t,n,r){(function(e,n){function o(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(e)?n.showHidden=e:e&&r._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),u(n,t,n.depth)}function i(t,e){var n=o.styles[e];return n?"\x1b["+o.colors[n][0]+"m"+t+"\x1b["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(n,t);return _(o)||(o=u(t,o,n)),o}var i=c(t,e);if(i)return i;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),S(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(T(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return l(e)}var g="",v=!1,b=["{","}"];if(d(e)&&(v=!0,b=["[","]"]),T(e)&&(g=" [Function"+(e.name?": "+e.name:"")+"]"),x(e)&&(g=" "+RegExp.prototype.toString.call(e)),E(e)&&(g=" "+Date.prototype.toUTCString.call(e)),S(e)&&(g=" "+l(e)),0===a.length&&(!v||0==e.length))return b[0]+g+b[1];if(n<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=v?h(t,e,n,m,a):a.map(function(r){return p(t,e,n,m,r,v)}),t.seen.pop(),f(w,g,b)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)k(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}function p(t,e,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),k(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=y(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function f(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return C(t)&&"[object RegExp]"===O(t)}function C(t){return"object"==typeof t&&null!==t}function E(t){return C(t)&&"[object Date]"===O(t)}function S(t){return C(t)&&("[object Error]"===O(t)||t instanceof Error)}function T(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function O(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;r.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])y(s)||!C(s)?a+=" "+s:a+=" "+o(s);return a},r.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(t,o).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return i};var R,M={};r.debuglog=function(t){if(w(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=e.pid;M[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else M[t]=function(){};return M[t]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=m,r.isNull=y,r.isNullOrUndefined=g,r.isNumber=v,r.isString=_,r.isSymbol=b,r.isUndefined=w,r.isRegExp=x,r.isObject=C,r.isDate=E,r.isError=S,r.isFunction=T,r.isPrimitive=P,r.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":35,_process:30,inherits:34}],37:[function(t,e,n){function r(t){var e=new f;return i(t,e),e.finish()}function o(t){var e={};for(var n in t)e[n]=new d(t[n].features),e[n].name=n;return r({layers:e})}function i(t,e){for(var n in t.layers)e.writeMessage(3,a,t.layers[n])}function a(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n,r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,s,r);var o=r.keys;for(n=0;n<o.length;n++)e.writeStringField(3,o[n]);var i=r.values;for(n=0;n<i.length;n++)e.writeMessage(4,p,i[n])}function s(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,u,t),e.writeVarintField(3,n.type),e.writeMessage(4,h,n)}function u(t,e){var n=t.feature,r=t.keys,o=t.values,i=t.keycache,a=t.valuecache;for(var s in n.properties){var u=i[s];void 0===u&&(r.push(s),u=r.length-1,i[s]=u),e.writeVarint(u);var c=n.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var h=l+":"+c,p=a[h];void 0===p&&(o.push(c),p=o.length-1,a[h]=p),e.writeVarint(p)}}function c(t,e){return(e<<3)+(7&t)}function l(t){return t<<1^t>>31}function h(t,e){for(var n=t.loadGeometry(),r=t.type,o=0,i=0,a=n.length,s=0;s<a;s++){var u=n[s],h=1;1===r&&(h=u.length),e.writeVarint(c(1,h));for(var p=0;p<u.length;p++){1===p&&1!==r&&e.writeVarint(c(2,u.length-1));var f=u[p].x-o,d=u[p].y-i;e.writeVarint(l(f)),e.writeVarint(l(d)),o+=f,i+=d}}}function p(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var f=t("pbf"),d=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=o,e.exports.GeoJSONWrapper=d},{"./lib/geojson_wrapper":38,pbf:29}],38:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function o(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var i=t("@mapbox/point-geometry"),a=t("@mapbox/vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],o=0;o<n.length;o++)r.push(new i(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,o=-1/0,i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),o=Math.max(o,u.y)}return[e,r,n,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],39:[function(t,e,n){var r=arguments[3],o=arguments[4],i=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){y[t]=!0;for(var e in o[t][1]){var r=o[t][1][e];y[r]||n(r)}}for(var s,u=Object.keys(i),c=0,l=u.length;c<l;c++){var h=u[c],p=i[h].exports;if(p===t||p&&p.default===t){s=h;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},c=0,l=u.length;c<l;c++){var h=u[c];f[h]=h}o[s]=[Function(["require","module","exports"],"("+t+")(self)"),f]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,o[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),m];var y={};n(d);var g="("+r+")({"+Object.keys(y).map(function(t){return a(t)+":["+o[t][0]+","+a(o[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return _;var b=v.createObjectURL(_),w=new Worker(b);return w.objectURL=b,w}},{}],40:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],41:[function(t,e,n){e.exports={version:"0.40.1"}},{}],42:[function(t,e,n){"use strict";var r=t("../util/util");e.exports={deserialize:function(t,e){var n={};if(!e)return n;for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(r.extend({layers:s},a)),c=0,l=s;c<l.length;c+=1){var h=l[c];n[h.id]=u}}return n}}},{"../util/util":223}],43:[function(t,e,n){"use strict";function r(t,e,n,r,o){t.emplaceBack(2*e+(r+1)/2,2*n+(o+1)/2)}var o=t("../segment"),i=o.SegmentVector,a=t("../../gl/vertex_buffer"),s=t("../../gl/index_buffer"),u=t("../program_configuration"),c=u.ProgramConfigurationSet,l=t("../vertex_array_type"),h=t("../index_array_type"),p=h.TriangleIndexArray,f=t("../load_geometry"),d=t("../extent"),m={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:p,paintAttributes:[{property:"circle-color"},{property:"circle-radius"},{property:"circle-blur"},{property:"circle-opacity"},{property:"circle-stroke-color"},{property:"circle-stroke-width"},{property:"circle-stroke-opacity"}]},y=l(m.layoutAttributes),g=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new y(t.layoutVertexArray),this.indexArray=new p(t.indexArray),this.programConfigurations=new c(m,t.layers,t.zoom,t.programConfigurations),this.segments=new i(t.segments)};g.prototype.populate=function(t,e){for(var n=this,r=0,o=t;r<o.length;r+=1){var i=o[r],a=i.feature,s=i.index,u=i.sourceLayerIndex;if(n.layers[0].filter(a)){var c=f(a);n.addFeature(a,c),e.featureIndex.insert(a,c,s,u,n.index)}}},g.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},g.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},g.prototype.upload=function(t){this.layoutVertexBuffer=new a(t,this.layoutVertexArray),this.indexBuffer=new s(t,this.indexArray),this.programConfigurations.upload(t)},g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},g.prototype.addFeature=function(t,e){for(var n=this,o=0,i=e;o<i.length;o+=1)for(var a=i[o],s=0,u=a;s<u.length;s+=1){var c=u[s],l=c.x,h=c.y;if(!(l<0||l>=d||h<0||h>=d)){var p=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),f=p.vertexLength;r(n.layoutVertexArray,l,h,-1,-1),r(n.layoutVertexArray,l,h,1,-1),r(n.layoutVertexArray,l,h,1,1),r(n.layoutVertexArray,l,h,-1,1),n.indexArray.emplaceBack(f,f+1,f+2),n.indexArray.emplaceBack(f,f+3,f+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t.properties)},g.programInterface=m,e.exports=g},{"../../gl/index_buffer":61,"../../gl/vertex_buffer":62,"../extent":48,"../index_array_type":50,"../load_geometry":51,"../program_configuration":53,"../segment":55,"../vertex_array_type":56}],44:[function(t,e,n){"use strict";var r=t("../segment"),o=r.SegmentVector,i=t("../../gl/vertex_buffer"),a=t("../../gl/index_buffer"),s=t("../program_configuration"),u=s.ProgramConfigurationSet,c=t("../vertex_array_type"),l=t("../index_array_type"),h=l.LineIndexArray,p=l.TriangleIndexArray,f=t("../load_geometry"),d=t("earcut"),m=t("../../util/classify_rings"),y={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:p,indexArrayType2:h,paintAttributes:[{property:"fill-color"},{property:"fill-outline-color"},{property:"fill-opacity"}]},g=c(y.layoutAttributes),v=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new g(t.layoutVertexArray),this.indexArray=new p(t.indexArray),this.indexArray2=new h(t.indexArray2),this.programConfigurations=new u(y,t.layers,t.zoom,t.programConfigurations),this.segments=new o(t.segments),this.segments2=new o(t.segments2)};v.prototype.populate=function(t,e){for(var n=this,r=0,o=t;r<o.length;r+=1){var i=o[r],a=i.feature,s=i.index,u=i.sourceLayerIndex;if(n.layers[0].filter(a)){var c=f(a);n.addFeature(a,c),e.featureIndex.insert(a,c,s,u,n.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),indexArray2:this.indexArray2.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),segments2:this.segments2.get()}},v.prototype.upload=function(t){this.layoutVertexBuffer=new i(t,this.layoutVertexArray),this.indexBuffer=new a(t,this.indexArray),this.indexBuffer2=new a(t,this.indexArray2),this.programConfigurations.upload(t)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},v.prototype.addFeature=function(t,e){for(var n=this,r=0,o=m(e,500);r<o.length;r+=1){for(var i=o[r],a=0,s=0,u=i;s<u.length;s+=1)a+=u[s].length;for(var c=n.segments.prepareSegment(a,n.layoutVertexArray,n.indexArray),l=c.vertexLength,h=[],p=[],f=0,y=i;f<y.length;f+=1){var g=y[f];if(0!==g.length){g!==i[0]&&p.push(h.length/2);var v=n.segments2.prepareSegment(g.length,n.layoutVertexArray,n.indexArray2),_=v.vertexLength;n.layoutVertexArray.emplaceBack(g[0].x,g[0].y),n.indexArray2.emplaceBack(_+g.length-1,_),h.push(g[0].x),h.push(g[0].y);for(var b=1;b<g.length;b++)n.layoutVertexArray.emplaceBack(g[b].x,g[b].y),n.indexArray2.emplaceBack(_+b-1,_+b),h.push(g[b].x),h.push(g[b].y);v.vertexLength+=g.length,v.primitiveLength+=g.length}}for(var w=d(h,p),x=0;x<w.length;x+=3)n.indexArray.emplaceBack(l+w[x],l+w[x+1],l+w[x+2]);c.vertexLength+=a,c.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t.properties)},v.programInterface=y,e.exports=v},{"../../gl/index_buffer":61,"../../gl/vertex_buffer":62,"../../util/classify_rings":205,"../index_array_type":50,"../load_geometry":51,"../program_configuration":53,"../segment":55,"../vertex_array_type":56,earcut:11}],45:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){t.emplaceBack(e,n,2*Math.floor(r*b)+a,o*b*2,i*b*2,Math.round(s))}function o(t,e){return t.x===e.x&&(t.x<0||t.x>y)||t.y===e.y&&(t.y<0||t.y>y)}var i=t("../segment"),a=i.SegmentVector,s=i.MAX_VERTEX_ARRAY_LENGTH,u=t("../../gl/vertex_buffer"),c=t("../../gl/index_buffer"),l=t("../program_configuration"),h=l.ProgramConfigurationSet,p=t("../vertex_array_type"),f=t("../index_array_type"),d=f.TriangleIndexArray,m=t("../load_geometry"),y=t("../extent"),g=t("earcut"),v=t("../../util/classify_rings"),_={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],indexArrayType:d,paintAttributes:[{property:"fill-extrusion-base"},{property:"fill-extrusion-height"},{property:"fill-extrusion-color"}]},b=Math.pow(2,13),w=p(_.layoutAttributes),x=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new w(t.layoutVertexArray),this.indexArray=new d(t.indexArray),this.programConfigurations=new h(_,t.layers,t.zoom,t.programConfigurations),this.segments=new a(t.segments)};x.prototype.populate=function(t,e){for(var n=this,r=0,o=t;r<o.length;r+=1){var i=o[r],a=i.feature,s=i.index,u=i.sourceLayerIndex;if(n.layers[0].filter(a)){var c=m(a);n.addFeature(a,c),e.featureIndex.insert(a,c,s,u,n.index)}}},x.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},x.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},x.prototype.upload=function(t){this.layoutVertexBuffer=new u(t,this.layoutVertexArray),this.indexBuffer=new c(t,this.indexArray),this.programConfigurations.upload(t)},x.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},x.prototype.addFeature=function(t,e){for(var n=this,i=0,a=v(e,500);i<a.length;i+=1){for(var u=a[i],c=0,l=0,h=u;l<h.length;l+=1)c+=h[l].length;for(var p=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),f=0,d=u;f<d.length;f+=1){var m=d[f];if(0!==m.length)for(var y=0,_=0;_<m.length;_++){var b=m[_];if(_>=1){var w=m[_-1];if(!o(b,w)){p.vertexLength+4>s&&(p=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var x=b.sub(w)._perp()._unit();r(n.layoutVertexArray,b.x,b.y,x.x,x.y,0,0,y),r(n.layoutVertexArray,b.x,b.y,x.x,x.y,0,1,y),y+=w.dist(b),r(n.layoutVertexArray,w.x,w.y,x.x,x.y,0,0,y),r(n.layoutVertexArray,w.x,w.y,x.x,x.y,0,1,y);var C=p.vertexLength;n.indexArray.emplaceBack(C,C+1,C+2),n.indexArray.emplaceBack(C+1,C+2,C+3),p.vertexLength+=4,p.primitiveLength+=2}}}}p.vertexLength+c>s&&(p=n.segments.prepareSegment(c,n.layoutVertexArray,n.indexArray));for(var E=[],S=[],T=p.vertexLength,P=0,O=u;P<O.length;P+=1){var I=O[P];if(0!==I.length){I!==u[0]&&S.push(E.length/2);for(var A=0;A<I.length;A++){var k=I[A];r(n.layoutVertexArray,k.x,k.y,0,0,1,1,0),E.push(k.x),E.push(k.y)}}}for(var D=g(E,S),R=0;R<D.length;R+=3)n.indexArray.emplaceBack(T+D[R],T+D[R+1],T+D[R+2]);p.primitiveLength+=D.length/3,p.vertexLength+=c}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t.properties)},x.programInterface=_,e.exports=x},{"../../gl/index_buffer":61,"../../gl/vertex_buffer":62,"../../util/classify_rings":205,"../extent":48,"../index_array_type":50,"../load_geometry":51,"../program_configuration":53,"../segment":55,"../vertex_array_type":56,earcut:11}],46:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){t.emplaceBack(e.x,e.y,r?1:0,o?1:-1,Math.round(y*n.x)+128,Math.round(y*n.y)+128,1+(0===i?0:i<0?-1:1)|(a*v&63)<<2,a*v>>6)}var o=t("../segment"),i=o.SegmentVector,a=t("../../gl/vertex_buffer"),s=t("../../gl/index_buffer"),u=t("../program_configuration"),c=u.ProgramConfigurationSet,l=t("../vertex_array_type"),h=t("../index_array_type"),p=h.TriangleIndexArray,f=t("../load_geometry"),d=t("../extent"),m=t("@mapbox/vector-tile").VectorTileFeature.types,y=63,g=Math.cos(Math.PI/180*37.5),v=.5,_=Math.pow(2,14)/v,b={layoutAttributes:[{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color"},{property:"line-blur"},{property:"line-opacity"},{property:"line-gap-width",name:"gapwidth"},{property:"line-offset"},{property:"line-width"},{property:"line-width",name:"floorwidth",useIntegerZoom:!0}],indexArrayType:p},w=l(b.layoutAttributes),x=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new w(t.layoutVertexArray),this.indexArray=new p(t.indexArray),this.programConfigurations=new c(b,t.layers,t.zoom,t.programConfigurations),this.segments=new i(t.segments)};x.prototype.populate=function(t,e){for(var n=this,r=0,o=t;r<o.length;r+=1){var i=o[r],a=i.feature,s=i.index,u=i.sourceLayerIndex;if(n.layers[0].filter(a)){var c=f(a);n.addFeature(a,c),e.featureIndex.insert(a,c,s,u,n.index)}}},x.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},x.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},x.prototype.upload=function(t){this.layoutVertexBuffer=new a(t,this.layoutVertexArray),this.indexBuffer=new s(t,this.indexArray),this.programConfigurations.upload(t)},x.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},x.prototype.addFeature=function(t,e){for(var n=this,r=this.layers[0].layout,o=this.layers[0].getLayoutValue("line-join",{zoom:this.zoom},t.properties),i=r["line-cap"],a=r["line-miter-limit"],s=r["line-round-limit"],u=0,c=e;u<c.length;u+=1){var l=c[u];n.addLine(l,t,o,i,a,s)}},x.prototype.addLine=function(t,e,n,r,o,i){for(var a=this,s=e.properties,u="Polygon"===m[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var l=0;l<c-1&&t[l].equals(t[l+1]);)l++;if(!(c<(u?3:2))){"bevel"===n&&(o=1.05);var h=d/(512*this.overscaling)*15,p=t[l],f=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var y,v,_,b=r,w=u?"butt":r,x=!0,C=void 0,E=void 0,S=void 0,T=void 0;this.e1=this.e2=this.e3=-1,u&&(y=t[c-2],T=p.sub(y)._unit()._perp());for(var P=l;P<c;P++)if(!(E=u&&P===c-1?t[l+1]:t[P+1])||!t[P].equals(E)){T&&(S=T),y&&(C=y),y=t[P],T=E?E.sub(y)._unit()._perp():S,S=S||T;var O=S.add(T);0===O.x&&0===O.y||O._unit();var I=O.x*T.x+O.y*T.y,A=0!==I?1/I:1/0,k=I<g&&C&&E;if(k&&P>l){var D=y.dist(C);if(D>2*h){var R=y.sub(y.sub(C)._mult(h/D)._round());a.distance+=R.dist(C),a.addCurrentVertex(R,a.distance,S.mult(1),0,0,!1,f),C=R}}var M=C&&E,N=M?n:E?b:w;if(M&&"round"===N&&(A<i?N="miter":A<=2&&(N="fakeround")),"miter"===N&&A>o&&(N="bevel"),"bevel"===N&&(A>2&&(N="flipbevel"),A<o&&(N="miter")),C&&(a.distance+=y.dist(C)),"miter"===N)O._mult(A),a.addCurrentVertex(y,a.distance,O,0,0,!1,f);else if("flipbevel"===N){if(A>100)O=T.clone().mult(-1);else{var L=S.x*T.y-S.y*T.x>0?-1:1,F=A*S.add(T).mag()/S.sub(T).mag();O._perp()._mult(F*L)}a.addCurrentVertex(y,a.distance,O,0,0,!1,f),a.addCurrentVertex(y,a.distance,O.mult(-1),0,0,!1,f)}else if("bevel"===N||"fakeround"===N){var V=S.x*T.y-S.y*T.x>0,j=-Math.sqrt(A*A-1);if(V?(_=0,v=j):(v=0,_=j),x||a.addCurrentVertex(y,a.distance,S,v,_,!1,f),"fakeround"===N){for(var z=Math.floor(8*(.5-(I-.5))),B=void 0,U=0;U<z;U++)B=T.mult((U+1)/(z+1))._add(S)._unit(),a.addPieSliceVertex(y,a.distance,B,V,f);a.addPieSliceVertex(y,a.distance,O,V,f);for(var q=z-1;q>=0;q--)B=S.mult((q+1)/(z+1))._add(T)._unit(),a.addPieSliceVertex(y,a.distance,B,V,f)}E&&a.addCurrentVertex(y,a.distance,T,-v,-_,!1,f)}else"butt"===N?(x||a.addCurrentVertex(y,a.distance,S,0,0,!1,f),E&&a.addCurrentVertex(y,a.distance,T,0,0,!1,f)):"square"===N?(x||(a.addCurrentVertex(y,a.distance,S,1,1,!1,f),a.e1=a.e2=-1),E&&a.addCurrentVertex(y,a.distance,T,-1,-1,!1,f)):"round"===N&&(x||(a.addCurrentVertex(y,a.distance,S,0,0,!1,f),a.addCurrentVertex(y,a.distance,S,1,1,!0,f),a.e1=a.e2=-1),E&&(a.addCurrentVertex(y,a.distance,T,-1,-1,!0,f),a.addCurrentVertex(y,a.distance,T,0,0,!1,f)));if(k&&P<c-1){var W=y.dist(E);if(W>2*h){var H=y.add(E.sub(y)._mult(h/W)._round());a.distance+=H.dist(y),a.addCurrentVertex(H,a.distance,T.mult(1),0,0,!1,f),y=H}}x=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s)}},x.prototype.addCurrentVertex=function(t,e,n,o,i,a,s){var u,c=this.layoutVertexArray,l=this.indexArray;u=n.clone(),o&&u._sub(n.perp()._mult(o)),r(c,t,u,a,!1,o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),i&&u._sub(n.perp()._mult(i)),r(c,t,u,a,!0,-i,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>_/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,o,i,a,s))},x.prototype.addPieSliceVertex=function(t,e,n,o,i){n=n.mult(o?-1:1);var a=this.layoutVertexArray,s=this.indexArray;r(a,t,n,!1,o,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),o?this.e2=this.e3:this.e1=this.e3},x.programInterface=b,e.exports=x},{"../../gl/index_buffer":61,"../../gl/vertex_buffer":62,"../extent":48,"../index_array_type":50,"../load_geometry":51,"../program_configuration":53,"../segment":55,"../vertex_array_type":56,"@mapbox/vector-tile":6}],47:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*o),i,a,s?s[0]:void 0,s?s[1]:void 0)}function o(t,e,n,r){var o=2*Math.PI,i=w((n+o)%o/o*255,10*r);t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function i(t,e,n,r,o,i){return t.emplaceBack(e.x,e.y,n.x,n.y,Math.round(r.x),Math.round(r.y),10*o,10*i)}function a(t,e,n){var r={};if(r.isFeatureConstant=e.isLayoutValueFeatureConstant(n),r.isZoomConstant=e.isLayoutValueZoomConstant(n),r.isFeatureConstant&&(r.layoutSize=e.getLayoutValue(n,{zoom:t+1})),!r.isZoomConstant){for(var o=e.getLayoutValueStopZoomLevels(n),i=0;i<o.length&&o[i]<=t;)i++;i=Math.max(0,i-1);for(var a=i;a<o.length&&o[a]<t+1;)a++;a=Math.min(o.length-1,a),r.coveringZoomRange=[o[i],o[a]],e.isLayoutValueFeatureConstant(n)&&(r.coveringStopValues=[e.getLayoutValue(n,{zoom:o[i]}),e.getLayoutValue(n,{zoom:o[a]})]),r.functionBase=e.getLayoutProperty(n).base,void 0===r.functionBase&&(r.functionBase=1),r.functionType=e.getLayoutProperty(n).type||"exponential"}return r}function s(t,e,n,r,o){return t.isLayoutValueZoomConstant(r)&&!t.isLayoutValueFeatureConstant(r)?[10*t.getLayoutValue(r,{},o)]:t.isLayoutValueZoomConstant(r)||t.isLayoutValueFeatureConstant(r)?null:[10*t.getLayoutValue(r,{zoom:n[0]},o),10*t.getLayoutValue(r,{zoom:n[1]},o)]}var u=t("@mapbox/point-geometry"),c=t("../segment"),l=c.SegmentVector,h=t("../../gl/vertex_buffer"),p=t("../../gl/index_buffer"),f=t("../program_configuration"),d=f.ProgramConfigurationSet,m=t("../vertex_array_type"),y=t("../index_array_type"),g=y.TriangleIndexArray,v=y.LineIndexArray,_=t("../extent"),b=t("../../shaders/encode_attribute"),w=b.packUint8ToFloat,x=t("../../symbol/anchor"),C=t("../../symbol/get_anchors"),E=t("../../util/token"),S=t("../../symbol/quads"),T=S.getGlyphQuads,P=S.getIconQuads,O=t("../../symbol/shaping"),I=O.shapeText,A=O.shapeIcon,k=O.WritingMode,D=t("../../symbol/transform_text"),R=t("../../symbol/mergelines"),M=t("../../symbol/clip_line"),N=t("../../util/util"),L=t("../../util/script_detection"),F=t("../load_geometry"),V=t("../../symbol/collision_feature"),j=t("../../util/find_pole_of_inaccessibility"),z=t("../../util/classify_rings"),B=t("@mapbox/vector-tile").VectorTileFeature.types,U=t("../../util/struct_array"),q=t("../../util/verticalize_punctuation"),W=U({members:[{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Float32",name:"placementZoom"},{type:"Uint8",name:"vertical"}]}),H=U({members:[{type:"Float32",name:"offsetX"}]}),G=U({members:[{type:"Int16",name:"x"},{type:"Int16",name:"y"}]}),K=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],Q=[{name:"a_projected_pos",components:3,type:"Float32"}],X={text:{layoutAttributes:K,dynamicLayoutAttributes:Q,indexArrayType:g,paintAttributes:[{property:"text-color",name:"fill_color"},{property:"text-halo-color",name:"halo_color"},{property:"text-halo-width",name:"halo_width"},{property:"text-halo-blur",name:"halo_blur"},{property:"text-opacity",name:"opacity"}]},icon:{layoutAttributes:K,dynamicLayoutAttributes:Q,indexArrayType:g,paintAttributes:[{property:"icon-color",name:"fill_color"},{property:"icon-halo-color",name:"halo_color"},{property:"icon-halo-width",name:"halo_width"},{property:"icon-halo-blur",name:"halo_blur"},{property:"icon-opacity",name:"opacity"}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],indexArrayType:v}},Z=function(t,e,n,r){this.programInterface=t;var o=m(t.layoutAttributes),i=t.indexArrayType;if(this.layoutVertexArray=new o(r&&r.layoutVertexArray),this.indexArray=new i(r&&r.indexArray),this.programConfigurations=new d(t,e,n,r&&r.programConfigurations),this.segments=new l(r&&r.segments),t.dynamicLayoutAttributes){var a=m(t.dynamicLayoutAttributes);this.dynamicLayoutVertexArray=new a(r&&r.dynamicLayoutVertexArray)}};Z.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),dynamicLayoutVertexArray:this.dynamicLayoutVertexArray&&this.dynamicLayoutVertexArray.serialize(t)}},Z.prototype.upload=function(t){this.layoutVertexBuffer=new h(t,this.layoutVertexArray),this.indexBuffer=new p(t,this.indexArray),this.programConfigurations.upload(t),this.programInterface.dynamicLayoutAttributes&&(this.dynamicLayoutVertexBuffer=new h(t,this.dynamicLayoutVertexArray,!0))},Z.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer&&this.dynamicLayoutVertexBuffer.destroy())};var Y=function(t){if(this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.pixelRatio=t.pixelRatio,t.text)this.text=new Z(X.text,t.layers,t.zoom,t.text),this.icon=new Z(X.icon,t.layers,t.zoom,t.icon),this.collisionBox=new Z(X.collisionBox,t.layers,t.zoom,t.collisionBox),this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData,this.placedGlyphArray=new W(t.placedGlyphArray),this.placedIconArray=new W(t.placedIconArray),this.glyphOffsetArray=new H(t.glyphOffsetArray),this.lineVertexArray=new G(t.lineVertexArray);else{var e=this.layers[0];this.textSizeData=a(this.zoom,e,"text-size"),this.iconSizeData=a(this.zoom,e,"icon-size")}};Y.prototype.populate=function(t,e){var n=this,r=this.layers[0],o=r.layout,i=o["text-font"],a=(!r.isLayoutValueFeatureConstant("text-field")||o["text-field"])&&i,s=!r.isLayoutValueFeatureConstant("icon-image")||o["icon-image"];if(this.features=[],a||s){for(var u=e.iconDependencies,c=e.glyphDependencies,l=c[i]=c[i]||{},h={zoom:this.zoom},p=0,f=t;p<f.length;p+=1){var d=f[p],m=d.feature,y=d.index,g=d.sourceLayerIndex;if(r.filter(m)){var v=void 0;a&&(v=r.getLayoutValue("text-field",h,m.properties),r.isLayoutValueFeatureConstant("text-field")&&(v=E(m.properties,v)),v=D(v,r,h,m.properties));var _=void 0;if(s&&(_=r.getLayoutValue("icon-image",h,m.properties),r.isLayoutValueFeatureConstant("icon-image")&&(_=E(m.properties,_))),(v||_)&&(n.features.push({text:v,icon:_,index:y,sourceLayerIndex:g,geometry:F(m),properties:m.properties,type:B[m.type]}),_&&(u[_]=!0),v))for(var b="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],w=L.allowsVerticalWritingMode(v),x=0;x<v.length;x++)if(l[v.charCodeAt(x)]=!0,b&&w){var C=q.lookup[v.charAt(x)];C&&(l[C.charCodeAt(0)]=!0)}}}"line"===o["symbol-placement"]&&(this.features=R(this.features))}},Y.prototype.isEmpty=function(){return 0===this.icon.layoutVertexArray.length&&0===this.text.layoutVertexArray.length&&0===this.collisionBox.layoutVertexArray.length},Y.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,placedGlyphArray:this.placedGlyphArray.serialize(t),placedIconArray:this.placedIconArray.serialize(t),glyphOffsetArray:this.glyphOffsetArray.serialize(t),lineVertexArray:this.lineVertexArray.serialize(t),text:this.text.serialize(t),icon:this.icon.serialize(t),collisionBox:this.collisionBox.serialize(t)}},Y.prototype.upload=function(t){this.text.upload(t),this.icon.upload(t),this.collisionBox.upload(t)},Y.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy()},Y.prototype.prepare=function(t,e,n,r){var o=this;this.symbolInstances=[];var i=512*this.overscaling;this.tilePixelRatio=_/i,this.compareText={},this.iconsNeedLinear=!1;for(var a=this.layers[0].layout,s=24*a["text-line-height"],u=a["text-font"].join(","),c="map"===a["text-rotation-alignment"]&&"line"===a["symbol-placement"],l=t[u]||{},h=e[u]||{},p=0,f=o.features;p<f.length;p+=1){var d=f[p],m={},y=d.text;if(y){var g=o.layers[0].getLayoutValue("text-offset",{zoom:o.zoom},d.properties).map(function(t){return 24*t}),v=24*o.layers[0].getLayoutValue("text-letter-spacing",{zoom:o.zoom},d.properties),b=L.allowsLetterSpacing(y)?v:0,w=o.layers[0].getLayoutValue("text-anchor",{zoom:o.zoom},d.properties),x=o.layers[0].getLayoutValue("text-justify",{zoom:o.zoom},d.properties),C="line"!==a["symbol-placement"]?24*o.layers[0].getLayoutValue("text-max-width",{zoom:o.zoom},d.properties):0,E=function(t,e){return I(t,l,C,s,w,x,b,g,24,e)};m[k.horizontal]=E(y,k.horizontal),L.allowsVerticalWritingMode(y)&&c&&(m[k.vertical]=E(y,k.vertical))}var S=void 0;if(d.icon){var T=n[d.icon];T&&(S=A(r[d.icon],o.layers[0].getLayoutValue("icon-offset",{zoom:o.zoom},d.properties),o.layers[0].getLayoutValue("icon-anchor",{zoom:o.zoom},d.properties)),void 0===o.sdfIcons?o.sdfIcons=T.sdf:o.sdfIcons!==T.sdf&&N.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),T.pixelRatio!==o.pixelRatio?o.iconsNeedLinear=!0:0===a["icon-rotate"]&&o.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(o.iconsNeedLinear=!0))}(m[k.horizontal]||S)&&o.addFeature(d,m,S,h)}},Y.prototype.addFeature=function(t,e,n,r){var o=this,i=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},t.properties),a=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},t.properties),s=this.layers[0].getLayoutValue("text-offset",{zoom:this.zoom},t.properties),u=this.layers[0].getLayoutValue("icon-offset",{zoom:this.zoom},t.properties),c=this.layers[0].getLayoutValue("text-size",{zoom:18},t.properties);void 0===c&&(c=i);var l=this.layers[0].layout,h=i/24,p=this.tilePixelRatio*h,f=this.tilePixelRatio*c/24,d=this.tilePixelRatio*a,m=this.tilePixelRatio*l["symbol-spacing"],y=l["symbol-avoid-edges"],g=l["text-padding"]*this.tilePixelRatio,v=l["icon-padding"]*this.tilePixelRatio,b=l["text-max-angle"]/180*Math.PI,w="map"===l["text-rotation-alignment"]&&"line"===l["symbol-placement"],E="map"===l["icon-rotation-alignment"]&&"line"===l["symbol-placement"],S=l["text-allow-overlap"]||l["icon-allow-overlap"]||l["text-ignore-placement"]||l["icon-ignore-placement"],T=l["symbol-placement"],P=m/2,O=function(i,a){var c=!(a.x<0||a.x>_||a.y<0||a.y>_);if(!y||c){var l=c||S;o.addSymbolInstance(a,i,e,n,o.layers[0],l,o.collisionBoxArray,t.index,t.sourceLayerIndex,o.index,p,g,w,s,d,v,E,u,{zoom:o.zoom},t.properties,r)}};if("line"===T)for(var I=0,A=M(t.geometry,0,0,_,_);I<A.length;I+=1)for(var D=A[I],R=C(D,m,b,e[k.vertical]||e[k.horizontal],n,24,f,o.overscaling,_),N=0,L=R;N<L.length;N+=1){var F=L[N],V=e[k.horizontal];V&&o.anchorIsTooClose(V.text,P,F)||O(D,F)}else if("Polygon"===t.type)for(var B=0,U=z(t.geometry,0);B<U.length;B+=1){var q=U[B],W=j(q,16);O(q[0],new x(W.x,W.y,0))}else if("LineString"===t.type)for(var H=0,G=t.geometry;H<G.length;H+=1){var K=G[H];O(K,new x(K[0].x,K[0].y,0))}else if("Point"===t.type)for(var Q=0,X=t.geometry;Q<X.length;Q+=1)for(var Z=X[Q],Y=0,J=Z;Y<J.length;Y+=1){var $=J[Y];O([$],new x($.x,$.y,0))}},Y.prototype.anchorIsTooClose=function(t,e,n){var r=this.compareText;if(t in r){for(var o=r[t],i=o.length-1;i>=0;i--)if(n.dist(o[i])<e)return!0}else r[t]=[];return r[t].push(n),!1},Y.prototype.place=function(t,e){var n=this;this.text=new Z(X.text,this.layers,this.zoom),this.icon=new Z(X.icon,this.layers,this.zoom),this.collisionBox=new Z(X.collisionBox,this.layers,this.zoom),this.placedGlyphArray=new W,this.placedIconArray=new W,this.glyphOffsetArray=new H,this.lineVertexArray=new G;var r=this.layers[0],o=r.layout,i=t.maxScale,a="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],u="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"];if(o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"]){var c=t.angle,l=Math.sin(c),h=Math.cos(c);this.symbolInstances.sort(function(t,e){return(l*t.anchor.x+h*t.anchor.y|0)-(l*e.anchor.x+h*e.anchor.y|0)||e.featureIndex-t.featureIndex})}for(var p=0,f=n.symbolInstances;p<f.length;p+=1){var d=f[p],m={boxStartIndex:d.textBoxStartIndex,boxEndIndex:d.textBoxEndIndex},y={boxStartIndex:d.iconBoxStartIndex,boxEndIndex:d.iconBoxEndIndex},g=!(d.textBoxStartIndex===d.textBoxEndIndex),v=!(d.iconBoxStartIndex===d.iconBoxEndIndex),_=o["text-optional"]||!g,b=o["icon-optional"]||!v,w=g?t.placeCollisionFeature(m,o["text-allow-overlap"],o["symbol-avoid-edges"]):t.minScale,x=v?t.placeCollisionFeature(y,o["icon-allow-overlap"],o["symbol-avoid-edges"]):t.minScale;if(_||b?!b&&w?w=Math.max(x,w):!_&&x&&(x=Math.max(x,w)):x=w=Math.max(x,w),g||v){for(var C=d.line,E=n.lineVertexArray.length,S=0;S<C.length;S++)n.lineVertexArray.emplaceBack(C[S].x,C[S].y);var T=n.lineVertexArray.length-E;if(g&&(t.insertCollisionFeature(m,w,o["text-ignore-placement"]),w<=i)){var P=s(r,n.zoom,n.textSizeData.coveringZoomRange,"text-size",d.featureProperties);n.addSymbols(n.text,d.glyphQuads,w,P,o["text-keep-upright"],d.textOffset,a,t.angle,d.featureProperties,d.writingModes,d.anchor,E,T,n.placedGlyphArray)}if(v&&(t.insertCollisionFeature(y,x,o["icon-ignore-placement"]),x<=i)){var O=s(r,n.zoom,n.iconSizeData.coveringZoomRange,"icon-size",d.featureProperties);n.addSymbols(n.icon,d.iconQuads,x,O,o["icon-keep-upright"],d.iconOffset,u,t.angle,d.featureProperties,0,d.anchor,E,T,n.placedIconArray)}}}e&&this.addToDebugBuffers(t)},Y.prototype.addSymbols=function(t,e,n,i,a,s,u,c,l,h,p,f,d,m){for(var y=this,g=t.indexArray,v=t.layoutVertexArray,_=t.dynamicLayoutVertexArray,b=this.zoom,w=Math.max(Math.log(n)/Math.LN2+b,0),x=this.glyphOffsetArray.length,C=(p.angle+c+2*Math.PI)%(2*Math.PI),E=C>1*Math.PI/4&&C<=3*Math.PI/4||C>5*Math.PI/4&&C<=7*Math.PI/4,S=Boolean(h&k.vertical)&&E,T=0,P=e;T<P.length;T+=1){var O=P[T];if(!u||!a||O.writingMode===k.vertical===S){var I=O.tl,A=O.tr,D=O.bl,R=O.br,M=O.tex,N=t.segments.prepareSegment(4,t.layoutVertexArray,t.indexArray),L=N.vertexLength,F=O.glyphOffset[1];r(v,p.x,p.y,I.x,F+I.y,M.x,M.y,i),r(v,p.x,p.y,A.x,F+A.y,M.x+M.w,M.y,i),r(v,p.x,p.y,D.x,F+D.y,M.x,M.y+M.h,i),r(v,p.x,p.y,R.x,F+R.y,M.x+M.w,M.y+M.h,i),o(_,p,0,w),g.emplaceBack(L,L+1,L+2),g.emplaceBack(L+1,L+2,L+3),N.vertexLength+=4,N.primitiveLength+=2,y.glyphOffsetArray.emplaceBack(O.glyphOffset[0])}}m.emplaceBack(p.x,p.y,x,this.glyphOffsetArray.length-x,f,d,p.segment,i?i[0]:0,i?i[1]:0,s[0],s[1],w,S),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,l)},Y.prototype.addToDebugBuffers=function(t){for(var e=this,n=this.collisionBox,r=n.layoutVertexArray,o=n.indexArray,a=-t.angle,s=t.yStretch,c=0,l=e.symbolInstances;c<l.length;c+=1){var h=l[c];h.textCollisionFeature={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},h.iconCollisionFeature={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex};for(var p=0;p<2;p++){var f=h[0===p?"textCollisionFeature":"iconCollisionFeature"];if(f)for(var d=f.boxStartIndex;d<f.boxEndIndex;d++){var m=e.collisionBoxArray.get(d);if(!(1===t.perspectiveRatio&&m.maxScale<1)){var y=m.anchorPoint,g=new u(m.x1,m.y1*s)._rotate(a),v=new u(m.x2,m.y1*s)._rotate(a),_=new u(m.x1,m.y2*s)._rotate(a),b=new u(m.x2,m.y2*s)._rotate(a),w=Math.max(0,Math.min(25,e.zoom+Math.log(m.maxScale)/Math.LN2)),x=Math.max(0,Math.min(25,e.zoom+Math.log(m.placementScale)/Math.LN2)),C=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),E=C.vertexLength;i(r,y,h.anchor,g,w,x),i(r,y,h.anchor,v,w,x),i(r,y,h.anchor,b,w,x),i(r,y,h.anchor,_,w,x),o.emplaceBack(E,E+1),o.emplaceBack(E+1,E+2),o.emplaceBack(E+2,E+3),o.emplaceBack(E+3,E),C.vertexLength+=4,C.primitiveLength+=4}}}}},Y.prototype.addSymbolInstance=function(t,e,n,r,o,i,a,s,u,c,l,h,p,f,d,m,y,g,v,_,b){var w,x,C=[],E=[];for(var S in n){var O=parseInt(S,10);n[O]&&(E=E.concat(i?T(t,n[O],o,p,v,_,b):[]),w=new V(a,e,t,s,u,c,n[O],l,h,p,!1))}var I=w?w.boxStartIndex:this.collisionBoxArray.length,A=w?w.boxEndIndex:this.collisionBoxArray.length;r&&(C=i?P(t,r,o,y,n[k.horizontal],v,_):[],x=new V(a,e,t,s,u,c,r,d,m,y,!0));var D=x?x.boxStartIndex:this.collisionBoxArray.length,R=x?x.boxEndIndex:this.collisionBoxArray.length;A>Y.MAX_INSTANCES&&N.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),R>Y.MAX_INSTANCES&&N.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var M=(n[k.vertical]?k.vertical:0)|(n[k.horizontal]?k.horizontal:0);this.symbolInstances.push({textBoxStartIndex:I,textBoxEndIndex:A,iconBoxStartIndex:D,iconBoxEndIndex:R,glyphQuads:E,iconQuads:C,textOffset:f,iconOffset:g,anchor:t,line:e,featureIndex:s,featureProperties:_,writingModes:M})},Y.programInterfaces=X,Y.MAX_INSTANCES=65535,Y.addDynamicAttributes=o,e.exports=Y},{"../../gl/index_buffer":61,"../../gl/vertex_buffer":62,"../../shaders/encode_attribute":85,"../../symbol/anchor":167,"../../symbol/clip_line":169,"../../symbol/collision_feature":171,"../../symbol/get_anchors":173,"../../symbol/mergelines":174,"../../symbol/quads":176,"../../symbol/shaping":177,"../../symbol/transform_text":179,"../../util/classify_rings":205,"../../util/find_pole_of_inaccessibility":211,"../../util/script_detection":218,"../../util/struct_array":220,"../../util/token":222,"../../util/util":223,"../../util/verticalize_punctuation":225,"../extent":48,"../index_array_type":50,"../load_geometry":51,"../program_configuration":53,"../segment":55,"../vertex_array_type":56,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],48:[function(t,e,n){"use strict";e.exports=8192},{}],49:[function(t,e,n){"use strict";function r(t,e){return e-t}var o=(t("@mapbox/point-geometry"),t("./load_geometry")),i=t("./extent"),a=t("../style-spec/feature_filter"),s=t("../util/struct_array"),u=t("grid-index"),c=t("../util/dictionary_coder"),l=t("@mapbox/vector-tile"),h=t("pbf"),p=t("../util/vectortile_to_geojson"),f=t("../util/util").arraysIntersect,d=s({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),m=function(t,e,n,r){this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.grid=n||new u(i,16,0),this.featureIndexArray=r||new d};m.deserialize=function(t,e,n){var r=new m(t.coord,t.overscaling,new u(t.grid),new d(t.featureIndexArray));return r.rawTileData=e,r.bucketLayerIDs=t.bucketLayerIDs,r.setCollisionTile(n),r},m.prototype.insert=function(t,e,n,r,o){var i=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,o);for(var s=0;s<e.length;s++){for(var u=e[s],c=[1/0,1/0,-1/0,-1/0],l=0;l<u.length;l++){var h=u[l];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}i.grid.insert(a,c[0],c[1],c[2],c[3])}},m.prototype.setCollisionTile=function(t){this.collisionTile=t},m.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs}},m.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new l.VectorTile(new h(this.rawTileData)).layers,this.sourceLayerCoder=new c(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},o=t.params||{},s=i/t.tileSize/t.scale,u=a(o.filter),p=t.queryGeometry,f=t.additionalRadius*s,d=1/0,m=1/0,y=-1/0,g=-1/0,v=0;v<p.length;v++)for(var _=p[v],b=0;b<_.length;b++){var w=_[b];d=Math.min(d,w.x),m=Math.min(m,w.y),y=Math.max(y,w.x),g=Math.max(g,w.y)}var x=this.grid.query(d-f,m-f,y+f,g+f);x.sort(r),this.filterMatching(n,x,this.featureIndexArray,p,u,o.layers,e,t.bearing,s);var C=this.collisionTile.queryRenderedSymbols(p,t.scale);return C.sort(),this.filterMatching(n,C,this.collisionTile.collisionBoxArray,p,u,o.layers,e,t.bearing,s),n},m.prototype.filterMatching=function(t,e,n,r,i,a,s,u,c){for(var l,h=this,d=0;d<e.length;d++){var m=e[d];if(m!==l){l=m;var y=n.get(m),g=h.bucketLayerIDs[y.bucketIndex];if(!a||f(a,g)){var v=h.sourceLayerCoder.decode(y.sourceLayerIndex),_=h.vtLayers[v],b=_.feature(y.featureIndex);if(i(b))for(var w=null,x=0;x<g.length;x++){var C=g[x];if(!(a&&a.indexOf(C)<0)){var E=s[C];if(E&&("symbol"===E.type||(w||(w=o(b)),E.queryIntersectsFeature(r,b,w,h.z,u,c)))){var S=new p(b,h.z,h.x,h.y);S.layer=E.serialize();var T=t[C];void 0===T&&(T=t[C]=[]),T.push({featureIndex:m,feature:S})}}}}}}},m.prototype.hasLayer=function(t){for(var e=this,n=0,r=e.bucketLayerIDs;n<r.length;n+=1)for(var o=r[n],i=0,a=o;i<a.length;i+=1){var s=a[i];if(t===s)return!0}return!1},e.exports=m},{"../style-spec/feature_filter":110,"../util/dictionary_coder":207,"../util/struct_array":220,"../util/util":223,"../util/vectortile_to_geojson":224,"./extent":48,"./load_geometry":51,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6,"grid-index":22,pbf:29}],50:[function(t,e,n){"use strict";function r(t){return o({members:[{type:"Uint16",name:"vertices",components:t}]})}var o=t("../util/struct_array");e.exports={LineIndexArray:r(2),TriangleIndexArray:r(3)}},{"../util/struct_array":220}],51:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("./extent"),i=function(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}(16);e.exports=function(t){for(var e=o/t.extent,n=t.loadGeometry(),a=0;a<n.length;a++)for(var s=n[a],u=0;u<s.length;u++){var c=s[u];c.x=Math.round(c.x*e),c.y=Math.round(c.y*e),(c.x<i.min||c.x>i.max||c.y<i.min||c.y>i.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},{"../util/util":223,"./extent":48}],52:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=o},{"../util/struct_array":220}],53:[function(t,e,n){"use strict";function r(t){return[a(255*t[0],255*t[1]),a(255*t[2],255*t[3])]}var o=t("./vertex_array_type"),i=t("../style-spec/function").interpolationFactor,a=t("../shaders/encode_attribute").packUint8ToFloat,s=t("../gl/vertex_buffer"),u=function(t,e,n,r){this.name=t,this.type=e,this.property=n,this.useIntegerZoom=r};u.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},u.prototype.populatePaintArray=function(){},u.prototype.setUniforms=function(t,e,n,r){var o=r.zoom,i=n.getPaintValue(this.property,{zoom:this.useIntegerZoom?Math.floor(o):o});"color"===this.type?t.uniform4fv(e.uniforms["u_"+this.name],i):t.uniform1f(e.uniforms["u_"+this.name],i)};var c=function(t,e,n){this.name=t,this.type=e,this.property=n};c.prototype.defines=function(){return[]},c.prototype.populatePaintArray=function(t,e,n,o,i,a){var s=this,u=t.getPaintValue(this.property,void 0,a);if("color"===this.type)for(var c=r(u),l=o;l<i;l++){var h=e.get(l);h["a_"+s.name+"0"]=c[0],h["a_"+s.name+"1"]=c[1]}else{for(var p=o;p<i;p++)e.get(p)["a_"+s.name]=u;var f=n[this.property];f.max=Math.max(f.max,u)}},c.prototype.setUniforms=function(t,e){t.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var l=function(t,e,n,r,o){this.name=t,this.type=e,this.property=n,this.useIntegerZoom=r,this.zoom=o};l.prototype.defines=function(){return[]},l.prototype.populatePaintArray=function(t,e,n,o,i,a){var s=this,u=t.getPaintValue(this.property,{zoom:this.zoom},a),c=t.getPaintValue(this.property,{zoom:this.zoom+1},a);if("color"===this.type)for(var l=r(u),h=r(c),p=o;p<i;p++){var f=e.get(p);f["a_"+s.name+"0"]=l[0],f["a_"+s.name+"1"]=l[1],f["a_"+s.name+"2"]=h[0],f["a_"+s.name+"3"]=h[1]}else{for(var d=o;d<i;d++){var m=e.get(d);m["a_"+s.name+"0"]=u,m["a_"+s.name+"1"]=c}var y=n[this.property];y.max=Math.max(y.max,u,c)}},l.prototype.setUniforms=function(t,e,n,r){var o=r.zoom,a=i(this.useIntegerZoom?Math.floor(o):o,1,this.zoom,this.zoom+1);t.uniform1f(e.uniforms["a_"+this.name+"_t"],a)};var h=function(){this.binders={},this.cacheKey=""};h.createDynamic=function(t,e,n){for(var r=new h,i=[],a=0,s=t.paintAttributes||[];a<s.length;a+=1){var p=s[a],f=p.property,d=p.useIntegerZoom||!1,m=p.name||f.replace(e.type+"-","").replace(/-/g,"_"),y=e._paintSpecifications[f].type;e.isPaintValueFeatureConstant(f)?(r.binders[m]=new u(m,y,f,d),r.cacheKey+="/u_"+m):e.isPaintValueZoomConstant(f)?(r.binders[m]=new c(m,y,f),r.cacheKey+="/a_"+m,i.push({name:"a_"+m,type:"Float32",components:"color"===y?2:1})):(r.binders[m]=new l(m,y,f,d,n),r.cacheKey+="/z_"+m,i.push({name:"a_"+m,type:"Float32",components:"color"===y?4:2}))}return r.PaintVertexArray=o(i),r.interface=t,r.layer=e,r},h.createBasicFill=function(){var t=new h;return t.binders.color=new u("color","color","fill-color",!1),t.cacheKey+="/u_color",t.binders.opacity=new u("opacity","number","fill-opacity",!1),t.cacheKey+="/u_opacity",t},h.prototype.createPaintPropertyStatistics=function(){var t=this,e={};for(var n in t.binders)e[t.binders[n].property]={max:-1/0};return e},h.prototype.populatePaintArray=function(t,e){var n=this,r=this.paintVertexArray;if(0!==r.bytesPerElement){var o=r.length;r.resize(t);for(var i in n.binders)n.binders[i].populatePaintArray(n.layer,r,n.paintPropertyStatistics,o,t,e)}},h.prototype.defines=function(){var t=this,e=[];for(var n in t.binders)e.push.apply(e,t.binders[n].defines());return e},h.prototype.setUniforms=function(t,e,n,r){var o=this;for(var i in o.binders)o.binders[i].setUniforms(t,e,n,r)},h.prototype.serialize=function(t){return 0===this.paintVertexArray.length?null:{array:this.paintVertexArray.serialize(t),type:this.paintVertexArray.constructor.serialize(),statistics:this.paintPropertyStatistics}},h.deserialize=function(t,e,n,r){var i=h.createDynamic(t,e,n);return r&&(i.PaintVertexArray=o(r.type.members),i.paintVertexArray=new i.PaintVertexArray(r.array),i.paintPropertyStatistics=r.statistics),i},h.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=new s(t,this.paintVertexArray))},h.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var p=function(t,e,n,r){var o=this;if(this.programConfigurations={},r)for(var i=0,a=e;i<a.length;i+=1){var s=a[i];o.programConfigurations[s.id]=h.deserialize(t,s,n,r[s.id])}else for(var u=0,c=e;u<c.length;u+=1){var l=c[u],p=h.createDynamic(t,l,n);p.paintVertexArray=new p.PaintVertexArray,p.paintPropertyStatistics=p.createPaintPropertyStatistics(),o.programConfigurations[l.id]=p}};p.prototype.populatePaintArrays=function(t,e){var n=this;for(var r in n.programConfigurations)n.programConfigurations[r].populatePaintArray(t,e)},p.prototype.serialize=function(t){var e=this,n={};for(var r in e.programConfigurations){var o=e.programConfigurations[r].serialize(t);o&&(n[r]=o)}return n},p.prototype.get=function(t){return this.programConfigurations[t]},p.prototype.upload=function(t){var e=this;for(var n in e.programConfigurations)e.programConfigurations[n].upload(t)},p.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},e.exports={ProgramConfiguration:h,ProgramConfigurationSet:p}},{"../gl/vertex_buffer":62,"../shaders/encode_attribute":85,"../style-spec/function":112,"./vertex_array_type":56}],54:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=o},{"../util/struct_array":220}],55:[function(t,e,n){"use strict";var r=t("../util/util"),o=r.warnOnce,i=Math.pow(2,16)-1,a=function(t){void 0===t&&(t=[]),this.segments=t};a.prototype.prepareSegment=function(t,n,r){var a=this.segments[this.segments.length-1];return t>i&&o("Max vertices per segment is "+i+": bucket requested "+t),(!a||a.vertexLength+t>e.exports.MAX_VERTEX_ARRAY_LENGTH)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(a)),a},a.prototype.get=function(){return this.segments},a.prototype.destroy=function(){for(var t=this,e=0,n=t.segments;e<n.length;e+=1){var r=n[e];for(var o in r.vaos)r.vaos[o].destroy()}},e.exports={SegmentVector:a,MAX_VERTEX_ARRAY_LENGTH:i}},{"../util/util":223}],56:[function(t,e,n){"use strict";function r(t){return o({members:t,alignment:4})}var o=t("../util/struct_array");e.exports=r},{"../util/struct_array":220}],57:[function(t,e,n){"use strict";var r=function(t,e,n){this.column=t,this.row=e,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},r.prototype.sub=function(t){return this.clone()._sub(t)},r.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},r.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=r},{}],58:[function(t,e,n){"use strict";var r=t("../util/util").wrap,o=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};o.prototype.wrap=function(){return new o(r(this.lng,-180,180),this.lat)},o.prototype.toArray=function(){return[this.lng,this.lat]},o.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},o.prototype.toBounds=function(e){var n=360*e/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new o(this.lng-r,this.lat-n),new o(this.lng+r,this.lat+n))},o.convert=function(t){if(t instanceof o)return t;if(Array.isArray(t)&&2===t.length)return new o(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new o(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=o},{"../util/util":223,"./lng_lat_bounds":59}],59:[function(t,e,n){"use strict";var r=t("./lng_lat"),o=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};o.prototype.setNorthEast=function(t){return this._ne=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},o.prototype.setSouthWest=function(t){return this._sw=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},o.prototype.extend=function(t){var e,n,i=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof o))return Array.isArray(t)?t.every(Array.isArray)?this.extend(o.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return i||a?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},o.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},o.prototype.getSouthWest=function(){return this._sw},o.prototype.getNorthEast=function(){return this._ne},o.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},o.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},o.prototype.getWest=function(){return this._sw.lng},o.prototype.getSouth=function(){return this._sw.lat},o.prototype.getEast=function(){return this._ne.lng},o.prototype.getNorth=function(){return this._ne.lat},o.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},o.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},o.convert=function(t){return!t||t instanceof o?t:new o(t)},e.exports=o},{"./lng_lat":58}],60:[function(t,e,n){"use strict";var r=t("./lng_lat"),o=t("@mapbox/point-geometry"),i=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate"),u=t("../source/tile_coord"),c=t("../data/extent"),l=t("@mapbox/gl-matrix"),h=l.vec4,p=l.mat4,f=l.mat2,d=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},m={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.minZoom.get=function(){return this._minZoom},m.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},m.maxZoom.get=function(){return this._maxZoom},m.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},m.renderWorldCopies.get=function(){return this._renderWorldCopies},m.worldSize.get=function(){return this.tileSize*this.scale},m.centerPoint.get=function(){return this.size._div(2)},m.size.get=function(){return new o(this.width,this.height)},m.bearing.get=function(){return-this.angle/Math.PI*180},m.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=f.create(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},m.pitch.get=function(){return this._pitch/Math.PI*180},m.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},m.fov.get=function(){return this._fov/Math.PI*180},m.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},m.zoom.get=function(){return this._zoom},m.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},m.center.get=function(){return this._center},m.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},d.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new o(0,0),0),n=this.pointCoordinate(new o(this.width,0),0),r=Math.floor(e.column),i=Math.floor(n.column),a=[t],s=r;s<=i;s++)0!==s&&a.push(new u(t.z,t.x,t.y,s));return a},d.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),i=new o(r.column-.5,r.row-.5),a=[this.pointCoordinate(new o(0,0),e),this.pointCoordinate(new o(this.width,0),e),this.pointCoordinate(new o(this.width,this.height),e),this.pointCoordinate(new o(0,this.height),e)];return u.cover(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return i.dist(t)-i.dist(e)})},d.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},m.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(t){return Math.pow(2,t)},d.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},d.prototype.project=function(t){return new o(this.lngX(t.lng),this.latY(t.lat))},d.prototype.unproject=function(t){return new r(this.xLng(t.x),this.yLat(t.y))},m.x.get=function(){return this.lngX(this.center.lng)},m.y.get=function(){return this.latY(this.center.lat)},m.point.get=function(){return new o(this.x,this.y)},d.prototype.lngX=function(t){return(180+t)*this.worldSize/360},d.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},d.prototype.xLng=function(t){return 360*t/this.worldSize-180},d.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},d.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},d.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},d.prototype.locationCoordinate=function(t){return new i(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new r(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},d.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(n,n,this.pixelMatrixInverse),h.transformMat4(r,r,this.pixelMatrixInverse);var o=n[3],a=r[3],u=n[0]/o,c=r[0]/a,l=n[1]/o,p=r[1]/a,f=n[2]/o,d=r[2]/a,m=f===d?0:(0-f)/(d-f);return new i(s(u,c,m)/this.tileSize,s(l,p,m)/this.tileSize,this.zoom)._zoomTo(e)},d.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return h.transformMat4(n,n,this.pixelMatrix),new o(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(t,e){var n=t.toCoordinate(e),r=this.worldSize/this.zoomScale(n.zoom),o=p.identity(new Float64Array(16));return p.translate(o,o,[n.column*r,n.row*r,0]),p.scale(o,o,[r/c,r/c,1]),p.multiply(o,this.projMatrix,o),new Float32Array(o)},d.prototype.cameraToTileDistance=function(t){var e=this.calculatePosMatrix(t.coord,t.sourceMaxZoom),n=[t.tileSize/2,t.tileSize/2,0,1];return h.transformMat4(n,n,e),n[3]},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,i=-90,a=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var h=this.latRange;i=this.latY(h[1]),a=this.latY(h[0]),t=a-i<c.y?c.y/(a-i):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),u=this.lngX(p[1]),e=u-s<c.x?c.x/(u-s):0}var f=Math.max(e||0,t||0);if(f)return this.center=this.unproject(new o(e?(u+s)/2:this.x,t?(a+i)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var d=this.y,m=c.y/2;d-m<i&&(r=i+m),d+m>a&&(r=a-m)}if(this.lngRange){var y=this.x,g=c.x/2;y-g<s&&(n=s+g),y+g>u&&(n=u-g)}void 0===n&&void 0===r||(this.center=this.unproject(new o(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=l,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,o=1.01*r,i=new Float64Array(16);p.perspective(i,this._fov,this.width/this.height,1,o),p.scale(i,i,[1,-1,1]),p.translate(i,i,[0,0,-this.cameraToCenterDistance]),p.rotateX(i,i,this._pitch),p.rotateZ(i,i,this.angle),p.translate(i,i,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(p.scale(i,i,[1,1,a,1]),this.projMatrix=i,i=p.create(),p.scale(i,i,[this.width/2,-this.height/2,1]),p.translate(i,i,[1,-1,0]),this.pixelMatrix=p.multiply(new Float64Array(16),i,this.projMatrix),!(i=p.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=i}},Object.defineProperties(d.prototype,m),e.exports=d},{"../data/extent":48,"../source/tile_coord":101,"../style-spec/util/interpolate":127,"../util/util":223,"./coordinate":57,"./lng_lat":58,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],61:[function(t,e,n){"use strict";var r=function(t,e){this.gl=t,this.buffer=t.createBuffer(),void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object")),t.extVertexArrayObject&&t.extVertexArrayObject.bindVertexArrayOES(null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,t.STATIC_DRAW),delete e.arrayBuffer};r.prototype.bind=function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buffer)},r.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=r},{}],62:[function(t,e,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},o=function(t,e,n){this.length=e.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.gl=t,this.buffer=t.createBuffer(),this.gl.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.gl.bufferData(t.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?t.DYNAMIC_DRAW:t.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};o.prototype.bind=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer)},o.prototype.updateData=function(t){this.bind(),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t.arrayBuffer)},o.prototype.enableAttributes=function(t,e){for(var n=this,r=0;r<this.attributes.length;r++){var o=n.attributes[r],i=e.attributes[o.name];void 0!==i&&t.enableVertexAttribArray(i)}},o.prototype.setVertexAttribPointers=function(t,e,n){for(var o=this,i=0;i<this.attributes.length;i++){var a=o.attributes[i],s=e.attributes[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[r[a.type]],!1,o.itemSize,a.offset+o.itemSize*(n||0))}},o.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=o},{}],63:[function(t,e,n){"use strict";var r=t("mapbox-gl-supported"),o=t("./util/browser"),i=t("../package.json").version,a=t("./ui/map"),s=t("./ui/control/navigation_control"),u=t("./ui/control/geolocate_control"),c=t("./ui/control/attribution_control"),l=t("./ui/control/scale_control"),h=t("./ui/control/fullscreen_control"),p=t("./ui/popup"),f=t("./ui/marker"),d=t("./style/style"),m=t("./geo/lng_lat"),y=t("./geo/lng_lat_bounds"),g=t("@mapbox/point-geometry"),v=t("./util/evented"),_=t("./util/config"),b=t("./source/rtl_text_plugin");e.exports={version:i,supported:r,workerCount:Math.max(Math.floor(o.hardwareConcurrency/2),1),setRTLTextPlugin:b.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:u,AttributionControl:c,ScaleControl:l,FullscreenControl:h,Popup:p,Marker:f,Style:d,LngLat:m,LngLatBounds:y,Point:g,Evented:v,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t}}},{"../package.json":41,"./geo/lng_lat":58,"./geo/lng_lat_bounds":59,"./source/rtl_text_plugin":96,"./style/style":156,"./ui/control/attribution_control":182,"./ui/control/fullscreen_control":183,"./ui/control/geolocate_control":184,"./ui/control/navigation_control":186,"./ui/control/scale_control":187,"./ui/map":197,"./ui/marker":198,"./ui/popup":199,"./util/browser":202,"./util/config":206,"./util/evented":210,"@mapbox/point-geometry":2,"mapbox-gl-supported":28}],64:[function(t,e,n){"use strict";function r(t,e,n){var r=t.gl,i=t.transform,a=i.tileSize,s=n.paint["background-color"],u=n.paint["background-pattern"],c=n.paint["background-opacity"],l=u||1!==s[3]||1!==c?"translucent":"opaque";if(t.renderPass===l){r.disable(r.STENCIL_TEST),t.setDepthSublayer(0);var h;if(u){if(o.isPatternMissing(u,t))return;h=t.useProgram("fillPattern",t.basicFillProgramConfiguration),o.prepare(u,t,h),t.tileExtentPatternVAO.bind(r,h,t.tileExtentBuffer)}else h=t.useProgram("fill",t.basicFillProgramConfiguration),r.uniform4fv(h.uniforms.u_color,s),t.tileExtentVAO.bind(r,h,t.tileExtentBuffer);r.uniform1f(h.uniforms.u_opacity,c);for(var p=i.coveringTiles({tileSize:a}),f=0,d=p;f<d.length;f+=1){var m=d[f];u&&o.setTile({coord:m,tileSize:a},t,h),r.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(m)),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}var o=t("./pattern");e.exports=r},{"./pattern":80}],65:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var a=t.gl;t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.STENCIL_TEST);for(var s=0;s<r.length;s++){var u=r[s],c=e.getTile(u),l=c.getBucket(n);if(l){var h=l.programConfigurations.get(n.id),p=t.useProgram("circle",h);if(h.setUniforms(a,p,n,{zoom:t.transform.zoom}),a.uniform1f(p.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),a.uniform1i(p.uniforms.u_scale_with_map,"map"===n.paint["circle-pitch-scale"]?1:0),"map"===n.paint["circle-pitch-alignment"]){a.uniform1i(p.uniforms.u_pitch_with_map,1);var f=i(c,1,t.transform.zoom);a.uniform2f(p.uniforms.u_extrude_scale,f,f)}else a.uniform1i(p.uniforms.u_pitch_with_map,0),a.uniform2fv(p.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);a.uniform1f(p.uniforms.u_devicepixelratio,o.devicePixelRatio),a.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.translatePosMatrix(u.posMatrix,c,n.paint["circle-translate"],n.paint["circle-translate-anchor"])),p.draw(a,a.TRIANGLES,n.id,l.layoutVertexBuffer,l.indexBuffer,l.segments,h)}}}}var o=t("../util/browser"),i=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":93,"../util/browser":202}],66:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.gl;o.enable(o.STENCIL_TEST);var i=t.useProgram("collisionBox");o.activeTexture(o.TEXTURE1),t.frameHistory.bind(o),o.uniform1i(i.uniforms.u_fadetexture,1);for(var a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),c=u.getBucket(n);if(c){o.uniformMatrix4fv(i.uniforms.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),o.uniform1f(i.uniforms.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),o.uniform1f(i.uniforms.u_zoom,10*t.transform.zoom);var l=Math.max(0,Math.min(25,u.coord.z+Math.log(u.collisionTile.maxScale)/Math.LN2));o.uniform1f(i.uniforms.u_maxzoom,10*l),o.uniform1f(i.uniforms.u_collision_y_stretch,u.collisionTile.yStretch),o.uniform1f(i.uniforms.u_pitch,t.transform.pitch/360*2*Math.PI),o.uniform1f(i.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),i.draw(o,o.LINES,n.id,c.collisionBox.layoutVertexBuffer,c.collisionBox.indexBuffer,c.collisionBox.segments)}}}e.exports=r},{}],67:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)o(t,e,n[r])}function o(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var o=n.posMatrix,p=t.useProgram("debug");r.uniformMatrix4fv(p.uniforms.u_matrix,!1,o),r.uniform4f(p.uniforms.u_color,1,0,0,1),t.debugVAO.bind(r,p,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var f=i(n.toString(),50,200,5),d=new h,m=0;m<f.length;m+=2)d.emplaceBack(f[m],f[m+1]);var y=new c(r,d);(new l).bind(r,p,y),r.uniform4f(p.uniforms.u_color,1,1,1,1);for(var g=e.getTile(n).tileSize,v=u/(Math.pow(2,t.transform.zoom-n.z)*g),_=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<_.length;b++){var w=_[b];r.uniformMatrix4fv(p.uniforms.u_matrix,!1,s.translate([],o,[v*w[0],v*w[1],0])),r.drawArrays(r.LINES,0,y.length)}r.uniform4f(p.uniforms.u_color,0,0,0,1),r.uniformMatrix4fv(p.uniforms.u_matrix,!1,o),r.drawArrays(r.LINES,0,y.length)}function i(t,e,n,r){r=r||1;var o,i,a,s,u,c,l,h,f=[];for(o=0,i=t.length;o<i;o++)if(u=p[t[o]]){for(h=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?h=null:(c=e+u[1][a]*r,l=n-u[1][a+1]*r,h&&f.push(h.x,h.y,c,l),h={x:c,y:l});e+=u[0]*r}return f}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,u=t("../data/extent"),c=t("../gl/vertex_buffer"),l=t("./vertex_array_object"),h=t("../data/pos_array");e.exports=r;var p={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/extent":48,"../data/pos_array":52,"../gl/vertex_buffer":62,"../util/browser":202,"./vertex_array_object":84,"@mapbox/gl-matrix":1}],68:[function(t,e,n){"use strict";function r(t,e,n,r){var s=t.gl;s.enable(s.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"]?"opaque":"translucent";t.renderPass===u&&(t.setDepthSublayer(1),t.depthMask("opaque"===t.renderPass),o(t,e,n,r,i)),"translucent"===t.renderPass&&n.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),o(t,e,n,r,a))}function o(t,e,n,r,o){if(!u.isPatternMissing(n.paint["fill-pattern"],t))for(var i=!0,a=0,s=r;a<s.length;a+=1){var c=s[a],l=e.getTile(c),h=l.getBucket(n);h&&(t.enableTileClippingMask(c),o(t,e,n,l,c,h,i),i=!1)}}function i(t,e,n,r,o,i,a){var u=t.gl,c=i.programConfigurations.get(n.id);s("fill",n.paint["fill-pattern"],t,c,n,r,o,a).draw(u,u.TRIANGLES,n.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,c)}function a(t,e,n,r,o,i,a){var u=t.gl,c=i.programConfigurations.get(n.id),l=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),h=s("fillOutline",l,t,c,n,r,o,a);u.uniform2f(h.uniforms.u_world,u.drawingBufferWidth,u.drawingBufferHeight),h.draw(u,u.LINES,n.id,i.layoutVertexBuffer,i.indexBuffer2,i.segments2,c)}function s(t,e,n,r,o,i,a,s){var c,l=n.currentProgram;return e?(c=n.useProgram(t+"Pattern",r),(s||c!==l)&&(r.setUniforms(n.gl,c,o,{zoom:n.transform.zoom}),u.prepare(o.paint["fill-pattern"],n,c)),u.setTile(i,n,c)):(c=n.useProgram(t,r),(s||c!==l)&&r.setUniforms(n.gl,c,o,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(c.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,i,o.paint["fill-translate"],o.paint["fill-translate-anchor"])),c}var u=t("./pattern");e.exports=r},{"./pattern":80}],69:[function(t,e,n){"use strict";function r(t,e,n,r){if("3d"===t.renderPass){var a=t.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),t.clearColor(),t.depthMask(!0);for(var s=0;s<r.length;s++)i(t,e,n,r[s])}else"translucent"===t.renderPass&&o(t,n)}function o(t,e){var n=t.prerenderedFrames[e.id];if(n){var r=t.gl,o=t.useProgram("extrusionTexture");r.disable(r.STENCIL_TEST),r.disable(r.DEPTH_TEST),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.texture),r.uniform1f(o.uniforms.u_opacity,e.paint["fill-extrusion-opacity"]),r.uniform1i(o.uniforms.u_image,0);var i=l.create();l.ortho(i,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(o.uniforms.u_matrix,!1,i),r.uniform2f(o.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),n.vao.bind(r,o,n.buffer),r.drawArrays(r.TRIANGLE_STRIP,0,4),t.viewportFrames.push(n),delete t.prerenderedFrames[e.id]}}function i(t,e,n,r){var o=e.getTile(r),i=o.getBucket(n);if(i){var s=t.gl,c=n.paint["fill-extrusion-pattern"],l=i.programConfigurations.get(n.id),h=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",l);if(l.setUniforms(s,h,n,{zoom:t.transform.zoom}),c){if(u.isPatternMissing(c,t))return;u.prepare(c,t,h),u.setTile(o,t,h),s.uniform1f(h.uniforms.u_height_factor,-Math.pow(2,r.z)/o.tileSize/8)}t.gl.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.translatePosMatrix(r.posMatrix,o,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),a(h,t),h.draw(s,s.TRIANGLES,n.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,l)}}function a(t,e){var n=e.gl,r=e.style.light,o=r.calculated.position,i=[o.x,o.y,o.z],a=c.create();"viewport"===r.calculated.anchor&&c.fromRotation(a,-e.transform.angle),h.transformMat3(i,i,a),n.uniform3fv(t.uniforms.u_lightpos,i),n.uniform1f(t.uniforms.u_lightintensity,r.calculated.intensity),n.uniform3fv(t.uniforms.u_lightcolor,r.calculated.color.slice(0,3))}var s=t("@mapbox/gl-matrix"),u=t("./pattern"),c=s.mat3,l=s.mat4,h=s.vec3;e.exports=r},{"./pattern":80,"@mapbox/gl-matrix":1}],70:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,u,c,l){var h,p,f,d,m=e.gl,y=a.paint["line-dasharray"],g=a.paint["line-pattern"];if(c||l){var v=1/i(n,1,e.transform.tileZoom);if(y){h=e.lineAtlas.getDash(y.from,"round"===a.layout["line-cap"]),p=e.lineAtlas.getDash(y.to,"round"===a.layout["line-cap"]);var _=h.width*y.fromScale,b=p.width*y.toScale;m.uniform2f(t.uniforms.u_patternscale_a,v/_,-h.height/2),m.uniform2f(t.uniforms.u_patternscale_b,v/b,-p.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*o.devicePixelRatio)/2)}else if(g){if(f=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!f||!d)return;m.uniform2f(t.uniforms.u_pattern_size_a,f.displaySize[0]*g.fromScale/v,d.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/v,d.displaySize[1]);var w=e.imageManager.getPixelSize(),x=w.width,C=w.height;m.uniform2fv(t.uniforms.u_texsize,[x,C])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}c&&(y?(m.uniform1i(t.uniforms.u_image,0),m.activeTexture(m.TEXTURE0),e.lineAtlas.bind(m),m.uniform1f(t.uniforms.u_tex_y_a,h.y),m.uniform1f(t.uniforms.u_tex_y_b,p.y),m.uniform1f(t.uniforms.u_mix,y.t)):g&&(m.uniform1i(t.uniforms.u_image,0),m.activeTexture(m.TEXTURE0),e.imageManager.bind(m),m.uniform2fv(t.uniforms.u_pattern_tl_a,f.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,f.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,d.br),m.uniform1f(t.uniforms.u_fade,g.t))),e.enableTileClippingMask(s);var E=e.translatePosMatrix(s.posMatrix,n,a.paint["line-translate"],a.paint["line-translate-anchor"]);m.uniformMatrix4fv(t.uniforms.u_matrix,!1,E),m.uniform1f(t.uniforms.u_ratio,1/i(n,1,e.transform.zoom)),t.draw(m,m.TRIANGLES,a.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,u)}var o=t("../util/browser"),i=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,o){if("translucent"===t.renderPass){t.setDepthSublayer(0),t.depthMask(!1);var i=t.gl;if(i.enable(i.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var a,s=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,c=0,l=o;c<l.length;c+=1){var h=l[c],p=e.getTile(h),f=p.getBucket(n);if(f){var d=f.programConfigurations.get(n.id),m=t.currentProgram,y=t.useProgram(s,d),g=u||y!==m,v=a!==p.coord.z;g&&d.setUniforms(t.gl,y,n,{zoom:t.transform.zoom}),r(y,t,p,f,n,h,d,g,v),a=p.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":93,"../util/browser":202}],71:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var u=t.gl,l=e.getSource(),h=t.useProgram("raster");u.enable(u.DEPTH_TEST),t.depthMask(!0),u.depthFunc(u.LESS),u.disable(u.STENCIL_TEST),u.uniform1f(h.uniforms.u_brightness_low,n.paint["raster-brightness-min"]),u.uniform1f(h.uniforms.u_brightness_high,n.paint["raster-brightness-max"]),u.uniform1f(h.uniforms.u_saturation_factor,a(n.paint["raster-saturation"])),u.uniform1f(h.uniforms.u_contrast_factor,i(n.paint["raster-contrast"])),u.uniform3fv(h.uniforms.u_spin_weights,o(n.paint["raster-hue-rotate"])),u.uniform1f(h.uniforms.u_buffer_scale,1),u.uniform1i(h.uniforms.u_image0,0),u.uniform1i(h.uniforms.u_image1,1);for(var p=r.length&&r[0].z,f=0,d=r;f<d.length;f+=1){var m=d[f];t.setDepthSublayer(m.z-p);var y=e.getTile(m),g=t.transform.calculatePosMatrix(m,e.getSource().maxzoom);y.registerFadeDuration(t.style.animationLoop,n.paint["raster-fade-duration"]),u.uniformMatrix4fv(h.uniforms.u_matrix,!1,g);var v=e.findLoadedParent(m,0,{}),_=s(y,v,e,n,t.transform),b=void 0,w=void 0;if(u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,y.texture),u.activeTexture(u.TEXTURE1),v?(u.bindTexture(u.TEXTURE_2D,v.texture),b=Math.pow(2,v.coord.z-y.coord.z),w=[y.coord.x*b%1,y.coord.y*b%1]):u.bindTexture(u.TEXTURE_2D,y.texture),u.uniform2fv(h.uniforms.u_tl_parent,w||[0,0]),u.uniform1f(h.uniforms.u_scale_parent,b||1),u.uniform1f(h.uniforms.u_fade_t,_.mix),u.uniform1f(h.uniforms.u_opacity,_.opacity*n.paint["raster-opacity"]),l instanceof c){var x=l.boundsBuffer;l.boundsVAO.bind(u,h,x),u.drawArrays(u.TRIANGLE_STRIP,0,x.length)}else{var C=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(u,h,C),u.drawArrays(u.TRIANGLE_STRIP,0,C.length)}}u.depthFunc(u.LEQUAL)}}function o(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function i(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,r,o){var i=r.paint["raster-fade-duration"];if(i>0){var a=Date.now(),s=(a-t.timeAdded)/i,c=e?(a-e.timeAdded)/i:-1,l=n.getSource(),h=o.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),p=!e||Math.abs(e.coord.z-h)>Math.abs(t.coord.z-h),f=p&&t.refreshedUponExpiration?1:u.clamp(p?s:1-c,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var u=t("../util/util"),c=t("../source/image_source");e.exports=r},{"../source/image_source":91,"../util/util":223}],72:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var i=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=t.gl;i?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),o(t,e,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-pitch-alignment"],n.layout["icon-keep-upright"]),o(t,e,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-keep-upright"]),e.map.showCollisionBoxes&&u(t,e,n,r)}}function o(t,e,n,r,o,s,u,h,p,d){var m=t.gl,y=t.transform,g="map"===h,v="map"===p,_=g&&"line"===n.layout["symbol-placement"],b=g&&!v&&!_,w=v;w?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST);for(var x,C=0,E=r;C<E.length;C+=1){var S=E[C],T=e.getTile(S),P=T.getBucket(n);if(P){var O=o?P.text:P.icon;if(O&&O.segments.get().length){var I=O.programConfigurations.get(n.id),A=o||P.sdfIcons,k=o?P.textSizeData:P.iconSizeData;if(x||(x=t.useProgram(A?"symbolSDF":"symbolIcon",I),I.setUniforms(m,x,n,{zoom:t.transform.zoom}),i(x,t,n,o,b,v,k)),m.activeTexture(m.TEXTURE0),m.uniform1i(x.uniforms.u_texture,0),o)T.glyphAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.uniform2fv(x.uniforms.u_texsize,T.glyphAtlasTexture.size);else{var D=!n.isLayoutValueFeatureConstant("icon-size")||!n.isLayoutValueZoomConstant("icon-size")||1!==n.getLayoutValue("icon-size",{zoom:y.zoom})||P.iconsNeedLinear,R=v||0!==y.pitch;T.iconAtlasTexture.bind(A||t.options.rotating||t.options.zooming||D||R?m.LINEAR:m.NEAREST,m.CLAMP_TO_EDGE),m.uniform2fv(x.uniforms.u_texsize,T.iconAtlasTexture.size)}t.enableTileClippingMask(S),m.uniformMatrix4fv(x.uniforms.u_matrix,!1,t.translatePosMatrix(S.posMatrix,T,s,u));var M=c(T,1,t.transform.zoom),N=l.getLabelPlaneMatrix(S.posMatrix,v,g,t.transform,M),L=l.getGlCoordMatrix(S.posMatrix,v,g,t.transform,M);m.uniformMatrix4fv(x.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(L,T,s,u,!0)),_?(m.uniformMatrix4fv(x.uniforms.u_label_plane_matrix,!1,f),l.updateLineLabels(P,S.posMatrix,t,o,N,L,v,d,M,n)):m.uniformMatrix4fv(x.uniforms.u_label_plane_matrix,!1,N),m.uniform1f(x.uniforms.u_collision_y_stretch,T.collisionTile.yStretch),a(x,I,t,n,T,O,o,A,v)}}}w||m.enable(m.DEPTH_TEST)}function i(t,e,n,r,o,i,a){var s=e.gl,u=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,i?1:0),s.uniform1f(t.uniforms.u_is_text,r?1:0),s.activeTexture(s.TEXTURE1),e.frameHistory.bind(s),s.uniform1i(t.uniforms.u_fadetexture,1),s.uniform1f(t.uniforms.u_pitch,u.pitch/360*2*Math.PI),s.uniform1i(t.uniforms.u_is_size_zoom_constant,a.isZoomConstant?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,a.isFeatureConstant?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var c=h.evaluateSizeForZoom(a,u,n,r);void 0!==c.uSizeT&&s.uniform1f(t.uniforms.u_size_t,c.uSizeT),void 0!==c.uSize&&s.uniform1f(t.uniforms.u_size,c.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,u.width/u.height),s.uniform1i(t.uniforms.u_rotate_symbol,o?1:0)}function a(t,e,n,r,o,i,a,u,c){var l=n.gl,h=n.transform;if(u){var p=(a?"text":"icon")+"-halo-width",f=!r.isPaintValueFeatureConstant(p)||r.paint[p],d=c?Math.cos(h._pitch)*h.cameraToCenterDistance:1;l.uniform1f(t.uniforms.u_gamma_scale,d),f&&(l.uniform1f(t.uniforms.u_is_halo,1),s(i,r,l,t)),l.uniform1f(t.uniforms.u_is_halo,0)}s(i,r,l,t)}function s(t,e,n,r){r.draw(n,n.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer)}var u=t("./draw_collision_debug"),c=t("../source/pixels_to_tile_units"),l=t("../symbol/projection"),h=t("../symbol/symbol_size"),p=t("@mapbox/gl-matrix").mat4,f=p.identity(new Float32Array(16));e.exports=r},{"../source/pixels_to_tile_units":93,"../symbol/projection":175,"../symbol/symbol_size":178,"./draw_collision_debug":66,"@mapbox/gl-matrix":1}],73:[function(t,e,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(t,e,n){var r=this;this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var o;if(e<this.previousZoom)for(o=e+1;o<=this.previousZoom;o++)r.changeTimes[o]=t,r.changeOpacities[o]=r.opacities[o];else for(o=e;o>this.previousZoom;o--)r.changeTimes[o]=t,r.changeOpacities[o]=r.opacities[o];for(o=0;o<256;o++){var i=t-r.changeTimes[o],a=255*(n?i/n:1);r.opacities[o]=o<=e?r.changeOpacities[o]+a:r.changeOpacities[o]-a}this.changed=!0,this.previousZoom=e},r.prototype.isVisible=function(t){return 0!==this.opacities[Math.floor(10*t)]},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=r},{}],74:[function(t,e,n){"use strict";function r(t){var e=a.create({width:0,height:0}),n={},r=new o(0,0,{autoResize:!0});for(var i in t){var u=t[i],c=n[i]={};for(var l in u){var h=u[+l];if(h&&0!==h.bitmap.width&&0!==h.bitmap.height){var p=r.packOne(h.bitmap.width+2*s,h.bitmap.height+2*s);a.resize(e,{width:r.w,height:r.h}),a.copy(h.bitmap,e,{x:0,y:0},{x:p.x+s,y:p.y+s},h.bitmap),c[l]={rect:p,metrics:h.metrics}}}}return r.shrink(),a.resize(e,{width:r.w,height:r.h}),{image:e,positions:n}}var o=t("@mapbox/shelf-pack"),i=t("../util/image"),a=i.AlphaImage,s=1;e.exports={makeGlyphAtlas:r}},{"../util/image":213,"@mapbox/shelf-pack":3}],75:[function(t,e,n){"use strict";var r=t("../style/load_glyph_range"),o=t("@mapbox/tiny-sdf"),i=t("../util/is_char_in_unicode_block"),a=t("../util/util"),s=a.asyncAll,u=t("../util/image"),c=u.AlphaImage,l=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};l.prototype.setURL=function(t){this.url=t},l.prototype.getGlyphs=function(t,e){var n=this,o=[];for(var i in t)for(var a=0,u=t[i];a<u.length;a+=1){var c=u[a];o.push({stack:i,id:c})}s(o,function(t,e){var o=t.stack,i=t.id,a=n.entries[o];a||(a=n.entries[o]={glyphs:{},requests:{}});var s=a.glyphs[i];if(void 0!==s)return void e(null,{stack:o,id:i,glyph:s});if(s=n._tinySDF(a,o,i))return void e(null,{stack:o,id:i,glyph:s});var u=Math.floor(i/256);if(256*u>65535)return void e(new Error("glyphs > 65535 not supported"));var c=a.requests[u];c||(c=a.requests[u]=[],r(o,u,n.url,n.requestTransform,function(t,e){if(e)for(var n in e)a.glyphs[+n]=e[+n];for(var r=0,o=c;r<o.length;r+=1)(0,o[r])(t,e);delete a.requests[u]})),c.push(function(t,n){t?e(t):n&&e(null,{stack:o,id:i,glyph:n[i]||null})})},function(t,n){if(t)e(t);else if(n){for(var r={},o=0,i=n;o<i.length;o+=1){var a=i[o],s=a.stack,u=a.id,c=a.glyph;(r[s]||(r[s]={}))[u]=c}e(null,r)}})},l.prototype._tinySDF=function(t,e,n){var r=this.localIdeographFontFamily;if(r&&(i["CJK Unified Ideographs"](n)||i["Hangul Syllables"](n))){var a=t.tinySDF;if(!a){var s="400";/bold/i.test(e)?s="900":/medium/i.test(e)?s="500":/light/i.test(e)&&(s="200"),a=t.tinySDF=new o(24,3,8,.25,r,s)}return{id:n,bitmap:c.create({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=l},{"../style/load_glyph_range":152,"../util/image":213,"../util/is_char_in_unicode_block":215,"../util/util":223,"@mapbox/tiny-sdf":4}],76:[function(t,e,n){"use strict";function r(t,e){var n=e.pixelRatio,r={x:t.x+u,y:t.y+u,w:t.w-2*u,h:t.h-2*u};return{pixelRatio:n,textureRect:r,tl:[r.x,r.y],br:[r.x+r.w,r.y+r.h],displaySize:[r.w/n,r.h/n]}}function o(t){var e=s.create({width:0,height:0}),n={},o=new i(0,0,{autoResize:!0});for(var a in t){var c=t[a],l=o.packOne(c.data.width+2*u,c.data.height+2*u);s.resize(e,{width:o.w,height:o.h}),s.copy(c.data,e,{x:0,y:0},{x:l.x+u,y:l.y+u},c.data),n[a]=r(l,c)}return o.shrink(),s.resize(e,{width:o.w,height:o.h}),{image:e,positions:n}}var i=t("@mapbox/shelf-pack"),a=t("../util/image"),s=a.RGBAImage,u=1;e.exports={imagePosition:r,makeImageAtlas:o}},{"../util/image":213,"@mapbox/shelf-pack":3}],77:[function(t,e,n){"use strict";var r=t("@mapbox/shelf-pack"),o=t("../util/image"),i=o.RGBAImage,a=t("./image_atlas"),s=a.imagePosition,u=t("./texture"),c=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new r(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=i.create({width:64,height:64}),this.dirty=!0};c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var n=0,r=e.requestors;n<r.length;n+=1){var o=r[n],i=o.ids,a=o.callback;e._notify(i,a)}this.requestors=[]}},c.prototype.getImage=function(t){return this.images[t]},c.prototype.addImage=function(t,e){this.images[t]=e},c.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},c.prototype.getImages=function(t,e){var n=this,r=!0;if(!this.isLoaded())for(var o=0,i=t;o<i.length;o+=1){var a=i[o];n.images[a]||(r=!1)}this.isLoaded()||r?this._notify(t,e):this.requestors.push({ids:t,callback:e})},c.prototype._notify=function(t,e){for(var n=this,r={},o=0,i=t;o<i.length;o+=1){var a=i[o],s=n.images[a];s&&(r[a]=s)}e(null,r)},c.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},c.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var r=n.data.width+2,o=n.data.height+2,a=this.shelfPack.packOne(r,o);if(!a)return null;i.resize(this.atlasImage,this.getPixelSize());var u=n.data,c=this.atlasImage,l=a.x+1,h=a.y+1,p=u.width,f=u.height;i.copy(u,c,{x:0,y:0},{x:l,y:h},{width:p,height:f}),i.copy(u,c,{x:0,y:f-1},{x:l,y:h-1},{width:p,height:1}),i.copy(u,c,{x:0,y:0},{x:l,y:h+f},{width:p,height:1}),i.copy(u,c,{x:p-1,y:0},{x:l-1,y:h},{width:1,height:f}),i.copy(u,c,{x:0,y:0},{x:l+p,y:h},{width:1,height:f}),this.dirty=!0;var d=s(a,n);return this.patterns[t]={bin:a,position:d},d},c.prototype.bind=function(t){this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new u(t,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},e.exports=c},{"../util/image":213,"./image_atlas":76,"./texture":83,"@mapbox/shelf-pack":3}],78:[function(t,e,n){"use strict";var r=t("../util/util"),o=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};o.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},o.prototype.addDash=function(t,e){var n=this,o=e?7:0,i=2*o+1;if(this.nextRow+i>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var u=this.width/a,c=u/2,l=t.length%2==1,h=-o;h<=o;h++)for(var p=n.nextRow+o+h,f=n.width*p,d=l?-t[t.length-1]:0,m=t[0],y=1,g=0;g<this.width;g++){for(;m<g/u;)d=m,m+=t[y],l&&y===t.length-1&&(m+=t[0]),y++;var v=Math.abs(g-d*u),_=Math.abs(g-m*u),b=Math.min(v,_),w=y%2==1,x=void 0;if(e){var C=o?h/o*(c+1):0;if(w){var E=c-Math.abs(C);x=Math.sqrt(b*b+E*E)}else x=c-Math.sqrt(b*b+C*C)}else x=(w?1:-1)*b;n.data[3+4*(f+g)]=Math.max(0,Math.min(255,x+128))}var S={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:a};return this.nextRow+=i,this.dirty=!0,S},o.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=o},{"../util/util":223}],79:[function(t,e,n){"use strict";var r=t("../util/browser"),o=t("@mapbox/gl-matrix").mat4,i=t("./frame_history"),a=t("../source/source_cache"),s=t("../data/extent"),u=t("../source/pixels_to_tile_units"),c=t("../util/util"),l=t("../gl/vertex_buffer"),h=t("./vertex_array_object"),p=t("../data/raster_bounds_array"),f=t("../data/pos_array"),d=t("../data/program_configuration"),m=d.ProgramConfiguration,y=t("../shaders"),g=t("./program"),v=t("./render_texture"),_={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},b=function(t,e){this.gl=t,this.transform=e,this._tileTextures={},this.prerenderedFrames={},this.viewportFrames=[],this.frameHistory=new i,this.setup(),this.numSublayers=a.maxUnderzooming+a.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=m.createBasicFill(),this.emptyProgramConfiguration=new m};b.prototype.resize=function(t,e){var n=this,o=this.gl;this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,o.viewport(0,0,this.width,this.height);for(var i=0,a=n.viewportFrames;i<a.length;i+=1){var s=a[i];n.gl.deleteTexture(s.texture),n.gl.deleteFramebuffer(s.fbo)}this.viewportFrames=[],this.depthRbo&&(this.gl.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},b.prototype.setup=function(){var t=this.gl;t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new f;e.emplaceBack(0,0),e.emplaceBack(s,0),e.emplaceBack(0,s),e.emplaceBack(s,s),this.tileExtentBuffer=new l(t,e),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var n=new f;n.emplaceBack(0,0),n.emplaceBack(s,0),n.emplaceBack(s,s),n.emplaceBack(0,s),n.emplaceBack(0,0),this.debugBuffer=new l(t,n),this.debugVAO=new h;var r=new p;r.emplaceBack(0,0,0,0),r.emplaceBack(s,0,s,0),r.emplaceBack(0,s,0,s),r.emplaceBack(s,s,s,s),this.rasterBoundsBuffer=new l(t,r),this.rasterBoundsVAO=new h,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))},b.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},b.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},b.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},b.prototype._renderTileClippingMasks=function(t){var e=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=e._tileClippingMaskIDs[a.id]=r++;n.stencilFunc(n.ALWAYS,s,255);var u=e.useProgram("fill",e.basicFillProgramConfiguration);n.uniformMatrix4fv(u.uniforms.u_matrix,!1,a.posMatrix),e.tileExtentVAO.bind(n,u,e.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},b.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],255)},b.prototype.render=function(t,e){var n=this;this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration);for(var r in n.style.sourceCaches){var o=n.style.sourceCaches[r];o.used&&o.prepare(n.gl)}var i=this.style._order;this.renderPass="3d";for(var a,s=!0,u=[],c=0;c<i.length;c++){var l=n.style._layers[i[c]];if(l.has3DPass()&&!l.isHidden(n.transform.zoom)&&(l.source!==(a&&a.id)&&(a=n.style.sourceCaches[l.source],u=[],a&&(n.clearStencil(),u=a.getVisibleCoordinates()),u.reverse()),u.length)){n._setup3DRenderbuffer();var h=n.viewportFrames.pop()||new v(n);h.bindWithDepth(n.depthRbo),s&&(n.clearDepth(),s=!1),n.renderLayer(n,a,l,u),h.unbind(),n.prerenderedFrames[l.id]=h}}this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var p,f=[];for(this.currentLayer=i.length-1,this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.currentLayer;this.currentLayer>=0;this.currentLayer--){var d=n.style._layers[i[n.currentLayer]];d.source!==(p&&p.id)&&(p=n.style.sourceCaches[d.source],f=[],p&&(n.clearStencil(),f=p.getVisibleCoordinates(),p.getSource().isTileClipped&&n._renderTileClippingMasks(f))),n.renderLayer(n,p,d,f)}this.renderPass="translucent";var m,y=[];for(this.gl.enable(this.gl.BLEND),this.currentLayer=0,this.currentLayer;this.currentLayer<i.length;this.currentLayer++){var g=n.style._layers[i[n.currentLayer]];g.source!==(m&&m.id)&&(m=n.style.sourceCaches[g.source],y=[],m&&(n.clearStencil(),y=m.getVisibleCoordinates(),m.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,m,g,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&_.debug(this,b,b.getVisibleCoordinates())}},b.prototype._setup3DRenderbuffer=function(){if(!this.depthRbo){var t=this.gl;this.depthRbo=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRbo),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}this.depthRboAttached=!0},b.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},b.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,_[n.type](t,e,n,r))},b.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},b.prototype.translatePosMatrix=function(t,e,n,r,i){if(!n[0]&&!n[1])return t;var a=i?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var s=Math.sin(a),c=Math.cos(a);n=[n[0]*c-n[1]*s,n[0]*s+n[1]*c]}var l=[i?n[0]:u(e,n[0],this.transform.zoom),i?n[1]:u(e,n[1],this.transform.zoom),0],h=new Float32Array(16);return o.translate(h,t,l),h},b.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size];e?e.push(t):this._tileTextures[t.size]=[t]},b.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},b.prototype.lineWidth=function(t){this.gl.lineWidth(c.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},b.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;t?(e.blendFunc(e.CONSTANT_COLOR,e.ONE),e.blendColor(1/8,1/8,1/8,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)):e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},b.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new g(this.gl,y[t],e,this._showOverdrawInspector)),this.cache[n]},b.prototype.useProgram=function(t,e){var n=this.gl,r=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},e.exports=b},{"../data/extent":48,"../data/pos_array":52,"../data/program_configuration":53,"../data/raster_bounds_array":54,"../gl/vertex_buffer":62,"../shaders":86,"../source/pixels_to_tile_units":93,"../source/source_cache":98,"../util/browser":202,"../util/util":223,"./draw_background":64,"./draw_circle":65,"./draw_debug":67,"./draw_fill":68,"./draw_fill_extrusion":69,"./draw_line":70,"./draw_raster":71,"./draw_symbol":72,"./frame_history":73,"./program":81,"./render_texture":82,"./vertex_array_object":84,"@mapbox/gl-matrix":1}],80:[function(t,e,n){"use strict";var r=t("../source/pixels_to_tile_units");n.isPatternMissing=function(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);return!n||!r},n.prepare=function(t,e,n){var r=e.gl,o=e.imageManager.getPattern(t.from),i=e.imageManager.getPattern(t.to);r.uniform1i(n.uniforms.u_image,0),r.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),r.uniform2fv(n.uniforms.u_pattern_br_a,o.br),r.uniform2fv(n.uniforms.u_pattern_tl_b,i.tl),r.uniform2fv(n.uniforms.u_pattern_br_b,i.br);var a=e.imageManager.getPixelSize(),s=a.width,u=a.height;r.uniform2fv(n.uniforms.u_texsize,[s,u]),r.uniform1f(n.uniforms.u_mix,t.t),r.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),r.uniform2fv(n.uniforms.u_pattern_size_b,i.displaySize),r.uniform1f(n.uniforms.u_scale_a,t.fromScale),r.uniform1f(n.uniforms.u_scale_b,t.toScale),r.activeTexture(r.TEXTURE0),e.imageManager.bind(r)},n.setTile=function(t,e,n){var o=e.gl;o.uniform1f(n.uniforms.u_tile_units_to_pixels,1/r(t,1,e.transform.tileZoom));var i=Math.pow(2,t.coord.z),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,s=a*(t.coord.x+t.coord.w*i),u=a*t.coord.y;o.uniform2f(n.uniforms.u_pixel_coord_upper,s>>16,u>>16),o.uniform2f(n.uniforms.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":93}],81:[function(t,e,n){"use strict";var r=t("../util/browser"),o=t("../shaders"),i=t("../data/program_configuration"),a=(i.ProgramConfiguration,t("./vertex_array_object")),s=function(t,e,n,i){var a=this;this.gl=t,this.program=t.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));i&&s.push("#define OVERDRAW_INSPECTOR;");var u=s.concat(o.prelude.fragmentSource,e.fragmentSource).join("\n"),c=s.concat(o.prelude.vertexSource,e.vertexSource).join("\n"),l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,u),t.compileShader(l),t.attachShader(this.program,l);var h=t.createShader(t.VERTEX_SHADER);t.shaderSource(h,c),t.compileShader(h),t.attachShader(this.program,h);for(var p=n.interface?n.interface.layoutAttributes:[],f=0;f<p.length;f++)t.bindAttribLocation(a.program,f,p[f].name);t.linkProgram(this.program),this.numAttributes=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var m=t.getActiveAttrib(a.program,d);m&&(a.attributes[m.name]=t.getAttribLocation(a.program,m.name))}for(var y=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),g=0;g<y;g++){var v=t.getActiveUniform(a.program,g);v&&(a.uniforms[v.name]=t.getUniformLocation(a.program,v.name))}};s.prototype.draw=function(t,e,n,r,o,i,s,u){for(var c,l=this,h=(c={},c[t.LINES]=2,c[t.TRIANGLES]=3,c)[e],p=0,f=i.get();p<f.length;p+=1){var d=f[p],m=d.vaos||(d.vaos={});(m[n]||(m[n]=new a)).bind(t,l,r,o,s&&s.paintVertexBuffer,d.vertexOffset,u),t.drawElements(e,d.primitiveLength*h,t.UNSIGNED_SHORT,d.primitiveOffset*h*2)}},e.exports=s},{"../data/program_configuration":53,"../shaders":86,"../util/browser":202,"./vertex_array_object":84}],82:[function(t,e,n){"use strict";var r=t("../gl/vertex_buffer"),o=t("./vertex_array_object"),i=t("../data/pos_array"),a=function(t){var e=this.gl=t.gl,n=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null);var a=this.fbo=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var s=new i;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1),this.buffer=new r(e,s),this.vao=new o};a.prototype.bindWithDepth=function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),this.attachedRbo!==t&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.attachedRbo=t)},a.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},e.exports=a},{"../data/pos_array":52,"../gl/vertex_buffer":62,"./vertex_array_object":84}],83:[function(t,e,n){"use strict";var r=function(t,e,n){this.gl=t;var r=e.width,o=e.height;this.size=[r,o],this.format=n,this.texture=t.createTexture(),this.update(e)};r.prototype.update=function(t){var e=t.width,n=t.height,r=t.data;this.size=[e,n];var o=this,i=o.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.pixelStorei(i.UNPACK_ALIGNMENT,1),this.format===i.RGBA&&i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,i.UNSIGNED_BYTE,r)},r.prototype.bind=function(t,e){var n=this,r=n.gl;r.bindTexture(r.TEXTURE_2D,this.texture),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture),this.texture=null},e.exports=r},{}],84:[function(t,e,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};r.prototype.bind=function(t,e,n,r,o,i,a){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var s=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==o||this.boundIndexBuffer!==r||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a;!t.extVertexArrayObject||s?(this.freshBind(t,e,n,r,o,i,a),this.gl=t):(t.extVertexArrayObject.bindVertexArrayOES(this.vao),a&&a.bind())},r.prototype.freshBind=function(t,e,n,r,o,i,a){var s,u=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),s=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a;else{s=t.currentNumAttributes||0;for(var c=u;c<s;c++)t.disableVertexAttribArray(c)}n.enableAttributes(t,e),o&&o.enableAttributes(t,e),a&&a.enableAttributes(t,e),n.bind(),n.setVertexAttribPointers(t,e,i),o&&(o.bind(),o.setVertexAttribPointers(t,e,i)),a&&(a.bind(),a.setVertexAttribPointers(t,e,i)),r&&r.bind(),t.currentNumAttributes=u},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=r},{}],85:[function(t,e,n){"use strict";var r=t("../util/util");n.packUint8ToFloat=function(t,e){return t=r.clamp(Math.floor(t),0,255),e=r.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":223}],86:[function(t,e,n){"use strict";var r={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\n// u_maxzoom is derived from the maximum scale considered by the CollisionTile\n// Labels with placement zoom greater than this value will not be placed,\n// regardless of perspective effects.\nuniform float u_maxzoom;\nuniform sampler2D u_fadetexture;\n\n// v_max_zoom is a collision-box-specific value that controls when line-following\n// collision boxes are used.\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Green = no collisions, label is showing\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    // Red = collision, label hidden\n    if (texture2D(u_fadetexture, v_fade_tex).a < 1.0) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    // Faded black = this collision box is not used at this zoom (for curved labels)\n    if (u_zoom >= v_max_zoom + v_perspective_zoom_adjust) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    // Faded blue = the placement scale for this label is beyond the CollisionTile\n    // max scale, so it's impossible for this label to show without collision detection\n    // being run again (the label's glyphs haven't even been added to the symbol bucket)\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\nuniform float u_pitch;\nuniform float u_collision_y_stretch;\nuniform float u_camera_to_center_distance;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 1.0 + 0.5 * ((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    gl_Position = u_matrix * vec4(a_pos + a_extrude * collision_perspective_ratio * collision_adjustment / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n\n    v_perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((v_placement_zoom + v_perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    gl_Position = u_matrix * vec4(a_pos, step(8192.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_collision_y_stretch;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    // See comments in symbol_sdf.vertex\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    vec2 fade_tex = v_data0.zw;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, fade_tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_collision_y_stretch;\n\nuniform vec2 u_texsize;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    // incidence_stretch is the ratio of how much y space a label takes up on a tile while drawn perpendicular to the viewport vs\n    //  how much space it would take up if it were drawn flat on the tile\n    // Using law of sines, camera_to_anchor/sin(ground_angle) = camera_to_center/sin(incidence_angle)\n    // sin(incidence_angle) = 1/incidence_stretch\n    // Incidence angle 90 -> head on, sin(incidence_angle) = 1, no incidence stretch\n    // Incidence angle 1 -> very oblique, sin(incidence_angle) =~ 0, lots of incidence stretch\n    // ground_angle = u_pitch + PI/2 -> sin(ground_angle) = cos(u_pitch)\n    // This 2D calculation is only exactly correct when gl_Position.x is in the center of the viewport,\n    //  but it's a close enough approximation for our purposes\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    // incidence_stretch only applies to the y-axis, but without re-calculating the collision tile, we can't\n    // adjust the size of only one axis. So, we do a crude approximation at placement time to get the aspect ratio\n    // about right, and then do the rest of the adjustment here: there will be some extra padding on the x-axis,\n    // but hopefully not too much.\n    // Never make the adjustment less than 1.0: instead of allowing collisions on the x-axis, be conservative on\n    // the y-axis.\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    // Floor to 1/10th zoom to dodge precision issues that can cause partially hidden labels\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    vec2 fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n\n    v_data0 = vec4(tex.x, tex.y, fade_tex.x, fade_tex.y);\n    v_data1 = vec2(gamma_scale, size);\n}\n"}},o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var i in r)!function(t){var e=r[t],n={};e.fragmentSource=e.fragmentSource.replace(o,function(t,e,r,o,i){return n[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(o,function(t,e,r,o,i){var a="float"===o?"vec2":"vec4";return n[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"})}(i);e.exports=r},{}],87:[function(t,e,n){"use strict";var r=t("./image_source"),o=t("../util/window"),i=function(t){function e(e,n,r,o){t.call(this,e,n,r,o),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){this.canvas=this.canvas||o.document.getElementById(this.options.canvas);var t=this.canvas.getContext(this.options.contextType);if(!t)return this.fire("error",new Error("Canvas context not found."));if(this.context=t,this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var e;this.play=function(){void 0===e&&(e=this.map.style.animationLoop.set(1/0),this.map._rerender())},this.pause=function(){void 0!==e&&(e=this.map.style.animationLoop.cancel(e))},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.readCanvas=function(t){var e=this;if(this.context instanceof CanvasRenderingContext2D)this.canvasData=this.context.getImageData(0,0,this.width,this.height);else if(this.context instanceof WebGLRenderingContext){var n=this.context,r=new Uint8Array(this.width*this.height*4);n.readPixels(0,0,this.width,this.height,n.RGBA,n.UNSIGNED_BYTE,r),this.secondaryContext||(this.secondaryContext=o.document.createElement("canvas").getContext("2d")),this.canvasData&&!t||(this.canvasData=this.secondaryContext.createImageData(this.width,this.height));for(var i=this.height-1,a=0;i>=0;i--,a++)e.canvasData.data.set(r.subarray(i*e.width*4,(i+1)*e.width*4),a*e.width*4)}},e.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){if((this.animate||!this.canvasData||t)&&this.readCanvas(t),!this.canvasData)return void this.fire("error",new Error("Could not read canvas data."));this._prepareImage(this.map.painter.gl,this.canvasData,t)}},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var r=n[e];if(isNaN(r)||r<=0)return!0}return!1},e}(r);e.exports=i},{"../util/window":204,"./image_source":91}],88:[function(t,e,n){"use strict";function r(t){var e=a.document.createElement("a");return e.href=t,e.href}var o=t("../util/evented"),i=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),u=t("../util/ajax").ResourceType,c=t("../util/browser"),l=function(t){function e(e,n,r,o){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(o),this._data=n.data,this._options=i.extend({},n),void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return void t.fire("error",{error:e});t.fire("data",{dataType:"source",sourceDataType:"metadata"})})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},e.prototype._updateWorkerData=function(t){var e=this,n=i.extend({},this.workerOptions),o=this._data;"string"==typeof o?n.request=this.map._transformRequest(r(o),u.Source):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){e._loaded=!0,t(n)},this.workerID)},e.prototype.loadTile=function(t,e){var n=this,r=t.workerID&&"expired"!==t.state?"reloadTile":"loadTile",o={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:c.devicePixelRatio,overscaling:t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(r,o,function(r,o){if(t.unloadVectorData(),!t.aborted)return r?e(r):(t.loadVectorData(o,n.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(n)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},e}(o);e.exports=l},{"../data/extent":48,"../util/ajax":201,"../util/browser":202,"../util/evented":210,"../util/util":223,"../util/window":204}],89:[function(t,e,n){"use strict";function r(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var o=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!o)return e(null,null);var i=new a(o.features),u=s(i);0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),e(null,{vectorTile:i,rawData:u.buffer})}var o=t("../util/ajax"),i=t("geojson-rewind"),a=t("./geojson_wrapper"),s=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),l=t("./vector_tile_worker_source"),h=function(t){function e(e,n,o){t.call(this,e,n,r),o&&(this.loadGeoJSON=o),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var n=this;this.loadGeoJSON(t,function(r,o){if(r||!o)return e(r);if("object"!=typeof o)return e(new Error("Input data is not a valid GeoJSON object."));i(o,!0);try{n._geoJSONIndexes[t.source]=t.cluster?u(t.superclusterOptions).load(o.features):c(o,t.geojsonVtOptions)}catch(r){return e(r)}n.loaded[t.source]={},e(null)})},e.prototype.reloadTile=function(e,n){var r=this.loaded[e.source],o=e.uid;return r&&r[o]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},e.prototype.loadGeoJSON=function(t,e){if(t.request)o.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},e}(l);e.exports=h},{"../util/ajax":201,"./geojson_wrapper":90,"./vector_tile_worker_source":103,"geojson-rewind":13,"geojson-vt":17,supercluster:32,"vt-pbf":37}],90:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),o=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,i=t("../data/extent"),a=function(t){this._feature=t,this.extent=i,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};a.prototype.loadGeometry=function(){var t=this;if(1===this._feature.type){for(var e=[],n=0,o=t._feature.geometry;n<o.length;n+=1){var i=o[n];e.push([new r(i[0],i[1])])}return e}for(var a=[],s=0,u=t._feature.geometry;s<u.length;s+=1){for(var c=u[s],l=[],h=0,p=c;h<p.length;h+=1){var f=p[h];l.push(new r(f[0],f[1]))}a.push(l)}return a},a.prototype.toGeoJSON=function(t,e,n){return o.call(this,t,e,n)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new a(this._features[t])},e.exports=s},{"../data/extent":48,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],91:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/window"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("@mapbox/point-geometry"),u=t("../util/evented"),c=t("../util/ajax"),l=t("../util/browser"),h=t("../data/extent"),p=t("../data/raster_bounds_array"),f=t("../gl/vertex_buffer"),d=t("../render/vertex_array_object"),m=function(t){function e(e,n,r,o){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=n,this.textureLoaded=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,c.getImage(this.map._transformRequest(this.url,c.ResourceType.Image),function(e,n){e?t.fire("error",{error:e}):n&&(t.image=l.getImageData(n),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),o=this.centerCoord=r.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.coord=new i(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var u=n.map(function(t){var e=t.zoomTo(o.zoom);return new s(Math.round((e.column-o.column)*h),Math.round((e.row-o.row)*h))});return this._boundsArray=new p,this._boundsArray.emplaceBack(u[0].x,u[0].y,0,0),this._boundsArray.emplaceBack(u[1].x,u[1].y,h,0),this._boundsArray.emplaceBack(u[3].x,u[3].y,0,h),this._boundsArray.emplaceBack(u[2].x,u[2].y,h,h),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){0!==Object.keys(this.tiles).length&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,n){var r=this;this.boundsBuffer||(this.boundsBuffer=new f(t,this._boundsArray)),this.boundsVAO||(this.boundsVAO=new d),this.textureLoaded?n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof o.HTMLVideoElement||e instanceof o.ImageData)&&(t.bindTexture(t.TEXTURE_2D,this.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e)):(this.textureLoaded=!0,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e));for(var i in r.tiles){var a=r.tiles[i];"loaded"!==a.state&&(a.state="loaded",a.texture=r.texture)}},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this.tiles[String(t.coord.w)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e}(u);e.exports=m},{"../data/extent":48,"../data/raster_bounds_array":54,"../geo/lng_lat":58,"../gl/vertex_buffer":62,"../render/vertex_array_object":84,"../util/ajax":201,"../util/browser":202,"../util/evented":210,"../util/util":223,"../util/window":204,"./tile_coord":101,"@mapbox/point-geometry":2}],92:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/ajax"),i=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,n){var s=function(t,e){if(t)return n(t);if(e){var o=r.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(o.vectorLayers=e.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};t.url?o.getJSON(e(a(t.url),o.ResourceType.Source),s):i.frame(function(){return s(null,t)})}},{"../util/ajax":201,"../util/browser":202,"../util/mapbox":217,"../util/util":223}],93:[function(t,e,n){"use strict";var r=t("../data/extent");e.exports=function(t,e,n){return e*(r/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/extent":48}],94:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function o(t){for(var e={},n={},r=0,o=t;r<o.length;r+=1){var i=o[r],a=i.queryResults,s=i.wrappedTileID,u=n[s]=n[s]||{};for(var c in a)for(var l=a[c],h=u[c]=u[c]||{},p=e[c]=e[c]||[],f=0,d=l;f<d.length;f+=1){var m=d[f];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m.feature))}}return e}var i=t("./tile_coord");n.rendered=function(t,e,n,i,a,s){var u=t.tilesIn(n);u.sort(r);for(var c=[],l=0,h=u;l<h.length;l+=1){var p=h[l];c.push({wrappedTileID:p.coord.wrapped().id,queryResults:p.tile.queryRenderedFeatures(e,p.queryGeometry,p.scale,i,s)})}return o(c)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],o={},a=0;a<n.length;a++){var s=n[a],u=new i(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[u]||(o[u]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":101}],95:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/ajax"),i=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,u=t("./tile_bounds"),c=function(t){function e(e,n,o,i){t.call(this),this.id=e,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({},n),r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(r.extend(t,n),n.bounds&&(t.tileBounds=new u(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.loadTile=function(t,e){var n=this,r=s(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=o.getImage(this.map._transformRequest(r,o.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)n.state="unloaded",e(null);else if(r)n.state="errored",e(r);else if(o){n.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var i=n.map.painter.gl;t.texture=n.map.painter.getTileTexture(o.width),t.texture?(i.bindTexture(i.TEXTURE_2D,t.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,o)):(t.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.map.painter.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,n.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.map.painter.extTextureFilterAnisotropicMax),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,o),t.texture.size=o.width),i.generateMipmap(i.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},e.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},e}(i);e.exports=c},{"../util/ajax":201,"../util/evented":210,"../util/mapbox":217,"../util/util":223,"./load_tilejson":92,"./tile_bounds":100}],96:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("../util/evented"),i=t("../util/window"),a=!1,s=null;e.exports.evented=new o,e.exports.registerForPluginAvailability=function(t){return s?t({pluginBlobURL:s,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return i.URL.createObjectURL(new i.Blob([t.data],{type:"text/javascript"}))},e.exports.clearRTLTextPlugin=function(){a=!1,s=null},e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,r.getArrayBuffer({url:t},function(t,r){t?n(t):r&&(s=e.exports.createBlobURL(r),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null},{"../util/ajax":201,"../util/evented":210,"../util/window":204}],97:[function(t,e,n){"use strict";var r=t("../util/util"),o={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,i){var a=new o[e.type](t,e,n,i);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return r.bindAll(["load","abort","unload","serialize","prepare"],a),a},n.getType=function(t){return o[t]},n.setType=function(t,e){o[t]=e}},{"../source/canvas_source":87,"../source/geojson_source":88,"../source/image_source":91,"../source/raster_tile_source":95,"../source/vector_tile_source":102,"../source/video_source":104,"../util/util":223}],98:[function(t,e,n){"use strict";function r(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return new d((r.column-(t.x+t.w*Math.pow(2,t.z)))*f,(r.row-t.y)*f)}function o(t,e){return t%32-e%32}function i(t){return"raster"===t||"image"===t||"video"===t}var a=t("./source").create,s=t("./tile"),u=t("../util/evented"),c=t("./tile_coord"),l=t("../util/lru_cache"),h=t("../geo/coordinate"),p=t("../util/util"),f=t("../data/extent"),d=t("@mapbox/point-geometry"),m=function(t){function e(e,n,r){var o=this;t.call(this),this.id=e,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=a(e,n,r,this),this._tiles={},this._cache=new l(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(t){var e=this;this._source.prepare&&this._source.prepare();for(var n in e._tiles)e._tiles[n].upload(t)},e.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(o)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype._isIdRenderable=function(t){return this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._cache.reset();for(var e in t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire("error",{tile:t,error:r}):this.update(this.transform));t.timeAdded=(new Date).getTime(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,n){var r=this,o=!1;for(var i in r._tiles){var a=r._tiles[i];if(!(n[i]||!a.hasData()||a.coord.z<=t.z||a.coord.z>e)){var s=Math.pow(2,Math.min(a.coord.z,r._source.maxzoom)-Math.min(t.z,r._source.maxzoom));if(Math.floor(a.coord.x/s)===t.x&&Math.floor(a.coord.y/s)===t.y)for(n[i]=!0,o=!0;a&&a.coord.z-1>t.z;){var u=a.coord.parent(r._source.maxzoom);if(!u)break;(a=r._tiles[u.id])&&a.hasData()&&(delete n[i],n[u.id]=!0)}}}return o},e.prototype.findLoadedParent=function(t,e,n){for(var r=this,o=t.z-1;o>=e;o--){var i=t.parent(r._source.maxzoom);if(!i)return;t=i;var a=String(t.id),s=r._tiles[a];if(s&&s.hasData())return n[a]=!0,s;if(r._cache.has(a))return n[a]=!0,r._cache.getWithoutRemoving(a)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,r=e*n,o=Math.floor(5*r),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(i)},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){this.updateCacheSize(t),this._coveredTiles={};var r;this.used?this._source.coord?r=t.getVisibleWrappedCoordinates(this._source.coord):(r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(t){return n._source.hasTile(t)}))):r=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(o-e.maxOverzooming,this._source.minzoom),s=Math.max(o+e.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(r,o),l={};if(i(this._source.type))for(var h=Object.keys(u),f=0;f<h.length;f++){var d=h[f],m=c.fromID(+d),y=n._tiles[d];if(y&&(void 0===y.fadeEndTime||y.fadeEndTime>=Date.now())){n._findLoadedChildren(m,s,u)&&(u[d]=!0);var g=n.findLoadedParent(m,a,l);g&&n._addTile(g.coord)}}var v;for(v in l)u[v]||(n._coveredTiles[v]=!0);for(v in l)u[v]=!0;for(var _=p.keysDifference(this._tiles,u),b=0;b<_.length;b++)n._removeTile(_[b])}},e.prototype._updateRetainedTiles=function(t,n){var r,o,i,a,s=this,u={},c={},l=Math.max(n-e.maxOverzooming,this._source.minzoom);for(r=0;r<t.length;r++){o=t[r],i=s._addTile(o);var h=!1;if(i.hasData())u[o.id]=!0;else{if(h=i.wasRequested(),u[o.id]=!0,a=!0,n+1>s._source.maxzoom){var p=o.children(s._source.maxzoom)[0],f=s.getTile(p);f&&f.hasData()?u[p.id]=!0:a=!1}else for(var d=o.children(s._source.maxzoom),m=0;m<d.length;m++){var y=d[m],g=y?s.getTile(y):null;g&&g.hasData()?u[y.id]=!0:a=!1}if(!a)for(var v=n-1;v>=l;--v){var _=o.scaledTo(v,s._source.maxzoom);if(c[_.id])break;if(c[_.id]=!0,i=s.getTile(_),!i&&h&&(i=s._addTile(_)),i&&(u[_.id]=!0,h=i.wasRequested(),i.hasData()))break}}}return u},e.prototype._addTile=function(t){var e=this._tiles[t.id];if(e)return e;(e=this._cache.get(t.id))&&(e.redoPlacement(this._source),this._cacheTimers[t.id]&&(clearTimeout(this._cacheTimers[t.id]),delete this._cacheTimers[t.id],this._setTileReloadTimer(t.id,e)));var n=Boolean(e);if(!n){var r=t.z,o=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;e=new s(t,this._source.tileSize*o,this._source.maxzoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e?(e.uses++,this._tiles[t.id]=e,n||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e):null},e.prototype._setTileReloadTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),delete n._cacheTimers[t]},r))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.stopPlacementThrottler(),e.hasData()){var n=e.coord.wrapped().id;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n=[],o=this.getIds(),i=1/0,a=1/0,s=-1/0,u=-1/0,l=t[0].zoom,p=0;p<t.length;p++){var d=t[p];i=Math.min(i,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),u=Math.max(u,d.row)}for(var m=0;m<o.length;m++){var y=e._tiles[o[m]],g=c.fromID(o[m]),v=[r(g,y.sourceMaxZoom,new h(i,a,l)),r(g,y.sourceMaxZoom,new h(s,u,l))];if(v[0].x<f&&v[0].y<f&&v[1].x>=0&&v[1].y>=0){for(var _=[],b=0;b<t.length;b++)_.push(r(g,y.sourceMaxZoom,t[b]));n.push({tile:y,coord:g,queryGeometry:[_],scale:Math.pow(2,e.transform.zoom-y.coord.z)})}}return n},e.prototype.redoPlacement=function(){for(var t=this,e=this.getIds(),n=0;n<e.length;n++)t.getTileByID(e[n]).redoPlacement(t._source)},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(c.fromID),n=0,r=e;n<r.length;n+=1){var o=r[n];o.posMatrix=t.transform.calculatePosMatrix(o,t._source.maxzoom)}return e},e}(u);m.maxOverzooming=10,m.maxUnderzooming=3,e.exports=m},{"../data/extent":48,"../geo/coordinate":57,"../util/evented":210,"../util/lru_cache":216,"../util/util":223,"./source":97,"./tile":99,"./tile_coord":101,"@mapbox/point-geometry":2}],99:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../data/bucket").deserialize,i=t("../data/bucket/symbol_bucket"),a=t("../data/feature_index"),s=t("@mapbox/vector-tile"),u=t("pbf"),c=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),h=t("../symbol/collision_tile"),p=t("../symbol/collision_box"),f=t("../util/throttler"),d=t("../render/texture"),m=function(t,e,n){this.coord=t,this.uid=r.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading",this.placementThrottler=new f(300,this._immediateRedoPlacement.bind(this))};m.prototype.registerFadeDuration=function(t,e){var n=e+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,t.set(this.fadeEndTime-Date.now()))},m.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},m.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new p(t.collisionBoxArray),this.collisionTile=h.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex=a.deserialize(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=o(t.buckets,e.style),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage))},m.prototype.reloadSymbolData=function(t,e){var n=this;if("unloaded"!==this.state){this.collisionTile=h.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex&&this.featureIndex.setCollisionTile(this.collisionTile);for(var a in n.buckets){var s=n.buckets[a];s instanceof i&&(s.destroy(),delete n.buckets[a])}r.extend(this.buckets,o(t.buckets,e)),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}},m.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},m.prototype.redoPlacement=function(t){if("vector"===t.type||"geojson"===t.type){if("loaded"!==this.state)return void(this.redoWhenDone=!0);if(this.collisionTile){var e=t.map.transform.cameraToTileDistance(this);if(this.angle===t.map.transform.angle&&this.pitch===t.map.transform.pitch&&this.showCollisionBoxes===t.map.showCollisionBoxes){if(this.cameraToTileDistance===e&&this.cameraToCenterDistance===t.map.transform.cameraToCenterDistance)return;if(this.pitch<25)return this.cameraToTileDistance=e,void(this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance)}this.angle=t.map.transform.angle,this.pitch=t.map.transform.pitch,this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance,this.cameraToTileDistance=e,this.showCollisionBoxes=t.map.showCollisionBoxes,this.placementSource=t,this.state="reloading",this.placementThrottler.invoke()}}},m.prototype._immediateRedoPlacement=function(){var t=this;this.placementSource.dispatcher.send("redoPlacement",{type:this.placementSource.type,uid:this.uid,source:this.placementSource.id,angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,showCollisionBoxes:this.showCollisionBoxes},function(e,n){"reloading"===t.state&&(t.state="loaded",t.reloadSymbolData(n,t.placementSource.map.style),t.placementSource.fire("data",{tile:t,coord:t.coord,dataType:"source"}),t.placementSource.map&&(t.placementSource.map.painter.tileExtentVAO.vao=null),t.redoWhenDone&&(t.state="reloading",t.redoWhenDone=!1,t._immediateRedoPlacement()))},this.workerID)},m.prototype.getBucket=function(t){return this.buckets[t.id]},m.prototype.upload=function(t){var e=this;for(var n in e.buckets){var r=e.buckets[n];r.uploaded||(r.upload(t),r.uploaded=!0)}this.iconAtlasImage&&(this.iconAtlasTexture=new d(t,this.iconAtlasImage,t.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new d(t,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)},m.prototype.queryRenderedFeatures=function(t,e,n,r,o){var i=this;if(!this.featureIndex)return{};var a=0;for(var s in t){var u=i.getBucket(t[s]);u&&(a=Math.max(a,t[s].queryRadius(u)))}return this.featureIndex.query({queryGeometry:e,bearing:o,params:r,scale:n,additionalRadius:a,tileSize:this.tileSize},t)},m.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new s.VectorTile(new u(this.rawTileData)).layers);var r=e?e.sourceLayer:"",o=this.vtLayers._geojsonTileLayer||this.vtLayers[r];if(o)for(var i=l(e&&e.filter),a={z:this.coord.z,x:this.coord.x,y:this.coord.y},h=0;h<o.length;h++){var p=o.feature(h);if(i(p)){var f=new c(p,n.coord.z,n.coord.x,n.coord.y);f.tile=a,t.push(f)}}}},m.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},m.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=r.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var o=Date.now(),i=!1;if(this.expirationTime>o)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var a=this.expirationTime-e;a?this.expirationTime=o+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},m.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},m.prototype.stopPlacementThrottler=function(){this.placementThrottler.stop(),"reloading"===this.state&&(this.state="loaded")},e.exports=m},{"../data/bucket":42,"../data/bucket/symbol_bucket":47,"../data/feature_index":49,"../render/texture":83,"../style-spec/feature_filter":110,"../symbol/collision_box":170,"../symbol/collision_tile":172,"../util/throttler":221,"../util/util":223,"../util/vectortile_to_geojson":224,"@mapbox/vector-tile":6,pbf:29}],100:[function(t,e,n){"use strict";var r=t("../geo/lng_lat_bounds"),o=t("../util/util").clamp,i=function(t,e,n){this.bounds=r.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};i.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},i.prototype.contains=function(t,e){var n=e?Math.min(t.z,e):t.z,r={minX:Math.floor(this.lngX(this.bounds.getWest(),n)),minY:Math.floor(this.latY(this.bounds.getNorth(),n)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),n)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),n))};return t.x>=r.minX&&t.x<r.maxX&&t.y>=r.minY&&t.y<r.maxY},i.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},i.prototype.latY=function(t,e){var n=o(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r},e.exports=i},{"../geo/lng_lat_bounds":59,"../util/util":223}],101:[function(t,e,n){"use strict";function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,r,o){var i=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,c=e.dx/e.dy,l=t.dx>0,h=e.dx<0,p=i;p<a;p++){var f=u*Math.max(0,Math.min(t.dy,p+l-t.y0))+t.x0,d=c*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;o(Math.floor(d),Math.ceil(f),p)}}function i(t,e,n,i,a,s){var u,c=r(t,e),l=r(e,n),h=r(n,t);c.dy>l.dy&&(u=c,c=l,l=u),c.dy>h.dy&&(u=c,c=h,h=u),l.dy>h.dy&&(u=l,l=h,h=u),c.dy&&o(h,c,i,a,s),l.dy&&o(h,l,i,a,s)}function a(t,e,n){for(var r,o="",i=t;i>0;i--)r=1<<i-1,o+=(e&r?1:0)+(n&r?2:0);return o}var s=t("@mapbox/whoots-js"),u=t("../geo/coordinate"),c=function(t,e,n,r){(void 0===r||isNaN(r))&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,(r*=2)<0&&(r=-1*r-1);var o=1<<this.z;this.id=32*(o*o*r+o*this.y+this.x)+this.z,this.posMatrix=null};c.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},c.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),n=Math.pow(2,e),r=this.y,o=this.x+n*this.w;return new u(o,r,e)},c.prototype.url=function(t,e,n){var r=s.getTileBBox(this.x,this.y,this.z),o=a(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(Math.min(this.z,e||this.z))).replace("{x}",String(this.x)).replace("{y}",String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)},c.prototype.parent=function(t){return 0===this.z?null:this.z>t?new c(this.z-1,this.x,this.y,this.w):new c(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},c.prototype.wrapped=function(){return new c(this.z,this.x,this.y,0)},c.prototype.children=function(t){if(this.z>=t)return[new c(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new c(e,n,r,this.w),new c(e,n+1,r,this.w),new c(e,n,r+1,this.w),new c(e,n+1,r+1,this.w)]},c.prototype.scaledTo=function(t,e){return this.z>e?new c(t,this.x,this.y,this.w):t<=this.z?new c(t,this.x>>this.z-t,this.y>>this.z-t,this.w):new c(t,this.x<<t-this.z,this.y<<t-this.z,this.w)},c.cover=function(t,e,n,r){function o(t,e,o){var i,u,l,h;if(o>=0&&o<=a)for(i=t;i<e;i++)u=Math.floor(i/a),l=(i%a+a)%a,0!==u&&!0!==r||(h=new c(n,l,o,u),s[h.id]=h)}void 0===r&&(r=!0);var a=1<<t,s={};return i(e[0],e[1],e[2],0,a,o),i(e[2],e[3],e[0],0,a,o),Object.keys(s).map(function(t){return s[t]})},c.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,o=r%n,i=(r-o)/n%n,a=Math.floor(r/(n*n));return a%2!=0&&(a=-1*a-1),a/=2,new c(e,o,i,a)},e.exports=c},{"../geo/coordinate":57,"@mapbox/whoots-js":10}],102:[function(t,e,n){"use strict";var r=t("../util/evented"),o=t("../util/util"),i=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),u=t("../util/ajax").ResourceType,c=t("../util/browser"),l=function(t){function e(e,n,r,i){if(t.call(this),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,o.extend(this,o.pick(n,["url","scheme","tileSize"])),this._options=o.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),i(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(o.extend(t,n),n.bounds&&(t.tileBounds=new s(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return o.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,r){if(!t.aborted){if(n)return e(n);this.map._refreshExpiredTiles&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,o=a(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),i={request:this.map._transformRequest(o,u.Tile),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,pixelRatio:c.devicePixelRatio,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",i,n.bind(this),t.workerID):t.workerID=this.dispatcher.send("loadTile",i,n.bind(this))},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e}(r);e.exports=l},{"../util/ajax":201,"../util/browser":202,"../util/evented":210,"../util/mapbox":217,"../util/util":223,"./load_tilejson":92,"./tile_bounds":100}],103:[function(t,e,n){"use strict";function r(t,e){var n=o.getArrayBuffer(t.request,function(t,n){t?e(t):n&&e(null,{vectorTile:new i.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort()}}var o=t("../util/ajax"),i=t("@mapbox/vector-tile"),a=t("pbf"),s=t("./worker_tile"),u=t("../util/util"),c=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||r,this.loading={},this.loaded={}};c.prototype.loadTile=function(t,e){var n=this,r=t.source,o=t.uid;this.loading[r]||(this.loading[r]={});var i=this.loading[r][o]=new s(t);i.abort=this.loadVectorData(t,function(t,a){if(delete n.loading[r][o],t||!a)return e(t);var s=a.rawData,c={};a.expires&&(c.expires=a.expires),a.cacheControl&&(c.cacheControl=a.cacheControl),i.vectorTile=a.vectorTile,i.parse(a.vectorTile,n.layerIndex,n.actor,function(t,n,r){if(t||!n)return e(t);e(null,u.extend({rawTileData:s},n,c),r)}),n.loaded[r]=n.loaded[r]||{},n.loaded[r][o]=i})},c.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,r)}e(t,n)}var r=this.loaded[t.source],o=t.uid,i=this;if(r&&r[o]){var a=r[o];"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},c.prototype.abortTile=function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},c.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},c.prototype.redoPlacement=function(t,e){var n=this.loaded[t.source],r=this.loading[t.source],o=t.uid;if(n&&n[o]){var i=n[o],a=i.redoPlacement(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else r&&r[o]&&(r[o].angle=t.angle)},e.exports=c},{"../util/ajax":201,"../util/util":223,"./worker_tile":106,"@mapbox/vector-tile":6,pbf:29}],104:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("./image_source"),i=function(t){function e(e,n,r,o){t.call(this,e,n,r,o),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,r.getVideo(e.urls,function(e,n){if(e)t.fire("error",{error:e});else if(n){t.video=n,t.video.loop=!0;var r;t.video.addEventListener("playing",function(){r=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(r)}),t.map&&t.video.play(),t._finishLoading()}})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){0===Object.keys(this.tiles).length||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e}(o);e.exports=i},{"../util/ajax":201,"./image_source":91}],105:[function(t,e,n){"use strict";var r=t("../util/actor"),o=t("../style/style_layer_index"),i=t("./vector_tile_worker_source"),a=t("./geojson_worker_source"),s=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new r(t,this),this.layerIndexes={},this.workerSourceTypes={vector:i,geojson:a},this.workerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(s.applyArabicShaping||s.processBidirectionalText)throw new Error("RTL text plugin already registered.");s.applyArabicShaping=t.applyArabicShaping,s.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},u.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},u.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},u.prototype.removeSource=function(t,e){var n=this.getWorkerSource(t,e.type);void 0!==n.removeSource&&n.removeSource(e)},u.prototype.redoPlacement=function(t,e,n){this.getWorkerSource(t,e.type).redoPlacement(e,n)},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{s.applyArabicShaping||s.processBidirectionalText||(this.self.importScripts(e),s.applyArabicShaping&&s.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new o),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,o,i){n.actor.send(e,r,o,i,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":164,"../util/actor":200,"./geojson_worker_source":89,"./rtl_text_plugin":96,"./vector_tile_worker_source":103}],106:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.layers;n<r.length;n+=1)r[n].recalculate(e)}function o(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var i=t("../data/feature_index"),a=t("../symbol/collision_tile"),s=t("../symbol/collision_box"),u=t("../util/dictionary_coder"),c=(t("../data/bucket/symbol_bucket"),t("../util/util")),l=t("../render/image_atlas"),h=l.makeImageAtlas,p=t("../render/glyph_atlas"),f=p.makeGlyphAtlas,d=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.cameraToCenterDistance=t.cameraToCenterDistance,this.cameraToTileDistance=t.cameraToTileDistance,this.showCollisionBoxes=t.showCollisionBoxes};d.prototype.parse=function(t,e,n,l){function p(){var t=this;if(M)return l(M);if(N&&L){for(var e=new a(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),n=f(N),i=h(L),s=0,u=t.symbolBuckets;s<u.length;s+=1){var p=u[s];r(p,t.zoom),p.prepare(N,n.positions,L,i.positions),p.place(e,t.showCollisionBoxes)}this.status="done";var d=[n.image.data.buffer,i.image.data.buffer];l(null,{buckets:o(c.values(g),d),featureIndex:y.serialize(d),collisionTile:e.serialize(d),collisionBoxArray:this.collisionBoxArray.serialize(),glyphAtlasImage:n.image,iconAtlasImage:i.image},d)}}var d=this;this.status="parsing",this.data=t,this.collisionBoxArray=new s;var m=new u(Object.keys(t.layers).sort()),y=new i(this.coord,this.overscaling);y.bucketLayerIDs=[];var g={},v={featureIndex:y,iconDependencies:{},glyphDependencies:{}},_=e.familiesBySource[this.source];for(var b in _){var w=t.layers[b];if(w){1===w.version&&c.warnOnce('Vector tile source "'+d.source+'" layer "'+b+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=m.encode(b),C=[],E=0;E<w.length;E++){var S=w.feature(E);C.push({feature:S,index:E,sourceLayerIndex:x})}for(var T=0,P=_[b];T<P.length;T+=1){var O=P[T],I=O[0];if(!(I.minzoom&&d.zoom<Math.floor(I.minzoom)||I.maxzoom&&d.zoom>=I.maxzoom||I.layout&&"none"===I.layout.visibility)){for(var A=0,k=O;A<k.length;A+=1)k[A].recalculate(d.zoom);(g[I.id]=I.createBucket({index:y.bucketLayerIDs.length,layers:O,zoom:d.zoom,pixelRatio:d.pixelRatio,overscaling:d.overscaling,collisionBoxArray:d.collisionBoxArray})).populate(C,v),y.bucketLayerIDs.push(O.map(function(t){return t.id}))}}}}this.symbolBuckets=[];for(var D=e.symbolOrder.length-1;D>=0;D--){var R=g[e.symbolOrder[D]];R&&d.symbolBuckets.push(R)}var M,N,L,F=c.mapObject(v.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(F).length?n.send("getGlyphs",{uid:this.uid,stacks:F},function(t,e){M||(M=t,N=e,p.call(d))}):N={};var V=Object.keys(v.iconDependencies);V.length?n.send("getImages",{icons:V},function(t,e){M||(M=t,L=e,p.call(d))}):L={},p.call(this)},d.prototype.redoPlacement=function(t,e,n,i,s){var u=this;if(this.angle=t,this.pitch=e,this.cameraToCenterDistance=n,this.cameraToTileDistance=i,"done"!==this.status)return{};for(var c=new a(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),l=0,h=u.symbolBuckets;l<h.length;l+=1){var p=h[l];r(p,u.zoom),p.place(c,s)}var f=[];return{result:{buckets:o(this.symbolBuckets,f),collisionTile:c.serialize(f)},transferables:f}},e.exports=d},{"../data/bucket/symbol_bucket":47,"../data/feature_index":49,"../render/glyph_atlas":74,"../render/image_atlas":76,"../symbol/collision_box":170,"../symbol/collision_tile":172,"../util/dictionary_coder":207,"../util/util":223}],107:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return i.forEach(function(t){t in e&&(n[t]=e[t])}),n}function o(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var o=0;o<t.length;o++)"ref"in t[o]&&(t[o]=r(t[o],e[t[o].ref]));return t}var i=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":129}],108:[function(t,e,n){"use strict";function r(t,e,n,r){t=t||{},e=e||{};var o;for(o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)||(n.push({command:l.removeSource,args:[o]}),r[o]=!0));for(o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)?c(t[o],e[o])||(n.push({command:l.removeSource,args:[o]}),n.push({command:l.addSource,args:[o,e[o]]}),r[o]=!0):n.push({command:l.addSource,args:[o,e[o]]}))}function o(t,e,n,r,o,i){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(c(t[a],e[a])||n.push({command:i,args:[r,a,e[a],o]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(c(t[a],e[a])||n.push({command:i,args:[r,a,e[a],o]}))}function i(t){return t.id}function a(t,e){return t[e.id]=e,t}function s(t,e,n){t=t||[],e=e||[];var r,s,u,h,p,f,d,m=t.map(i),y=e.map(i),g=t.reduce(a,{}),v=e.reduce(a,{}),_=m.slice(),b=Object.create(null);for(r=0,s=0;r<m.length;r++)u=m[r],v.hasOwnProperty(u)?s++:(n.push({command:l.removeLayer,args:[u]}),_.splice(_.indexOf(u,s),1));for(r=0,s=0;r<y.length;r++)u=y[y.length-1-r],_[_.length-1-r]!==u&&(g.hasOwnProperty(u)?(n.push({command:l.removeLayer,args:[u]}),_.splice(_.lastIndexOf(u,_.length-s),1)):s++,f=_[_.length-r],n.push({command:l.addLayer,args:[v[u],f]}),_.splice(_.length-r,0,u),b[u]=!0);for(r=0;r<y.length;r++)if(u=y[r],h=g[u],p=v[u],!b[u]&&!c(h,p))if(c(h.source,p.source)&&c(h["source-layer"],p["source-layer"])&&c(h.type,p.type)){o(h.layout,p.layout,n,u,null,l.setLayoutProperty),o(h.paint,p.paint,n,u,null,l.setPaintProperty),c(h.filter,p.filter)||n.push({command:l.setFilter,args:[u,p.filter]}),c(h.minzoom,p.minzoom)&&c(h.maxzoom,p.maxzoom)||n.push({command:l.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]});for(d in h)h.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(h[d],p[d],n,u,d.slice(6),l.setPaintProperty):c(h[d],p[d])||n.push({command:l.setLayerProperty,args:[u,d,p[d]]}));for(d in p)p.hasOwnProperty(d)&&!h.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(h[d],p[d],n,u,d.slice(6),l.setPaintProperty):c(h[d],p[d])||n.push({command:l.setLayerProperty,args:[u,d,p[d]]}))}else n.push({command:l.removeLayer,args:[u]}),f=_[_.lastIndexOf(u)+1],n.push({command:l.addLayer,args:[p,f]})}function u(t,e){if(!t)return[{command:l.setStyle,args:[e]}];var n=[];try{if(!c(t.version,e.version))return[{command:l.setStyle,args:[e]}];c(t.center,e.center)||n.push({command:l.setCenter,args:[e.center]}),c(t.zoom,e.zoom)||n.push({command:l.setZoom,args:[e.zoom]}),c(t.bearing,e.bearing)||n.push({command:l.setBearing,args:[e.bearing]}),c(t.pitch,e.pitch)||n.push({command:l.setPitch,args:[e.pitch]}),c(t.sprite,e.sprite)||n.push({command:l.setSprite,args:[e.sprite]}),c(t.glyphs,e.glyphs)||n.push({command:l.setGlyphs,args:[e.glyphs]}),c(t.transition,e.transition)||n.push({command:l.setTransition,args:[e.transition]}),c(t.light,e.light)||n.push({command:l.setLight,args:[e.light]});var o={},i=[];r(t.sources,e.sources,i,o);var a=[];t.layers&&t.layers.forEach(function(t){o[t.source]?n.push({command:l.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(i),s(a,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:l.setStyle,args:[e]}]}return n}var c=t("lodash.isequal"),l={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=u,e.exports.operations=l},{"lodash.isequal":120}],109:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];this.message=(t?t+": ":"")+o.apply(o,n),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var o=t("util").format;e.exports=r},{util:36}],110:[function(t,e,n){"use strict";function r(t){return new Function("f","var p = (f && f.properties || {}); return "+o(t))}function o(t){if(!t)return"true";var e=t[0];return t.length<=1?"any"===e?"false":"true":"("+("=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?l(s(t.slice(1),"||")):"in"===e?u(t[1],t.slice(2)):"!in"===e?l(u(t[1],t.slice(2))):"has"===e?c(t[1]):"!has"===e?l(c(t[1])):"true")+")"}function i(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,n,r){var o=i(t),a="$type"===t?p.indexOf(e):JSON.stringify(e);return(r?"typeof "+o+"=== typeof "+a+"&&":"")+o+n+a}function s(t,e){return t.map(o).join(e)}function u(t,e){"$type"===t&&(e=e.map(function(t){return p.indexOf(t)}));var n=JSON.stringify(e.sort(h)),r=i(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function c(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function l(t){return"!("+t+")"}function h(t,e){return t<e?-1:t>e?1:0}e.exports=r;var p=["Unknown","Point","LineString","Polygon"]},{}],111:[function(t,e,n){"use strict";function r(t){return t>g?Math.pow(t,1/3):t/y+d}function o(t){return t>m?t*t*t:y*(t-d)}function i(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t[0]),n=a(t[1]),o=a(t[2]),i=r((.4124564*e+.3575761*n+.1804375*o)/h),s=r((.2126729*e+.7151522*n+.072175*o)/p);return[116*s-16,500*(i-s),200*(s-r((.0193339*e+.119192*n+.9503041*o)/f)),t[3]]}function u(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,r=isNaN(t[2])?e:e-t[2]/200;return e=p*o(e),n=h*o(n),r=f*o(r),[i(3.2404542*n-1.5371385*e-.4985314*r),i(-.969266*n+1.8760108*e+.041556*r),i(.0556434*n-.2040259*e+1.0572252*r),t[3]]}function c(t){var e=s(t),n=e[0],r=e[1],o=e[2],i=Math.atan2(o,r)*_;return[i<0?i+360:i,Math.sqrt(r*r+o*o),n,t[3]]}function l(t){var e=t[0]*v,n=t[1];return u([t[2],Math.cos(e)*n,Math.sin(e)*n,t[3]])}var h=.95047,p=1,f=1.08883,d=4/29,m=6/29,y=3*m*m,g=m*m*m,v=Math.PI/180,_=180/Math.PI;e.exports={lab:{forward:s,reverse:u},hcl:{forward:c,reverse:l}}},{}],112:[function(t,e,n){"use strict";function r(t){return t}function o(t,e){var n,l="color"===e.type;if(h(t)){var p=t.stops&&"object"==typeof t.stops[0][0],y=p||void 0!==t.property,g=p||!y,v=t.type||("interpolated"===e.function?"exponential":"interval");l&&(t=m({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],d(t[1])]})),t.default?t.default=d(t.default):t.default=d(e.default));var _,b,w;if("exponential"===v)_=u;else if("interval"===v)_=s;else if("categorical"===v){_=a,b=Object.create(null);for(var x=0,C=t.stops;x<C.length;x+=1){var E=C[x];b[E[0]]=E[1]}w=typeof t.stops[0][0]}else{if("identity"!==v)throw new Error('Unknown function type "'+v+'"');_=c}var S;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!f[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var T=f[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var P=0;P<t.stops.length;P++)t.stops[P]=[t.stops[P][0],T.forward(t.stops[P][1])];S=T.reverse}else S=r;if(p){for(var O={},I=[],A=0;A<t.stops.length;A++){var k=t.stops[A],D=k[0].zoom;void 0===O[D]&&(O[D]={zoom:D,type:t.type,property:t.property,default:t.default,stops:[]},I.push(D)),O[D].stops.push([k[0].value,k[1]])}for(var R=[],M=0,N=I;M<N.length;M+=1){var L=N[M];R.push([O[L].zoom,o(O[L],e)])}n=function(n,r){return S(u({stops:R,base:t.base},e,n)(n,r))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else g?(n=function(n){return S(_(t,e,n,b,w))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(n,r){var o=r[t.property];return void 0===o?i(t.default,e.default):S(_(t,e,o,b,w))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else l&&t&&(t=d(t)),n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function i(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function a(t,e,n,r,o){return i(typeof n===o?r[n]:void 0,t.default,e.default)}function s(t,e,n){if("number"!==y(n))return i(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var o=l(t.stops,n);return t.stops[o][1]}function u(t,e,n){var o=void 0!==t.base?t.base:1;if("number"!==y(n))return i(t.default,e.default);var a=t.stops.length;if(1===a)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[a-1][0])return t.stops[a-1][1];var s=l(t.stops,n),u=p(n,o,t.stops[s][0],t.stops[s+1][0]),c=t.stops[s][1],h=t.stops[s+1][1],f=g[e.type]||r;return"function"==typeof c?function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=c.apply(void 0,t),r=h.apply(void 0,t);if(void 0!==n&&void 0!==r)return f(n,r,u)}:f(c,h,u)}function c(t,e,n){return"color"===e.type?n=d(n):y(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),i(n,t.default,e.default)}function l(t,e){for(var n,r,o=t.length,i=0,a=o-1,s=0;i<=a;){if(s=Math.floor((i+a)/2),n=t[s][0],r=t[s+1][0],e===n||e>n&&e<r)return s;n<e?i=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}function h(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}function p(t,e,n,r){var o=r-n,i=t-n;return 0===o?0:1===e?i/o:(Math.pow(e,i)-1)/(Math.pow(e,o)-1)}var f=t("./color_spaces"),d=t("../util/parse_color"),m=t("../util/extend"),y=t("../util/get_type"),g=t("../util/interpolate");e.exports=o,e.exports.isFunctionDefinition=h,e.exports.interpolationFactor=p,e.exports.findStopLessThanOrEqualTo=l},{"../util/extend":125,"../util/get_type":126,"../util/interpolate":127,"../util/parse_color":128,"./color_spaces":111}],113:[function(t,e,n){"use strict";function r(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",o=0,i=t;o<i.length;o+=1)n+=r(i[o])+",";return n+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+r(t[a[u]])+",";return s+"}"}function o(t){for(var e="",n=0,o=a;n<o.length;n+=1)e+="/"+r(t[o[n]]);return e}function i(t){for(var e={},n=0;n<t.length;n++){var r=o(t[n]),i=e[r];i||(i=e[r]=[]),i.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}var a=t("./util/ref_properties");e.exports=i},{"./util/ref_properties":129}],114:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return o("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in c)return c[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var o=e.indexOf("("),u=e.indexOf(")");if(-1!==o&&u+1===e.length){var l=e.substr(0,o),h=e.substr(o+1,u-(o+1)).split(","),p=1;switch(l){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[i(h[0]),i(h[1]),i(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),m=a(h[2]),y=m<=.5?m*(d+1):m+d-m*d,g=2*m-y;return[r(255*s(g,y,f+1/3)),r(255*s(g,y,f)),r(255*s(g,y,f-1/3)),p];default:return null}}return null}var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(t){}},{}],115:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function i(t,e,n,o,s,u){return t===e||(null==t||null==e||!l(t)&&!r(e)?t!==t&&e!==e:a(t,e,i,n,o,s,u))}function a(t,e,n,r,o,i,a){var l=h(t),f=h(e),y=m,g=m;l||(y=S.call(t),y==d?y=b:y!=b&&(l=p(t))),f||(g=S.call(e),g==d?g=b:g!=b&&(f=p(e)));var v=y==b,_=g==b,w=y==g;if(w&&!l&&!v)return u(t,e,y);if(!o){var x=v&&E.call(t,"__wrapped__"),C=_&&E.call(e,"__wrapped__");if(x||C)return n(x?t.value():t,C?e.value():e,r,o,i,a)}if(!w)return!1;i||(i=[]),a||(a=[]);for(var T=i.length;T--;)if(i[T]==t)return a[T]==e;i.push(t),a.push(e);var P=(l?s:c)(t,e,n,r,o,i,a);return i.pop(),a.pop(),P}function s(t,e,n,r,i,a,s){var u=-1,c=t.length,l=e.length;if(c!=l&&!(i&&l>c))return!1;for(;++u<c;){var h=t[u],p=e[u],f=r?r(i?p:h,i?h:p,u):void 0;if(void 0!==f){if(f)continue;return!1}if(i){if(!o(e,function(t){return h===t||n(h,t,r,i,a,s)}))return!1}else if(h!==p&&!n(h,p,r,i,a,s))return!1}return!0}function u(t,e,n){switch(n){case y:case g:return+t==+e;case v:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case w:case x:return t==e+""}return!1}function c(t,e,n,r,o,i,a){var s=f(t),u=s.length;if(u!=f(e).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in e:E.call(e,l)))return!1}for(var h=o;++c<u;){l=s[c];var p=t[l],d=e[l],m=r?r(o?d:p,o?p:d,l):void 0;if(!(void 0===m?n(p,d,r,o,i,a):m))return!1;h||(h="constructor"==l)}if(!h){var y=t.constructor,g=e.constructor;if(y!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g))return!1}return!0}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=t("lodash.isarray"),p=t("lodash.istypedarray"),f=t("lodash.keys"),d="[object Arguments]",m="[object Array]",y="[object Boolean]",g="[object Date]",v="[object Error]",_="[object Number]",b="[object Object]",w="[object RegExp]",x="[object String]",C=Object.prototype,E=C.hasOwnProperty,S=C.toString;e.exports=i},{"lodash.isarray":119,"lodash.istypedarray":121,"lodash.keys":122}],116:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function o(t){return t}e.exports=r},{}],117:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return a(t)&&f.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(i(t)?d.test(h.call(t)):r(t)&&c.test(t))}var u="[object Function]",c=/^\[object .+?Constructor\]$/,l=Object.prototype,h=Function.prototype.toString,p=l.hasOwnProperty,f=l.toString,d=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},{}],118:[function(t,e,n){function r(t){return i(t)&&m.call(t,"callee")&&(!g.call(t,"callee")||y.call(t)==h)}function o(t){return null!=t&&s(t.length)&&!a(t)}function i(t){return c(t)&&o(t)}function a(t){var e=u(t)?y.call(t):"";return e==p||e==f}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}var l=9007199254740991,h="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",d=Object.prototype,m=d.hasOwnProperty,y=d.toString,g=d.propertyIsEnumerable;e.exports=r},{}],119:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function i(t){return a(t)&&f.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(i(t)?d.test(h.call(t)):r(t)&&c.test(t))}var u="[object Function]",c=/^\[object .+?Constructor\]$/,l=Object.prototype,h=Function.prototype.toString,p=l.hasOwnProperty,f=l.toString,d=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}(Array,"isArray"),y=9007199254740991,g=m||function(t){return r(t)&&o(t.length)&&"[object Array]"==f.call(t)};e.exports=g},{}],120:[function(t,e,n){function r(t,e,n,r){n="function"==typeof n?i(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?o(t,e,n):!!a}var o=t("lodash._baseisequal"),i=t("lodash._bindcallback");e.exports=r},{"lodash._baseisequal":115,"lodash._bindcallback":116}],121:[function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function o(t){return!!t&&"object"==typeof t}function i(t){return o(t)&&r(t.length)&&!!s[c.call(t)]}var a=9007199254740991,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var u=Object.prototype,c=u.toString;e.exports=i},{}],122:[function(t,e,n){function r(t){return null!=t&&i(g(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?y:e,t>-1&&t%1==0&&t<e}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function a(t){for(var e=u(t),n=e.length,r=n&&t.length,a=!!r&&i(r)&&(h(t)||l(t)),s=-1,c=[];++s<n;){var p=e[s];(a&&o(p,r)||d.call(t,p))&&c.push(p)}return c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(h(t)||l(t))&&e||0;for(var n=t.constructor,r=-1,a="function"==typeof n&&n.prototype===t,u=Array(e),c=e>0;++r<e;)u[r]=r+"";for(var p in t)c&&o(p,e)||"constructor"==p&&(a||!d.call(t,p))||u.push(p);return u}var c=t("lodash._getnative"),l=t("lodash.isarguments"),h=t("lodash.isarray"),p=/^\d+$/,f=Object.prototype,d=f.hasOwnProperty,m=c(Object,"keys"),y=9007199254740991,g=function(t){return function(e){return null==e?void 0:e[t]}}("length"),v=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?a(t):s(t)?m(t):[]}:a;e.exports=v},{"lodash._getnative":117,"lodash.isarguments":118,"lodash.isarray":119}],123:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":124}],124:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0},contextType:{required:!0,type:"enum",values:{"2d":{},webgl:{},"experimental-webgl":{},webgl2:{}}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,maximum:65535,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],125:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,o=e;r<o.length;r+=1){var i=o[r];for(var a in i)t[a]=i[a]}return t}},{}],126:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],127:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}e.exports=r,r.number=r,r.vec2=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n)]},r.color=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n),r(t[2],e[2],n),r(t[3],e[3],n)]},r.array=function(t,e,n){return t.map(function(t,o){return r(t,e[o],n)})}},{}],128:[function(t,e,n){"use strict";var r=t("csscolorparser").parseCSSColor;e.exports=function(t){if("string"==typeof t){var e=r(t);if(!e)return;return[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return Array.isArray(t)?t:void 0}},{csscolorparser:114}],129:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],130:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],131:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},u=e.value,c=e.valueSpec,l=e.key,h=e.styleSpec,p=e.style;if("string"===o(u)&&"@"===u[0]){if(h.$version>7)return[new r(l,u,"constants have been deprecated as of v8")];if(!(u in p.constants))return[new r(l,u,'constant "%s" not found',u)];e=i({},e,{value:p.constants[u]})}return c.function&&"object"===o(u)?n(e):c.type&&s[c.type]?s[c.type](e):a(i({},e,{valueSpec:c.type?h[c.type]:c}))}},{"../error/validation_error":109,"../util/extend":125,"../util/get_type":126,"./validate_array":132,"./validate_boolean":133,"./validate_color":134,"./validate_constants":135,"./validate_enum":136,"./validate_filter":137,"./validate_function":138,"./validate_layer":140,"./validate_light":142,"./validate_number":143,"./validate_object":144,"./validate_source":147,"./validate_string":148}],132:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,c=t.arrayElementValidator||o;if("array"!==r(e))return[new i(u,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new i(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new i(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var l={type:n.value};s.$version<7&&(l.function=n.function),"object"===r(n.value)&&(l=n.value);for(var h=[],p=0;p<e.length;p++)h=h.concat(c({array:e,arrayIndex:p,value:e[p],valueSpec:l,style:a,styleSpec:s,key:u+"["+p+"]"}));return h}},{"../error/validation_error":109,"../util/get_type":126,"./validate":131}],133:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"boolean"!==i?[new o(n,e,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":109,"../util/get_type":126}],134:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=o(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===i(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":109,"../util/get_type":126,csscolorparser:114}],135:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value;if(t.styleSpec.$version>7)return n?[new r(e,n,"constants have been deprecated as of v8")]:[];var i=o(n);if("object"!==i)return[new r(e,n,"object expected, %s found",i)];var a=[];for(var s in n)"@"!==s[0]&&a.push(new r(e+"."+s,n[s],'constants must start with "@"'));return a}},{"../error/validation_error":109,"../util/get_type":126}],136:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=[];return Array.isArray(i.values)?-1===i.values.indexOf(o(n))&&a.push(new r(e,n,"expected one of [%s], %s found",i.values.join(", "),n)):-1===Object.keys(i.values).indexOf(o(n))&&a.push(new r(e,n,"expected one of [%s], %s found",Object.keys(i.values).join(", "),n)),a}},{"../error/validation_error":109,"../util/unbundle_jsonlint":130}],137:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_enum"),i=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function t(e){var n,s=e.value,u=e.key,c=e.styleSpec,l=[];if("array"!==i(s))return[new r(u,s,"array expected, %s found",i(s))];if(s.length<1)return[new r(u,s,"filter array must have at least 1 element")];switch(l=l.concat(o({key:u+"[0]",value:s[0],valueSpec:c.filter_operator,style:e.style,styleSpec:e.styleSpec})),a(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"===a(s[1])&&l.push(new r(u,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!==s.length&&l.push(new r(u,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&"string"!==(n=i(s[1]))&&l.push(new r(u+"[1]",s[1],"string expected, %s found",n));for(var h=2;h<s.length;h++)n=i(s[h]),"$type"===a(s[1])?l=l.concat(o({key:u+"["+h+"]",value:s[h],valueSpec:c.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&l.push(new r(u+"["+h+"]",s[h],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(var p=1;p<s.length;p++)l=l.concat(t({key:u+"["+p+"]",value:s[p],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=i(s[1]),2!==s.length?l.push(new r(u,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==n&&l.push(new r(u+"[1]",s[1],"string expected, %s found",n))}return l}},{"../error/validation_error":109,"../util/get_type":126,"../util/unbundle_jsonlint":130,"./validate_enum":136}],138:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),u=t("./validate_number"),c=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===y)return[new r(t.key,t.value,'identity function may not have a "stops" property')];var e=[],i=t.value;return e=e.concat(s({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===o(i)&&0===i.length&&e.push(new r(t.key,i,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==o(n))return[new r(s,n,"array expected, %s found",o(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];if(b){if("object"!==o(n[0]))return[new r(s,n,"object expected, %s found",o(n[0]))];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(d&&d>c(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];c(n[0].zoom)!==d&&(d=c(n[0].zoom),f=void 0,g={}),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:l}}))}else e=e.concat(l({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e.concat(i({key:s+"[1]",value:n[1],valueSpec:m,style:t.style,styleSpec:t.styleSpec}))}function l(t){var e=o(t.value),n=c(t.value);if(p){if(e!==p)return[new r(t.key,t.value,"%s stop domain type must match previous stop domain type %s",e,p)]}else p=e;if("number"!==e&&"string"!==e&&"boolean"!==e)return[new r(t.key,t.value,"stop domain value must be a number, string, or boolean")];if("number"!==e&&"categorical"!==y){var i="number expected, %s found";return m["property-function"]&&void 0===y&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(t.key,t.value,i,e)]}return"categorical"!==y||"number"!==e||isFinite(n)&&Math.floor(n)===n?"categorical"!==y&&"number"===e&&void 0!==f&&n<f?[new r(t.key,t.value,"stop domain values must appear in ascending order")]:(f=n,"categorical"===y&&n in g?[new r(t.key,t.value,"stop domain values must be unique")]:(g[n]=!0,[])):[new r(t.key,t.value,"integer expected, found %s",n)]}function h(t){return i({key:t.key,value:t.value,valueSpec:m,style:t.style,styleSpec:t.styleSpec})}var p,f,d,m=t.valueSpec,y=c(t.value.type),g={},v="categorical"!==y&&void 0===t.value.property,_=!v,b="array"===o(t.value.stops)&&"array"===o(t.value.stops[0])&&"object"===o(t.value.stops[0][0]),w=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:h}});return"identity"===y&&v&&w.push(new r(t.key,t.value,'missing required property "property"')),"identity"===y||t.value.stops||w.push(new r(t.key,t.value,'missing required property "stops"')),"exponential"===y&&"piecewise-constant"===t.valueSpec.function&&w.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(_&&!t.valueSpec["property-function"]?w.push(new r(t.key,t.value,"property functions not supported")):v&&!t.valueSpec["zoom-function"]&&w.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==y&&!b||void 0!==t.value.property||w.push(new r(t.key,t.value,'"property" property is required')),w}},{"../error/validation_error":109,"../util/get_type":126,"../util/unbundle_jsonlint":130,"./validate":131,"./validate_array":132,"./validate_number":143,"./validate_object":144}],139:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,i=o(t);return i.length?i:(-1===e.indexOf("{fontstack}")&&i.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new r(n,e,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":109,"./validate_string":148}],140:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),u=t("./validate_layout_property"),c=t("../util/extend");e.exports=function(t){var e=[],n=t.value,l=t.key,h=t.style,p=t.styleSpec;n.type||n.ref||e.push(new r(l,n,'either "type" or "ref" is required'));var f=o(n.type),d=o(n.ref);if(n.id)for(var m=o(n.id),y=0;y<t.arrayIndex;y++){var g=h.layers[y];o(g.id)===m&&e.push(new r(l,n.id,'duplicate layer id "%s", previously used at line %d',n.id,g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(l,n[t],'"%s" is prohibited for ref layers',t))});var v;h.layers.forEach(function(t){o(t.id)===d&&(v=t)}),v?v.ref?e.push(new r(l,n.ref,"ref cannot reference another ref layer")):f=o(v.type):e.push(new r(l,n.ref,'ref layer "%s" not found',d))}else if("background"!==f)if(n.source){var _=h.sources&&h.sources[n.source],b=_&&o(_.type);_?"vector"===b&&"raster"===f?e.push(new r(l,n.source,'layer "%s" requires a raster source',n.id)):"raster"===b&&"raster"!==f?e.push(new r(l,n.source,'layer "%s" requires a vector source',n.id)):"vector"!==b||n["source-layer"]||e.push(new r(l,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(l,n.source,'source "%s" not found',n.source))}else e.push(new r(l,n,'missing required property "source"'));return e=e.concat(i({key:l,value:n,valueSpec:p.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:a,layout:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(c({layerType:f},t))}}})},paint:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(c({layerType:f},t))}}})}}}))}},{"../error/validation_error":109,"../util/extend":125,"../util/unbundle_jsonlint":130,"./validate_filter":137,"./validate_layout_property":141,"./validate_object":144,"./validate_paint_property":145}],141:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"layout")}},{"./validate_property":146}],142:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,u=[],c=o(e);if(void 0===e)return u;if("object"!==c)return u=u.concat([new r("light",e,"object expected, %s found",c)]);for(var l in e){var h=l.match(/^(.*)-transition$/);u=h&&a[h[1]]&&a[h[1]].transition?u.concat(i({key:l,value:e[l],valueSpec:n.transition,style:s,styleSpec:n})):a[l]?u.concat(i({key:l,value:e[l],valueSpec:a[l],style:s,styleSpec:n})):u.concat([new r(l,e[l],'unknown property "%s"',l)])}return u}},{"../error/validation_error":109,"../util/get_type":126,"./validate":131}],143:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=r(n);return"number"!==a?[new o(e,n,"number expected, %s found",a)]:"minimum"in i&&n<i.minimum?[new o(e,n,"%s is less than the minimum value %s",n,i.minimum)]:"maximum"in i&&n>i.maximum?[new o(e,n,"%s is greater than the maximum value %s",n,i.maximum)]:[]}},{"../error/validation_error":109,"../util/get_type":126}],144:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},u=t.style,c=t.styleSpec,l=[],h=o(n);if("object"!==h)return[new r(e,n,"object expected, %s found",h)];for(var p in n){var f=p.split(".")[0],d=a[f]||a["*"],m=void 0;if(s[f])m=s[f];else if(a[f])m=i;else if(s["*"])m=s["*"];else{if(!a["*"]){l.push(new r(e,n[p],'unknown property "%s"',p));continue}m=i}l=l.concat(m({key:(e?e+".":e)+p,value:n[p],valueSpec:d,style:u,styleSpec:c,object:n,objectKey:p}))}for(var y in a)a[y].required&&void 0===a[y].default&&void 0===n[y]&&l.push(new r(e,n,'missing required property "%s"',y));return l}},{"../error/validation_error":109,"../util/get_type":126,"./validate":131}],145:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"paint")}},{"./validate_property":146}],146:[function(t,e,n){"use strict";var r=t("./validate"),o=t("../error/validation_error"),i=t("../util/get_type");e.exports=function(t,e){var n=t.key,a=t.style,s=t.styleSpec,u=t.value,c=t.objectKey,l=s[e+"_"+t.layerType];if(!l)return[];var h=c.match(/^(.*)-transition$/);if("paint"===e&&h&&l[h[1]]&&l[h[1]].transition)return r({key:n,value:u,valueSpec:s.transition,style:a,styleSpec:s});var p=t.valueSpec||l[c];if(!p)return[new o(n,u,'unknown property "%s"',c)];var f;if("string"===i(u)&&p["property-function"]&&!p.tokens&&(f=/^{([^}]+)}$/.exec(u)))return[new o(n,u,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',c,JSON.stringify(f[1]))];var d=[];return"symbol"===t.layerType&&"text-field"===c&&a&&!a.glyphs&&d.push(new o(n,u,'use of "text-field" requires a style "glyphs" property')),d.concat(r({key:t.key,value:u,valueSpec:p,style:a,styleSpec:s}))}},{"../error/validation_error":109,"../util/get_type":126,"./validate":131}],147:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var c=o(e.type),l=[];switch(c){case"vector":case"raster":if(l=l.concat(i({key:n,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var h in e)["type","url","tileSize"].indexOf(h)<0&&l.push(new r(n+"."+h,e[h],'a source with a "url" property may not include a "%s" property',h));return l;case"geojson":return i({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return i({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return i({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return i({key:n,value:e,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":109,"../util/unbundle_jsonlint":130,"./validate_enum":136,"./validate_object":144}],148:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"string"!==i?[new o(n,e,"string expected, %s found",i)]:[]}},{"../error/validation_error":109,"../util/get_type":126}],149:[function(t,e,n){"use strict";function r(t,e){e=e||u;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:c,"*":function(){return[]}}})),e.$version>7&&t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),o(n)}function o(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function i(t){return function(){return o(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),u=t("./reference/latest"),c=t("./validate/validate_glyphs_url");r.source=i(t("./validate/validate_source")),r.light=i(t("./validate/validate_light")),r.layer=i(t("./validate/validate_layer")),r.filter=i(t("./validate/validate_filter")),r.paintProperty=i(t("./validate/validate_paint_property")),r.layoutProperty=i(t("./validate/validate_layout_property")),e.exports=r},{"./reference/latest":123,"./validate/validate":131,"./validate/validate_constants":135,"./validate/validate_filter":137,"./validate/validate_glyphs_url":139,"./validate/validate_layer":140,"./validate/validate_layout_property":141,"./validate/validate_light":142,"./validate/validate_paint_property":145,"./validate/validate_source":147}],150:[function(t,e,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},r.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})},e.exports=r},{}],151:[function(t,e,n){"use strict";var r=t("../style-spec/reference/latest"),o=t("../util/util"),i=t("../util/evented"),a=t("./validate_style"),s=t("./style_declaration"),u=t("./style_transition"),c=["anchor","color","position","intensity"],l=r.light,h=function(t){function e(e){t.call(this),this.set(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){var e=this;if(!this._validate(a.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=o.extend({anchor:l.anchor.default,color:l.color.default,position:l.position.default,intensity:l.intensity.default},t);for(var n=0,r=c;n<r.length;n+=1){var i=r[n];e._declarations[i]=new s(l[i],t[i])}return this}},e.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},e.prototype.getLightProperty=function(t){return o.endsWith(t,"-transition")?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},e.prototype.getLightValue=function(t,e){if("position"===t){var n=this._transitions[t].calculate(e),r=o.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[t].calculate(e)},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var r=t[n];o.endsWith(n,"-transition")?e._transitionOptions[n]=r:null===r||void 0===r?delete e._declarations[n]:e._declarations[n]=new s(l[n],r)}},e.prototype.recalculate=function(t){var e=this;for(var n in e._declarations)e.calculated[n]=e.getLightValue(n,{zoom:t})},e.prototype._applyLightDeclaration=function(t,e,n,r,i){var a=n.transition?this._transitions[t]:void 0,c=l[t];if(null!==e&&void 0!==e||(e=new s(c,c.default)),!a||a.declaration.json!==e.json){var h=o.extend({duration:300,delay:0},r,this.getLightProperty(t+"-transition")),p=this._transitions[t]=new u(c,e,a,h);p.instant()||(p.loopID=i.set(p.endTime-Date.now())),a&&i.cancel(a.loopID)}},e.prototype.updateLightTransitions=function(t,e,n){var r,o=this;for(r in o._declarations)o._applyLightDeclaration(r,o._declarations[r],t,e,n)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,o.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:r})))},e}(i);e.exports=h},{"../style-spec/reference/latest":123,"../util/evented":210,"../util/util":223,"./style_declaration":157,"./style_transition":165,"./validate_style":166}],152:[function(t,e,n){"use strict";var r=t("../util/mapbox"),o=r.normalizeGlyphsURL,i=t("../util/ajax"),a=t("./parse_glyph_pbf");e.exports=function(t,e,n,r,s){var u=256*e,c=u+255,l=r(o(n).replace("{fontstack}",t).replace("{range}",u+"-"+c),i.ResourceType.Glyphs);i.getArrayBuffer(l,function(t,e){if(t)s(t);else if(e){for(var n={},r=0,o=a(e.data);r<o.length;r+=1){var i=o[r];n[i.id]=i}s(null,n)}})}},{"../util/ajax":201,"../util/mapbox":217,"./parse_glyph_pbf":154}],153:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("../util/browser"),i=t("../util/mapbox"),a=i.normalizeSpriteURL,s=t("../util/image"),u=s.RGBAImage;e.exports=function(t,e,n){function i(){if(l)n(l);else if(s&&c){var t=o.getImageData(c),e={};for(var r in s){var i=s[r],a=i.width,h=i.height,p=i.x,f=i.y,d=i.sdf,m=i.pixelRatio,y=u.create({width:a,height:h});u.copy(t,y,{x:p,y:f},{x:0,y:0},{width:a,height:h}),e[r]={data:y,pixelRatio:m,sdf:d}}n(null,e)}}if(!t)return void n(null,{});var s,c,l,h=o.devicePixelRatio>1?"@2x":"";r.getJSON(e(a(t,h,".json"),r.ResourceType.SpriteJSON),function(t,e){l||(l=t,s=e,i())}),r.getImage(e(a(t,h,".png"),r.ResourceType.SpriteImage),function(t,e){l||(l=t,c=e,i())})}},{"../util/ajax":201,"../util/browser":202,"../util/image":213,"../util/mapbox":217}],154:[function(t,e,n){"use strict";function r(t,e,n){1===t&&n.readMessage(o,e)}function o(t,e,n){if(3===t){var r=n.readMessage(i,{}),o=r.id,a=r.bitmap,u=r.width,l=r.height,h=r.left,p=r.top,f=r.advance;e.push({id:o,bitmap:s.create({width:u+2*c,height:l+2*c},a),metrics:{width:u,height:l,left:h,top:p,advance:f}})}}function i(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var a=t("../util/image"),s=a.AlphaImage,u=t("pbf"),c=3;e.exports=function(t){return new u(t).readFields(r,[])},e.exports.GLYPH_PBF_BORDER=c},{"../util/image":213,pbf:29}],155:[function(t,e,n){"use strict";function r(t,e,n){return e.isPaintValueFeatureConstant(t)?e.paint[t]:n.programConfigurations.get(e.id).paintPropertyStatistics[t].max}function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,e,n,r,o){if(!e[0]&&!e[1])return t;var i=a.convert(e);"viewport"===n&&i._rotate(-r);for(var s=[],u=0;u<t.length;u++){for(var c=t[u],l=[],h=0;h<c.length;h++)l.push(c[h].sub(i._mult(o)));s.push(l)}return s}var a=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:r,translateDistance:o,translate:i}},{"@mapbox/point-geometry":2}],156:[function(t,e,n){"use strict";var r=t("../util/evented"),o=t("./style_layer"),i=t("./load_sprite"),a=t("../render/image_manager"),s=t("../render/glyph_manager"),u=t("./light"),c=t("../render/line_atlas"),l=t("../util/util"),h=t("../util/ajax"),p=t("../util/mapbox"),f=t("../util/browser"),d=t("../util/dispatcher"),m=t("./animation_loop"),y=t("./validate_style"),g=t("../source/source").getType,v=t("../source/source").setType,_=t("../source/query_features"),b=t("../source/source_cache"),w=t("../style-spec/reference/latest"),x=t("../style-spec/function"),C=t("../util/global_worker_pool"),E=t("../style-spec/deref"),S=t("../style-spec/diff"),T=t("../source/rtl_text_plugin"),P=l.pick(S.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),O=l.pick(S.operations,["setCenter","setZoom","setBearing","setPitch"]),I=function(t){function e(e,n,r){var o=this;t.call(this),r=l.extend({validate:"string"!=typeof e||!p.isMapboxURL(e)},r);var u=function(t,e){return o.map?o.map._transformRequest(t,e):{url:t}};this.map=n,this.animationLoop=n&&n.animationLoop||new m,this.dispatcher=new d(C(),this),this.imageManager=new a,this.glyphManager=new s(u,r.localIdeographFontFamily),this.lineAtlas=new c(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,l.bindAll(["_redoPlacement"],this),this._resetUpdates(),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var g=this;this._rtlTextPluginCallback=T.registerForPluginAvailability(function(t){g.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in g.sourceCaches)g.sourceCaches[e].reload()});var v=function(t,e){if(t)o.fire("error",{error:t});else if(e){if(r.validate&&y.emitErrors(o,y(e)))return;o._loaded=!0,o.stylesheet=e,o.updateClasses();for(var n in e.sources)o.addSource(n,e.sources[n],r);i(e.sprite,u,function(t,e){if(t)o.fire("error",t);else if(e)for(var n in e)o.imageManager.addImage(n,e[n]);o.imageManager.setLoaded(!0)}),o.glyphManager.setURL(e.glyphs),o._resolve(),o.fire("data",{dataType:"style"}),o.fire("style.load")}};"string"==typeof e?h.getJSON(u(p.normalizeStyleURL(e),h.ResourceType.Style),v):f.frame(function(){return v(null,e)}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var r=e.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire("error",{error:new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')})}}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},e.prototype._resolve=function(){var t=this,e=E(this.stylesheet.layers);this._order=e.map(function(t){return t.id}),this._layers={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];i=o.create(i),i.setEventedParent(t,{layer:{id:i.id}}),t._layers[i.id]=i}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new u(this.stylesheet.light)},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyClasses=function(t,e){var n=this;if(this._loaded){t=t||[],e=e||{transition:!0};var r=this.stylesheet.transition||{},o=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var i in o){var a=n._layers[i],s=n._updatedPaintProps[i];if(n._updatedAllPaintProps||s.all)a.updatePaintTransitions(t,e,r,n.animationLoop,n.zoomHistory);else for(var u in s)n._layers[i].updatePaintTransition(u,t,e,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(e,r,this.animationLoop)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var n in e.sourceCaches)e.sourceCaches[n].used=!1;this._updateZoomHistory(t);for(var r=0,o=e._order;r<o.length;r+=1){var i=o[r],a=e._layers[i];a.recalculate(t),!a.isHidden(t)&&a.source&&(e.sourceCaches[a.source].used=!0)}this.light.recalculate(t),Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(300),this.z=t}},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t,e){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(r.length||o.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,o);for(var i in n._updatedSources){var a=n._updatedSources[i];"reload"===a?n._reloadSource(i):"clear"===a&&n._clearSource(i)}this._applyClasses(t,e),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===n._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:r})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),y.emitErrors(this,y(t)))return!1;t=l.clone(t),t.layers=E(t.layers);var n=S(this.serialize(),t).filter(function(t){return!(t.command in O)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in P)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addImage=function(t,e){if(this.imageManager.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},e.prototype.removeImage=function(t){if(!this.imageManager.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},e.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(y.source,"sources."+t,e,null,n))){var o=this.sourceCaches[t]=new b(t,e,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:o.serialize(),sourceId:t}}),o.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if("object"==typeof t.source&&(this.addSource(r,t.source),t=l.clone(t),t=l.extend(t,{source:r})),!this._validate(y.layer,"layers."+r,t,{arrayIndex:-1},n)){var i=o.create(t);this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}});var a=e?this._order.indexOf(e):this._order.length;if(this._order.splice(a,0,r),this._layers[r]=i,this._removedLayers[r]&&i.source){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),"symbol"===i.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},e.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var n=this._layers[t];if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(t);this._order.splice(r,1);var o=e?this._order.indexOf(e):this._order.length;this._order.splice(o,0,t),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload",this.sourceCaches[n.source].pause()))},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")});r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")});null!==e&&void 0!==e&&this._validate(y.filter,"layers."+n.id+".filter",e)||l.deepEqual(n.filter,e)||(n.filter=l.clone(e),this._updateLayer(n))},e.prototype.getFilter=function(t){return l.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});l.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r))},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n,r){this._checkLoaded();var o=this.getLayer(t);if(!o)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!l.deepEqual(o.getPaintProperty(e,r),n)){var i=o.isPaintValueFeatureConstant(e);o.setPaintProperty(e,n,r),!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property)&&i||this._updateLayer(o),this.updateClasses(t,e)}},e.prototype.getPaintProperty=function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},e.prototype.getTransition=function(){return l.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updateClasses=function(t,e){if(this._changed=!0,t){var n=this._updatedPaintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return l.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:l.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],r=this._order.length-1;r>=0;r--)for(var o=e._order[r],i=0,a=t;i<a.length;i+=1){var s=a[i],u=s[o];if(u)for(var c=0,l=u;c<l.length;c+=1){var h=l[c];n.push(h)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,r){var o=this;e&&e.filter&&this._validate(y.filter,"queryRenderedFeatures.filter",e.filter);var i={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=e.layers;a<s.length;a+=1){var u=s[a],c=o._layers[u];if(!c)return o.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."}),[];i[c.source]=!0}}var l=[];for(var h in o.sourceCaches)if(!e.layers||i[h]){var p=_.rendered(o.sourceCaches[h],o._layers,t,e,n,r);l.push(p)}return this._flattenRenderedFeatures(l)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(y.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?_.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return g(t)?n(new Error('A source type called "'+t+'" already exists.')):(v(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var o in t)if(!l.deepEqual(t[o],n[o])){r=!0;break}if(r){var i=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{transition:!0},i,this.animationLoop)}},e.prototype._validate=function(t,e,n,r,o){return(!o||!1!==o.validate)&&y.emitErrors(this,t.call(y,l.extend({key:e,style:this.serialize(),value:n,styleSpec:w},r)))},e.prototype._remove=function(){var t=this;T.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._redoPlacement=function(){var t=this;for(var e in t.sourceCaches)t.sourceCaches[e].redoPlacement()},e.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},e.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},e}(r);e.exports=I},{"../render/glyph_manager":75,"../render/image_manager":77,"../render/line_atlas":78,"../source/query_features":94,"../source/rtl_text_plugin":96,"../source/source":97,"../source/source_cache":98,"../style-spec/deref":107,"../style-spec/diff":108,"../style-spec/function":112,"../style-spec/reference/latest":123,"../util/ajax":201,"../util/browser":202,"../util/dispatcher":208,"../util/evented":210,"../util/global_worker_pool":212,"../util/mapbox":217,"../util/util":223,"./animation_loop":150,"./light":151,"./load_sprite":153,"./style_layer":158,"./validate_style":166}],157:[function(t,e,n){"use strict";var r=t("../style-spec/function"),o=t("../util/util"),i=function(t,e){var n=this;if(this.value=o.clone(e),this.isFunction=r.isFunctionDefinition(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.function=r(this.value,t),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,this.isFeatureConstant||this.isZoomConstant){if(!this.isZoomConstant){this.stopZoomLevels=[];for(var i=0,a=n.value.stops;i<a.length;i+=1){var s=a[i];n.stopZoomLevels.indexOf(s[0])<0&&n.stopZoomLevels.push(s[0])}}}else{this.stopZoomLevels=[];for(var u=[],c=0,l=n.value.stops;c<l.length;c+=1){var h=l[c],p=h[0].zoom;n.stopZoomLevels.indexOf(p)<0&&(n.stopZoomLevels.push(p),u.push([p,u.length]))}this._functionInterpolationT=r({type:"exponential",stops:u,base:e.base},{type:"number"})}};i.prototype.calculate=function(t,e){var n=this.function(t&&t.zoom,e||{});return void 0!==this.minimum&&n<this.minimum?this.minimum:n},i.prototype.calculateInterpolationT=function(t){return this.isFeatureConstant||this.isZoomConstant?0:this._functionInterpolationT(t&&t.zoom,{})},e.exports=i},{"../style-spec/function":112,"../util/util":223}],158:[function(t,e,n){"use strict";function r(t){return t.value}var o=t("../util/util"),i=t("./style_transition"),a=t("./style_declaration"),s=t("../style-spec/reference/latest"),u=t("./validate_style"),c=t("./../style-spec/util/parse_color"),l=t("../util/evented"),h=function(t){function e(e){var n=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this.paint={},this.layout={},this._paintSpecifications=s["paint_"+this.type],this._layoutSpecifications=s["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,o,i={validate:!1};for(var a in e){var u=a.match(/^paint(?:\.(.*))?$/);if(u){var c=u[1]||"";for(r in e[a])n.setPaintProperty(r,e[a][r],c,i)}}for(o in e.layout)n.setLayoutProperty(o,e.layout[o],i);for(r in n._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(o in n._layoutSpecifications)n._updateLayoutValue(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setLayoutProperty=function(t,e,n){if(null==e)delete this._layoutDeclarations[t];else{var r="layers."+this.id+".layout."+t;if(this._validate(u.layoutProperty,r,t,e,n))return;this._layoutDeclarations[t]=new a(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},e.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},e.prototype.getLayoutValue=function(t,e,n){var r=this._layoutSpecifications[t],o=this._layoutDeclarations[t];return o?o.calculate(e,n):r.default},e.prototype.setPaintProperty=function(t,e,n,r){var i="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(o.endsWith(t,"-transition"))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._validate(u.paintProperty,i,t,e,r))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._validate(u.paintProperty,i,t,e,r))return;this._paintDeclarations[n||""][t]=new a(this._paintSpecifications[t],e)}},e.prototype.getPaintProperty=function(t,e){return e=e||"",o.endsWith(t,"-transition")?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},e.prototype.getPaintValue=function(t,e,n){var r=this._paintSpecifications[t],o=this._paintTransitions[t];return o?o.calculate(e,n):"color"===r.type&&r.default?c(r.default):r.default},e.prototype.getPaintValueStopZoomLevels=function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},e.prototype.getLayoutValueStopZoomLevels=function(t){var e=this._layoutDeclarations[t];return e?e.stopZoomLevels:[]},e.prototype.getPaintInterpolationT=function(t,e){return this._paintTransitions[t].declaration.calculateInterpolationT(e)},e.prototype.getLayoutInterpolationT=function(t,e){return this._layoutDeclarations[t].calculateInterpolationT(e)},e.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},e.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},e.prototype.isPaintValueZoomConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},e.prototype.isLayoutValueZoomConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isZoomConstant},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility},e.prototype.updatePaintTransitions=function(t,e,n,r,i){for(var a=this,s=o.extend({},this._paintDeclarations[""]),u=0;u<t.length;u++)o.extend(s,a._paintDeclarations[t[u]]);var c;for(c in s)a._applyPaintDeclaration(c,s[c],e,n,r,i);for(c in a._paintTransitions)c in s||a._applyPaintDeclaration(c,null,e,n,r,i)},e.prototype.updatePaintTransition=function(t,e,n,r,o,i){for(var a=this,s=this._paintDeclarations[""][t],u=0;u<e.length;u++){var c=a._paintDeclarations[e[u]];c&&c[t]&&(s=c[t])}this._applyPaintDeclaration(t,s,n,r,o,i)},e.prototype.recalculate=function(t){var e=this;for(var n in e._paintTransitions)e.paint[n]=e.getPaintValue(n,{zoom:t});for(var r in e._layoutFunctions)e.layout[r]=e.getLayoutValue(r,{zoom:t})},e.prototype.serialize=function(){var t=this,e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,r)};for(var n in t._paintDeclarations)e[""===n?"paint":"paint."+n]=o.mapObject(t._paintDeclarations[n],r);return o.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},e.prototype._applyPaintDeclaration=function(t,e,n,r,s,u){var c=n.transition?this._paintTransitions[t]:void 0,l=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new a(l,l.default)),!c||c.declaration.json!==e.json){var h=o.extend({duration:300,delay:0},r,this.getPaintProperty(t+"-transition")),p=this._paintTransitions[t]=new i(l,e,c,h,u);p.instant()||(p.loopID=s.set(p.endTime-Date.now())),c&&s.cancel(c.loopID)}},e.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},e.prototype._validate=function(t,e,n,r,o){return(!o||!1!==o.validate)&&u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:s,style:{glyphs:!0,sprite:!0}}))},e.prototype.has3DPass=function(){return!1},e}(l);e.exports=h;var p={circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:h,raster:h};h.create=function(t){return new p[t.type](t)}},{"../style-spec/reference/latest":123,"../util/evented":210,"../util/util":223,"./../style-spec/util/parse_color":128,"./style_declaration":157,"./style_layer/circle_style_layer":159,"./style_layer/fill_extrusion_style_layer":160,"./style_layer/fill_style_layer":161,"./style_layer/line_style_layer":162,"./style_layer/symbol_style_layer":163,"./style_transition":165,"./validate_style":166}],159:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/circle_bucket"),i=t("../../util/intersection_tests"),a=i.multiPolygonIntersectsBufferedMultiPoint,s=t("../query_utils"),u=s.getMaximumPaintValue,c=s.translateDistance,l=s.translate,h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new o(t)},e.prototype.queryRadius=function(t){return u("circle-radius",this,t)+c(this.paint["circle-translate"])},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,i){var s=l(t,this.getPaintValue("circle-translate",{zoom:r},e.properties),this.getPaintValue("circle-translate-anchor",{zoom:r},e.properties),o,i),u=this.getPaintValue("circle-radius",{zoom:r},e.properties)*i;return a(s,n,u)},e}(r);e.exports=h},{"../../data/bucket/circle_bucket":43,"../../util/intersection_tests":214,"../query_utils":155,"../style_layer":158}],160:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/fill_extrusion_bucket"),i=t("../../util/intersection_tests"),a=i.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),u=s.translateDistance,c=s.translate,l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var o=t.prototype.getPaintValue.call(this,e,n,r);return"fill-extrusion-color"===e&&o&&(o[3]=1),o},e.prototype.createBucket=function(t){return new o(t)},e.prototype.queryRadius=function(){return u(this.paint["fill-extrusion-translate"])},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,i){var s=c(t,this.getPaintValue("fill-extrusion-translate",{zoom:r},e.properties),this.getPaintValue("fill-extrusion-translate-anchor",{zoom:r},e.properties),o,i);return a(s,n)},e.prototype.has3DPass=function(){return 0!==this.paint["fill-extrusion-opacity"]&&"none"!==this.layout.visibility},e}(r);e.exports=l},{"../../data/bucket/fill_extrusion_bucket":45,"../../util/intersection_tests":214,"../query_utils":155,"../style_layer":158}],161:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/fill_bucket"),i=t("../../util/intersection_tests"),a=i.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),u=s.translateDistance,c=s.translate,l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var o=this;if("fill-outline-color"===e){if(void 0===this.getPaintProperty("fill-outline-color"))return t.prototype.getPaintValue.call(this,"fill-color",n,r);for(var i=this._paintTransitions["fill-outline-color"];i;){if(!(i&&i.declaration&&i.declaration.value))return t.prototype.getPaintValue.call(o,"fill-color",n,r);i=i.oldTransition}}return t.prototype.getPaintValue.call(this,e,n,r)},e.prototype.getPaintValueStopZoomLevels=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):t.prototype.getPaintValueStopZoomLevels.call(this,e)},e.prototype.getPaintInterpolationT=function(e,n){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintInterpolationT.call(this,"fill-color",n):t.prototype.getPaintInterpolationT.call(this,e,n)},e.prototype.isPaintValueFeatureConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):t.prototype.isPaintValueFeatureConstant.call(this,e)},e.prototype.isPaintValueZoomConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueZoomConstant.call(this,"fill-color"):t.prototype.isPaintValueZoomConstant.call(this,e)},e.prototype.createBucket=function(t){return new o(t)},e.prototype.queryRadius=function(){return u(this.paint["fill-translate"])},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,i){var s=c(t,this.getPaintValue("fill-translate",{zoom:r},e.properties),this.getPaintValue("fill-translate-anchor",{zoom:r},e.properties),o,i);return a(s,n)},e}(r);e.exports=l},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":214,"../query_utils":155,"../style_layer":158}],162:[function(t,e,n){"use strict";function r(t,e){return e>0?e+2*t:t}function o(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],u=0;u<a.length;u++){var c=a[u-1],l=a[u],h=a[u+1],p=0===u?r:l.sub(c)._unit()._perp(),f=u===a.length-1?r:h.sub(l)._unit()._perp(),d=p._add(f)._unit(),m=d.x*f.x+d.y*f.y;d._mult(1/m),s.push(d._mult(e)._add(l))}n.push(s)}return n}var i=t("@mapbox/point-geometry"),a=t("../style_layer"),s=t("../../data/bucket/line_bucket"),u=t("../../util/intersection_tests"),c=u.multiPolygonIntersectsBufferedMultiLine,l=t("../query_utils"),h=l.getMaximumPaintValue,p=l.translateDistance,f=l.translate,d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new s(t)},e.prototype.queryRadius=function(t){var e=t,n=r(h("line-width",this,e),h("line-gap-width",this,e)),o=h("line-offset",this,e);return n/2+Math.abs(o)+p(this.paint["line-translate"])},e.prototype.queryIntersectsFeature=function(t,e,n,i,a,s){var u=f(t,this.getPaintValue("line-translate",{zoom:i},e.properties),this.getPaintValue("line-translate-anchor",{zoom:i},e.properties),a,s),l=s/2*r(this.getPaintValue("line-width",{zoom:i},e.properties),this.getPaintValue("line-gap-width",{zoom:i},e.properties)),h=this.getPaintValue("line-offset",{zoom:i},e.properties);return h&&(n=o(n,h*s)),c(u,n,l)},e}(a);e.exports=d},{"../../data/bucket/line_bucket":46,"../../util/intersection_tests":214,"../query_utils":155,"../style_layer":158,"@mapbox/point-geometry":2}],163:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/symbol_bucket"),i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,n,r){var o=t.prototype.getLayoutValue.call(this,e,n,r);if("auto"!==o)return o;switch(e){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);case"icon-pitch-alignment":return this.getLayoutValue("icon-rotation-alignment",n,r);default:return o}},e.prototype.createBucket=function(t){return new o(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(r);e.exports=i},{"../../data/bucket/symbol_bucket":47,"../style_layer":158}],164:[function(t,e,n){"use strict";var r=t("./style_layer"),o=t("../util/util"),i=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){var e=this;this.symbolOrder=[];for(var n=0,r=t;n<r.length;n+=1){var o=r[n];"symbol"===o.type&&e.symbolOrder.push(o.id)}this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e,n){for(var s=this,u=0,c=t;u<c.length;u+=1){var l=c[u];s._layerConfigs[l.id]=l;var h=s._layers[l.id]=r.create(l);h.updatePaintTransitions({},{transition:!1}),h.filter=i(h.filter)}for(var p=0,f=e;p<f.length;p+=1){var d=f[p];delete s._layerConfigs[d],delete s._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var m=a(o.values(this._layerConfigs)),y=0,g=m;y<g.length;y+=1){var v=g[y],_=v.map(function(t){return s._layers[t.id]}),b=_[0];if(!b.layout||"none"!==b.layout.visibility){var w=b.source||"",x=s.familiesBySource[w];x||(x=s.familiesBySource[w]={});var C=b.sourceLayer||"_geojsonTileLayer",E=x[C];E||(E=x[C]=[]),E.push(_)}}},e.exports=s},{"../style-spec/feature_filter":110,"../style-spec/group_by_layout":113,"../util/util":223,"./style_layer":158}],165:[function(t,e,n){"use strict";function r(t,e,n){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var o=t("../util/util"),i=t("../style-spec/util/interpolate"),a={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},s=function(t,e,n,o,s){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=o.duration||0,this.delay=o.delay||0,this.zoomTransitioned="piecewise-constant"===t.function&&t.transition,this.interp=this.zoomTransitioned?r:i[t.type],this.zoomHistory=s||a,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};s.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},s.prototype.calculate=function(t,e,n){var r=this._calculateTargetValue(t,e);if(this.instant())return r;if((n=n||Date.now())>=this.endTime)return r;var i=this.oldTransition.calculate(t,e,this.startTime),a=o.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(i,r,a)},s.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var n=t.zoom,r=this.zoomHistory.lastIntegerZoom,o=n>r?2:.5,a=this.declaration.calculate({zoom:n>r?n-1:n+1},e),s=this.declaration.calculate({zoom:n},e),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),c=Math.abs(n-r),l=i(u,1,c);return void 0!==a&&void 0!==s?{from:a,fromScale:o,to:s,toScale:1,t:l}:void 0},e.exports=s},{"../style-spec/util/interpolate":127,"../util/util":223}],166:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0,r=e;n<r.length;n+=1){var o=r[n],i=o.message;t.fire("error",{error:new Error(i)})}return!0}return!1}},{"../style-spec/validate_style.min":149}],167:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),o=function(t){function e(e,n,r,o){t.call(this,e,n),this.angle=r,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);e.exports=o},{"@mapbox/point-geometry":2}],168:[function(t,e,n){"use strict";function r(t,e,n,r,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],c=0;s<n/2;){var l=t[a-1],h=t[a],p=t[a+1];if(!p)return!1;var f=l.angleTo(h)-h.angleTo(p);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:f}),c+=f;s-u[0].distance>r;)c-=u.shift().angleDelta;if(c>o)return!1;a++,s+=h.dist(p)}return!0}e.exports=r},{}],169:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],c=void 0,l=0;l<u.length-1;l++){var h=u[l],p=u[l+1];h.x<e&&p.x<e||(h.x<e?h=new o(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round():p.x<e&&(p=new o(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round()),h.y<n&&p.y<n||(h.y<n?h=new o(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n)._round():p.y<n&&(p=new o(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n)._round()),h.x>=r&&p.x>=r||(h.x>=r?h=new o(r,h.y+(p.y-h.y)*((r-h.x)/(p.x-h.x)))._round():p.x>=r&&(p=new o(r,h.y+(p.y-h.y)*((r-h.x)/(p.x-h.x)))._round()),h.y>=i&&p.y>=i||(h.y>=i?h=new o(h.x+(p.x-h.x)*((i-h.y)/(p.y-h.y)),i)._round():p.y>=i&&(p=new o(h.x+(p.x-h.x)*((i-h.y)/(p.y-h.y)),i)._round()),c&&h.equals(c[c.length-1])||(c=[h],a.push(c)),c.push(p)))))}return a}var o=t("@mapbox/point-geometry");e.exports=r},{"@mapbox/point-geometry":2}],170:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("@mapbox/point-geometry"),i=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"offsetX"},{type:"Int16",name:"offsetY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"unadjustedMaxScale"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(i.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),e.exports=i},{"../util/struct_array":220,"@mapbox/point-geometry":2}],171:[function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s,u,c,l){var h=a.top*s-u,p=a.bottom*s+u,f=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=t.length,c){var m=p-h,y=d-f;if(m>0)if(m=Math.max(10*s,m),l){var g=e[n.segment+1].sub(e[n.segment])._unit()._mult(y),v=[n.sub(g),n.add(g)];this._addLineCollisionBoxes(t,v,n,0,y,m,r,o,i)}else this._addLineCollisionBoxes(t,e,n,n.segment,y,m,r,o,i)}else t.emplaceBack(n.x,n.y,0,0,f,h,d,p,1/0,1/0,r,o,i,0,0,0,0,0);this.boxEndIndex=t.length};r.prototype._addLineCollisionBoxes=function(t,e,n,r,o,i,a,s,u){var c=i/2,l=Math.floor(o/c),h=Math.floor(l/2),p=-i/2,f=n,d=r+1,m=p,y=-o/2,g=y-o/8;do{if(--d<0){if(m>y)return;d=0;break}m-=e[d].dist(f),f=e[d]}while(m>g);for(var v=e[d].dist(e[d+1]),_=-h;_<l+h;_++){var b=_*c,w=y+b;if(b<0&&(w+=b),b>o&&(w+=b-o),!(w<m)){for(;m+v<w;){if(m+=v,++d+1>=e.length)return;v=e[d].dist(e[d+1])}var x=w-m,C=e[d],E=e[d+1],S=E.sub(C)._unit()._mult(x)._add(C)._round(),T=Math.max(Math.abs(w-p)-c/2,0),P=o/2/T;(_<0||_>=l)&&(P=Math.min(P,.99)),t.emplaceBack(S.x,S.y,S.x-n.x,S.y-n.y,-i/2,-i/2,i/2,i/2,P,P,a,s,u,0,0,0,0,0)}}},e.exports=r},{}],172:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),o=t("../data/extent"),i=t("grid-index"),a=t("../util/intersection_tests"),s=function(t,e,n,r,a,s,u){void 0===s&&(s=new i(o,12,6)),void 0===u&&(u=new i(o,12,0)),this.angle=t,this.pitch=e,this.cameraToCenterDistance=n,this.cameraToTileDistance=r,this.grid=s,this.ignoredGrid=u,this.perspectiveRatio=1+.5*(r/n-1),this.minScale=.5/this.perspectiveRatio,this.maxScale=2/this.perspectiveRatio;var c=Math.sin(this.angle),l=Math.cos(this.angle);this.rotationMatrix=[l,-c,c,l],this.reverseRotationMatrix=[l,c,-c,l],this.yStretch=Math.max(1,r/(n*Math.cos(e/180*Math.PI))),this.collisionBoxArray=a,0===a.length&&(a.emplaceBack(),a.emplaceBack(0,0,0,0,0,-o,0,o,1/0,1/0,0,0,0,0,0,0,0,0,0),a.emplaceBack(o,0,0,0,0,-o,0,o,1/0,1/0,0,0,0,0,0,0,0,0,0),a.emplaceBack(0,0,0,0,-o,0,o,0,1/0,1/0,0,0,0,0,0,0,0,0,0),a.emplaceBack(0,o,0,0,-o,0,o,0,1/0,1/0,0,0,0,0,0,0,0,0,0)),this.tempCollisionBox=a.get(0),this.edges=[a.get(1),a.get(2),a.get(3),a.get(4)]};s.deserialize=function(t,e){return new s(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,e,new i(t.grid),new i(t.ignoredGrid))},s.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(n)),{angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,grid:e,ignoredGrid:n}},s.prototype.placeCollisionFeature=function(t,e,n){for(var o=this,i=this.collisionBoxArray,a=this.minScale,s=this.rotationMatrix,u=this.yStretch,c=t.boxStartIndex;c<t.boxEndIndex;c++){var l=i.get(c),h=l.anchorPoint._matMult(s),p=h.x,f=h.y,d=p+l.x1*o.perspectiveRatio,m=f+l.y1*u*o.perspectiveRatio,y=p+l.x2*o.perspectiveRatio,g=f+l.y2*u*o.perspectiveRatio;l.bbox0=d,l.bbox1=m,l.bbox2=y,l.bbox3=g;var v=new r(l.offsetX,l.offsetY)._matMult(s),_=v.x*v.x,b=v.y*v.y,w=b*u*u,x=Math.sqrt((_+w)/(_+b))||1;if(l.maxScale=l.unadjustedMaxScale*x,!e)for(var C=o.grid.query(d,m,y,g),E=0;E<C.length;E++){var S=i.get(C[E]),T=S.anchorPoint._matMult(s);if((a=o.getPlacementScale(a,h,l,T,S))>=o.maxScale)return a}if(n){var P=void 0;if(o.angle){var O=o.reverseRotationMatrix,I=new r(l.x1,l.y1).matMult(O),A=new r(l.x2,l.y1).matMult(O),k=new r(l.x1,l.y2).matMult(O),D=new r(l.x2,l.y2).matMult(O);P=o.tempCollisionBox,P.anchorPointX=l.anchorPoint.x,P.anchorPointY=l.anchorPoint.y,P.x1=Math.min(I.x,A.x,k.x,D.x),P.y1=Math.min(I.y,A.x,k.x,D.x),P.x2=Math.max(I.x,A.x,k.x,D.x),P.y2=Math.max(I.y,A.x,k.x,D.x),P.maxScale=l.maxScale}else P=l;for(var R=0;R<this.edges.length;R++){var M=o.edges[R];if((a=o.getPlacementScale(a,l.anchorPoint,P,M.anchorPoint,M))>=o.maxScale)return a}}}return a},s.prototype.queryRenderedSymbols=function(t,e){var n={},o=[];if(0===t.length||0===this.grid.keys.length&&0===this.ignoredGrid.keys.length)return o;for(var i=this.collisionBoxArray,s=this.rotationMatrix,u=this.yStretch,c=[],l=1/0,h=1/0,p=-1/0,f=-1/0,d=0;d<t.length;d++)for(var m=t[d],y=0;y<m.length;y++){var g=m[y].matMult(s);l=Math.min(l,g.x),h=Math.min(h,g.y),p=Math.max(p,g.x),f=Math.max(f,g.y),c.push(g)}for(var v=this.grid.query(l,h,p,f),_=this.ignoredGrid.query(l,h,p,f),b=0;b<_.length;b++)v.push(_[b]);for(var w=e/this.perspectiveRatio,x=Math.pow(2,Math.ceil(Math.log(w)/Math.LN2*10)/10),C=0;C<v.length;C++){var E=i.get(v[C]),S=E.sourceLayerIndex,T=E.featureIndex;if(void 0===n[S]&&(n[S]={}),!n[S][T]&&!(x<E.placementScale||x>E.maxScale)){var P=E.anchorPoint.matMult(s),O=P.x+E.x1/w,I=P.y+E.y1/w*u,A=P.x+E.x2/w,k=P.y+E.y2/w*u,D=[new r(O,I),new r(A,I),new r(A,k),new r(O,k)];a.polygonIntersectsPolygon(c,D)&&(n[S][T]=!0,o.push(v[C]))}}return o},s.prototype.getPlacementScale=function(t,e,n,r,o){var i=e.x-r.x,a=e.y-r.y,s=(o.x1-n.x2)/i,u=(o.x2-n.x1)/i,c=(o.y1-n.y2)*this.yStretch/a,l=(o.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(c)||isNaN(l))&&(c=l=1);var h=Math.min(Math.max(s,u),Math.max(c,l)),p=o.maxScale,f=n.maxScale;return h>p&&(h=p),h>f&&(h=f),h>t&&h>=o.placementScale&&(t=h),t},s.prototype.insertCollisionFeature=function(t,e,n){for(var r=this,o=n?this.ignoredGrid:this.grid,i=this.collisionBoxArray,a=t.boxStartIndex;a<t.boxEndIndex;a++){var s=i.get(a);s.placementScale=e,e<r.maxScale&&(1===r.perspectiveRatio||s.maxScale>=1)&&o.insert(a,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},e.exports=s},{"../data/extent":48,"../util/intersection_tests":214,"@mapbox/point-geometry":2,"grid-index":22}],173:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,u,c){var l=r?.6*a*s:0,h=Math.max(r?r.right-r.left:0,i?i.right-i.left:0),p=0===t[0].x||t[0].x===c||0===t[0].y||t[0].y===c;e-h*s<e/4&&(e=h*s+e/4);var f=2*a;return o(t,p?e/2*u%e:(h/2+f)*s*u%e,e,l,n,h*s,p,!1,c)}function o(t,e,n,r,u,c,l,h,p){for(var f=c/2,d=0,m=0;m<t.length-1;m++)d+=t[m].dist(t[m+1]);for(var y=0,g=e-n,v=[],_=0;_<t.length-1;_++){for(var b=t[_],w=t[_+1],x=b.dist(w),C=w.angleTo(b);g+n<y+x;){g+=n;var E=(g-y)/x,S=i(b.x,w.x,E),T=i(b.y,w.y,E);if(S>=0&&S<p&&T>=0&&T<p&&g-f>=0&&g+f<=d){var P=new a(S,T,C,_);P._round(),r&&!s(t,P,c,r,u)||v.push(P)}}y+=x}return h||v.length||l||(v=o(t,y/2,n,r,u,c,l,!0,p)),v}var i=t("../style-spec/util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../style-spec/util/interpolate":127,"../symbol/anchor":167,"./check_max_angle":168}],174:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),u++}function n(t,e,n){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(t,e,n){var r=i[e];return delete i[e],i[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function o(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var i={},a={},s=[],u=0,c=0;c<t.length;c++){var l=t[c],h=l.geometry,p=l.text;if(p){var f=o(p,h),d=o(p,h,!0);if(f in a&&d in i&&a[f]!==i[d]){var m=r(f,d,h),y=n(f,d,s[m].geometry);delete i[f],delete a[d],a[o(p,s[y].geometry,!0)]=y,s[m].geometry=null}else f in a?n(f,d,h):d in i?r(f,d,h):(e(c),i[f]=u-1,a[d]=u-1)}else e(c)}return s.filter(function(t){return t.geometry})}},{}],175:[function(t,e,n){"use strict";function r(t,e,n,r,o){var i=d.identity(new Float32Array(16));return e?(d.identity(i),d.scale(i,i,[1/o,1/o,1]),n||d.rotateZ(i,i,r.angle)):(d.scale(i,i,[r.width/2,-r.height/2,1]),d.translate(i,i,[1,-1,0]),d.multiply(i,i,t)),i}function o(t,e,n,r,o){var i=d.identity(new Float32Array(16));return e?(d.multiply(i,i,t),d.scale(i,i,[o,o,1]),n||d.rotateZ(i,i,-r.angle)):(d.scale(i,i,[1,-1,1]),d.translate(i,i,[-1,-1,0]),d.scale(i,i,[2/r.width,2/r.height,1])),i}function i(t,e){var n=[t.x,t.y,0,1];m.transformMat4(n,n,e);var r=n[3];return{point:new p(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function a(t,e,n,r){var o=t[0]/t[3],i=t[1]/t[3];return o>=-n[0]&&o<=n[0]&&i>=-n[1]&&i<=n[1]&&r.frameHistory.isVisible(e)}function s(t,e,n,r,o,s,c,l,f,d){var g=r?t.textSizeData:t.iconSizeData,v=y.evaluateSizeForZoom(g,n.transform,d,r),_=[256/n.width*2+1,256/n.height*2+1],b=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;b.clear();for(var w=t.lineVertexArray,x=r?t.placedGlyphArray:t.placedIconArray,C=0;C<x.length;C++){var E=x.get(C),S=[E.anchorX,E.anchorY,0,1];if(m.transformMat4(S,S,e),a(S,E.placementZoom,_,n)){var T=S[3],P=1+.5*(T/n.transform.cameraToCenterDistance-1),O=y.evaluateSizeForFeature(g,v,E),I=c?O*P:O/P,A=new p(E.anchorX,E.anchorY),k=i(A,o).point,D={},R=u(E,I,!1,l,e,o,s,t.glyphOffsetArray,w,b,k,A,D);(R.notEnoughRoom||R.needsFlipping&&u(E,I,!0,l,e,o,s,t.glyphOffsetArray,w,b,k,A,D).notEnoughRoom)&&h(E.numGlyphs,b)}else h(E.numGlyphs,b)}r?t.text.dynamicLayoutVertexBuffer.updateData(b.serialize()):t.icon.dynamicLayoutVertexBuffer.updateData(b.serialize())}function u(t,e,n,r,o,a,s,u,h,f,d,m,y){var g,_=e/24,b=t.lineOffsetX*e,w=t.lineOffsetY*e;if(t.numGlyphs>1){var x=t.glyphStartIndex+t.numGlyphs,C=u.get(t.glyphStartIndex).offsetX,E=u.get(x-1).offsetX,S=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,P=l(_*C,b,w,n,d,m,t.segment,S,T,h,a,y);if(!P)return{notEnoughRoom:!0};var O=l(_*E,b,w,n,d,m,t.segment,S,T,h,a,y);if(!O)return{notEnoughRoom:!0};var I=i(P.point,s).point,A=i(O.point,s).point;if(r&&!n&&(t.vertical?I.y<A.y:I.x>A.x))return{needsFlipping:!0};g=[P];for(var k=t.glyphStartIndex+1;k<x-1;k++){var D=u.get(k);g.push(l(_*D.offsetX,b,w,n,d,m,t.segment,S,T,h,a,y))}g.push(O)}else{if(r&&!n){var R=i(m,o).point,M=h.get(t.lineStartIndex+t.segment+1),N=i(M,o),L=N.signedDistanceFromCamera>0?N.point:c(m,new p(M.x,M.y),R,1,o);if(t.vertical?L.y>R.y:L.x<R.x)return{needsFlipping:!0}}var F=u.get(t.glyphStartIndex),V=l(_*F.offsetX,b,w,n,d,m,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,h,a,y);if(!V)return{notEnoughRoom:!0};g=[V]}for(var j=t.placementZoom,z=0,B=g;z<B.length;z+=1){var U=B[z];v(f,U.point,U.angle,j)}return{}}function c(t,e,n,r,o){var a=i(t.add(t.sub(e)._unit()),o).point,s=n.sub(a);return n.add(s._mult(r/s.mag()))}function l(t,e,n,r,o,a,s,u,l,h,f,d){var m=r?t-e:t+e,y=m>0?1:-1,g=0;r&&(y*=-1,g=Math.PI),y<0&&(g+=Math.PI);for(var v=y>0?u+s:u+s+1,_=o,b=o,w=0,x=0,C=Math.abs(m);w+x<=C;){if((v+=y)<u||v>=l)return null;if(b=_,void 0===(_=d[v])){var E=i(h.get(v),f);_=E.signedDistanceFromCamera>0?d[v]=E.point:c(0===w?a:new p(h.get(v-y).x,h.get(v-y).y),new p(h.get(v).x,h.get(v).y),b,C-w+1,f)}w+=x,x=b.dist(_)}var S=(C-w)/x,T=_.sub(b),P=T.mult(S)._add(b);return P._add(T._unit()._perp()._mult(n*y)),{point:P,angle:g+Math.atan2(_.y-b.y,_.x-b.x)}}function h(t,e){for(var n=0;n<t;n++)v(e,_,0,25)}var p=t("@mapbox/point-geometry"),f=t("@mapbox/gl-matrix"),d=f.mat4,m=f.vec4,y=t("./symbol_size"),g=t("../data/bucket/symbol_bucket"),v=g.addDynamicAttributes;e.exports={updateLineLabels:s,getLabelPlaneMatrix:r,getGlCoordMatrix:o};var _=new p(-1/0,-1/0)},{"../data/bucket/symbol_bucket":47,"./symbol_size":178,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],176:[function(t,e,n){"use strict";function r(t,e,n,r,o,a,s){var u,c,l,h,p=e.image,f=n.layout,d=e.top-1/p.pixelRatio,m=e.left-1/p.pixelRatio,y=e.bottom+1/p.pixelRatio,g=e.right+1/p.pixelRatio;if("none"!==f["icon-text-fit"]&&o){var v=g-m,_=y-d,b=f["text-size"]/24,w=o.left*b,x=o.right*b,C=o.top*b,E=o.bottom*b,S=x-w,T=E-C,P=f["icon-text-fit-padding"][0],O=f["icon-text-fit-padding"][1],I=f["icon-text-fit-padding"][2],A=f["icon-text-fit-padding"][3],k="width"===f["icon-text-fit"]?.5*(T-_):0,D="height"===f["icon-text-fit"]?.5*(S-v):0,R="width"===f["icon-text-fit"]||"both"===f["icon-text-fit"]?S:v,M="height"===f["icon-text-fit"]||"both"===f["icon-text-fit"]?T:_;u=new i(w+D-A,C+k-P),c=new i(w+D+O+R,C+k-P),l=new i(w+D+O+R,C+k+I+M),h=new i(w+D-A,C+k+I+M)}else u=new i(m,d),c=new i(g,d),l=new i(g,y),h=new i(m,y);var N=n.getLayoutValue("icon-rotate",a,s)*Math.PI/180;if(N){var L=Math.sin(N),F=Math.cos(N),V=[F,-L,L,F];u._matMult(V),c._matMult(V),h._matMult(V),l._matMult(V)}return[{tl:u,tr:c,bl:h,br:l,tex:{x:p.textureRect.x-1,y:p.textureRect.y-1,w:p.textureRect.w+2,h:p.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function o(t,e,n,r,o,a,u){for(var c=n.getLayoutValue("text-rotate",o,a)*Math.PI/180,l=n.getLayoutValue("text-offset",o,a).map(function(t){return 24*t}),h=e.positionedGlyphs,p=[],f=0;f<h.length;f++){var d=h[f],m=u[d.glyph];if(m){var y=m.rect;if(y){var g=s+1,v=m.metrics.advance/2,_=r?[d.x+v,d.y]:[0,0],b=r?[0,0]:[d.x+v+l[0],d.y+l[1]],w=m.metrics.left-g-v+b[0],x=-m.metrics.top-g+b[1],C=w+y.w,E=x+y.h,S=new i(w,x),T=new i(C,x),P=new i(w,E),O=new i(C,E);if(r&&d.vertical){var I=new i(-v,v),A=-Math.PI/2,k=new i(5,0);S._rotateAround(A,I)._add(k),T._rotateAround(A,I)._add(k),P._rotateAround(A,I)._add(k),O._rotateAround(A,I)._add(k)}if(c){var D=Math.sin(c),R=Math.cos(c),M=[R,-D,D,R];S._matMult(M),T._matMult(M),P._matMult(M),O._matMult(M)}p.push({tl:S,tr:T,bl:P,br:O,tex:y,writingMode:e.writingMode,glyphOffset:_})}}}return p}var i=t("@mapbox/point-geometry"),a=t("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;e.exports={getIconQuads:r,getGlyphQuads:o}},{"../style/parse_glyph_pbf":154,"@mapbox/point-geometry":2}],177:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0,o=0,i=e;o<i.length;o+=1){var a=i[o];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}function o(t,e,n,o,i,a,s,u,c,h){var f=t.trim();h===_.vertical&&(f=g(f));var d,m=[],y={positionedGlyphs:m,text:f,top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h},b=v.processBidirectionalText;return d=b?b(f,l(f,s,n,e)):r(f,l(f,s,n,e)),p(y,e,d,o,i,a,h,s,c),!!m.length&&y}function i(t,e,n,r){for(var o=0,i=0;i<t.length;i++){var a=r[t.charCodeAt(i)];a&&(o+=a.metrics.advance+e)}return o/Math.max(1,Math.ceil(o/n))}function a(t,e,n,r){var o=Math.pow(t-e,2);return r?t<e?o/2:2*o:o+Math.abs(n)*n}function s(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function u(t,e,n,r,o,i){for(var s=null,u=a(e,n,o,i),c=0,l=r;c<l.length;c+=1){var h=l[c],p=e-h.x,f=a(p,n,o,i)+h.badness;f<=u&&(s=h,u=f)}return{index:t,x:e,priorBreak:s,badness:u}}function c(t){return t?c(t.priorBreak).concat(t.index):[]}function l(t,e,n,r){if(!n)return[];if(!t)return[];for(var o=[],a=i(t,e,n,r),l=0,h=0;h<t.length;h++){var p=t.charCodeAt(h),f=r[p];f&&!b[p]&&(l+=f.metrics.advance+e),h<t.length-1&&(w[p]||y.charAllowsIdeographicBreaking(p))&&o.push(u(h+1,l,a,o,s(p,t.charCodeAt(h+1)),!1))}return c(u(t.length,l,a,o,0,!0))}function h(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function p(t,e,n,r,o,i,a,s,u){for(var c=0,l=-17,p=0,m=t.positionedGlyphs,g="right"===i?1:"left"===i?0:.5,v=0,b=n;v<b.length;v+=1){var w=b[v];if(w=w.trim(),w.length){for(var x=m.length,C=0;C<w.length;C++){var E=w.charCodeAt(C),S=e[E];S&&(y.charHasUprightVerticalOrientation(E)&&a!==_.horizontal?(m.push({glyph:E,x:c,y:0,vertical:!0}),c+=u+s):(m.push({glyph:E,x:c,y:l,vertical:!1}),c+=S.metrics.advance+s))}if(m.length!==x){var T=c-s;p=Math.max(T,p),f(m,e,x,m.length-1,g)}c=0,l+=r}else l+=r}var P=h(o),O=P.horizontalAlign,I=P.verticalAlign;d(m,g,O,I,p,r,n.length);var A=n.length*r;t.top+=-I*A,t.bottom=t.top+A,t.left+=-O*p,t.right=t.left+p}function f(t,e,n,r,o){if(o){var i=e[t[r].glyph];if(i)for(var a=i.metrics.advance,s=(t[r].x+a)*o,u=n;u<=r;u++)t[u].x-=s}}function d(t,e,n,r,o,i,a){for(var s=(e-n)*o,u=(-r*a+.5)*i,c=0;c<t.length;c++)t[c].x+=s,t[c].y+=u}function m(t,e,n){var r=h(n),o=r.horizontalAlign,i=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*o,c=u+t.displaySize[0],l=s-t.displaySize[1]*i;return{image:t,top:l,bottom:l+t.displaySize[1],left:u,right:c}}var y=t("../util/script_detection"),g=t("../util/verticalize_punctuation"),v=t("../source/rtl_text_plugin"),_={horizontal:1,vertical:2};e.exports={shapeText:o,shapeIcon:m,WritingMode:_};var b={};b[9]=!0,b[10]=!0,b[11]=!0,b[12]=!0,b[13]=!0,b[32]=!0;var w={};w[10]=!0,w[32]=!0,w[38]=!0,w[40]=!0,w[41]=!0,w[43]=!0,w[45]=!0,w[47]=!0,w[173]=!0,w[183]=!0,w[8203]=!0,w[8208]=!0,w[8211]=!0,w[8231]=!0},{"../source/rtl_text_plugin":96,"../util/script_detection":218,"../util/verticalize_punctuation":225}],178:[function(t,e,n){"use strict";function r(t,e,n){var r=e;return t.isFeatureConstant?r.uSize:t.isZoomConstant?n.lowerSize/10:i.number(n.lowerSize/10,n.upperSize/10,r.uSizeT)}function o(t,e,n,r){var o={};if(t.isZoomConstant||t.isFeatureConstant)if(t.isFeatureConstant&&!t.isZoomConstant){var i;if("interval"===t.functionType)i=n.getLayoutValue(r?"text-size":"icon-size",{zoom:e.zoom});else{var a="interval"===t.functionType?0:s(e.zoom,t.functionBase,t.coveringZoomRange[0],t.coveringZoomRange[1]),c=t.coveringStopValues[0],l=t.coveringStopValues[1];i=c+(l-c)*u.clamp(a,0,1)}o.uSize=i}else t.isFeatureConstant&&t.isZoomConstant&&(o.uSize=t.layoutSize);else{var h=s(e.zoom,t.functionBase,t.coveringZoomRange[0],t.coveringZoomRange[1]);o.uSizeT=u.clamp(h,0,1)}return o}var i=t("../style-spec/util/interpolate"),a=t("../style-spec/function"),s=a.interpolationFactor,u=t("../util/util");e.exports={evaluateSizeForFeature:r,evaluateSizeForZoom:o}},{"../style-spec/function":112,"../style-spec/util/interpolate":127,"../util/util":223}],179:[function(t,e,n){"use strict";var r=t("../source/rtl_text_plugin");e.exports=function(t,e,n,o){var i=e.getLayoutValue("text-transform",n,o);return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":96}],180:[function(t,e,n){"use strict";var r=t("../util/dom"),o=t("@mapbox/point-geometry"),i={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){g("mouseout",t)}function a(e){t.stop(),x=r.mousePos(_,e),g("mousedown",e),w=!0}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();b&&!n&&g("contextmenu",b),b=null,w=!1,g("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==_;)n=n.parentNode;n===_&&g("mousemove",e)}}function c(e){t.stop(),v("touchstart",e),!e.touches||e.touches.length>1||(C?(clearTimeout(C),C=null,g("dblclick",e)):C=setTimeout(f,300))}function l(t){v("touchmove",t)}function h(t){v("touchend",t)}function p(t){v("touchcancel",t)}function f(){C=null}function d(t){r.mousePos(_,t).equals(x)&&g("click",t)}function m(t){g("dblclick",t),t.preventDefault()}function y(e){var n=t.dragRotate&&t.dragRotate.isActive();w||n?w&&(b=e):g("contextmenu",e),e.preventDefault()}function g(e,n){var o=r.mousePos(_,n);return t.fire(e,{lngLat:t.unproject(o),point:o,originalEvent:n})}function v(e,n){var i=r.touchPos(_,n),a=i.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new o(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:i.map(function(e){return t.unproject(e)},this),points:i,originalEvent:n})}var _=t.getCanvasContainer(),b=null,w=!1,x=null,C=null;for(var E in i)t[E]=new i[E](t,e),e.interactive&&e[E]&&t[E].enable(e[E]);_.addEventListener("mouseout",n,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",u,!1),_.addEventListener("touchstart",c,!1),_.addEventListener("touchend",h,!1),_.addEventListener("touchmove",l,!1),_.addEventListener("touchcancel",p,!1),_.addEventListener("click",d,!1),_.addEventListener("dblclick",m,!1),_.addEventListener("contextmenu",y,!1)}},{"../util/dom":209,"./handler/box_zoom":189,"./handler/dblclick_zoom":190,"./handler/drag_pan":191,"./handler/drag_rotate":192,"./handler/keyboard":193,"./handler/scroll_zoom":194,"./handler/touch_zoom_rotate":195,"@mapbox/point-geometry":2}],181:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../style-spec/util/interpolate"),i=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("@mapbox/point-geometry"),c=t("../util/evented"),l=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=u.convert(t).mult(-1),this.panTo(this.transform.center,r.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var o=e.padding;e.padding={top:o,bottom:o,right:o,left:o}}if(!r.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=s.convert(t);var i=[e.padding.left-e.padding.right,e.padding.top-e.padding.bottom],a=Math.min(e.padding.right,e.padding.left),c=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+i[0],e.offset[1]+i[1]];var l=u.convert(e.offset),h=this.transform,p=h.project(t.getNorthWest()),f=h.project(t.getSouthEast()),d=f.sub(p),m=(h.width-2*a-2*Math.abs(l.x))/d.x,y=(h.height-2*c-2*Math.abs(l.y))/d.y;return y<0||m<0?(r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=h.unproject(p.add(f).div(2)),e.zoom=Math.min(h.scaleZoom(h.scale*Math.min(m,y)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,o=!1,i=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(i=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),o&&this.fire("rotate",e),i&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t),!1===t.animate&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var i=this.transform,s=this.getZoom(),c=this.getBearing(),l=this.getPitch(),h="zoom"in t?+t.zoom:s,p="bearing"in t?this._normalizeBearing(t.bearing,c):c,f="pitch"in t?+t.pitch:l,d=i.centerPoint.add(u.convert(t.offset)),m=i.pointLocation(d),y=a.convert(t.center||m);this._normalizeCenter(y);var g,v,_=i.project(m),b=i.project(y).sub(_),w=i.zoomScale(h-s);return t.around&&(g=a.convert(t.around),v=i.locationPoint(g)),this.zooming=h!==s,this.rotating=c!==p,this.pitching=f!==l,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(i.zoom=o(s,h,t)),this.rotating&&(i.bearing=o(c,p,t)),this.pitching&&(i.pitch=o(l,f,t)),g)i.setLocationAtPoint(g,v);else{var n=i.zoomScale(i.zoom-s),r=h>s?Math.min(2,w):Math.max(.5,w),a=Math.pow(r,1-t),u=i.unproject(_.add(b.mult(t*a)).mult(n));i.setLocationAtPoint(i.renderWorldCopies?u.wrap():u,d)}this._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._easeToEnd(e)},t.delayEndEvents):n._easeToEnd(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._easeToEnd=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(T*T-S*S+(t?-1:1)*A*A*P*P)/(2*(t?T:S)*A*P);return Math.log(Math.sqrt(e*e+1)-e)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function c(t){return i(t)/s(t)}var l=this;this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var h=this.transform,p=this.getZoom(),f=this.getBearing(),d=this.getPitch(),m="zoom"in t?r.clamp(+t.zoom,h.minZoom,h.maxZoom):p,y="bearing"in t?this._normalizeBearing(t.bearing,f):f,g="pitch"in t?+t.pitch:d,v=h.zoomScale(m-p),_=h.centerPoint.add(u.convert(t.offset)),b=h.pointLocation(_),w=a.convert(t.center||b);this._normalizeCenter(w);var x=h.project(b),C=h.project(w).sub(x),E=t.curve,S=Math.max(h.width,h.height),T=S/v,P=C.mag();if("minZoom"in t){var O=r.clamp(Math.min(t.minZoom,p,m),h.minZoom,h.maxZoom),I=S/h.zoomScale(O-p);E=Math.sqrt(I/P*2)}var A=E*E,k=n(0),D=function(t){return s(k)/s(k+E*t)},R=function(t){return S*((s(k)*c(k+E*t)-i(k))/A)/P},M=(n(1)-k)/E;if(Math.abs(P)<1e-6||isNaN(M)){if(Math.abs(S-T)<1e-6)return this.easeTo(t,e);var N=T<S?-1:1;M=Math.abs(Math.log(T/S))/E,R=function(){return 0},D=function(t){return Math.exp(N*E*t)}}if("duration"in t)t.duration=+t.duration;else{var L="screenSpeed"in t?+t.screenSpeed/E:+t.speed;t.duration=1e3*M/L}return this.zooming=!0,this.rotating=f!==y,this.pitching=g!==d,this._prepareEase(e,!1),this._ease(function(t){var n=t*M,r=1/D(n);h.zoom=p+h.scaleZoom(r),this.rotating&&(h.bearing=o(f,y,t)),this.pitching&&(h.pitch=o(d,g,t));var i=h.unproject(x.add(C.mult(R(n))).mult(r));h.setLocationAtPoint(h.renderWorldCopies?i.wrap():i,_),this._fireMoveEvents(e)},function(){return l._easeToEnd(e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,n){this._finishFn=e,this._abortFn=i.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},!1===n.animate?0:n.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var n=this._prevEase,o=(Date.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);e=r.bezier(a,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(c);e.exports=l},{"../geo/lng_lat":58,"../geo/lng_lat_bounds":59,"../style-spec/util/interpolate":127,"../util/browser":202,"../util/evented":210,"../util/util":223,"@mapbox/point-geometry":2}],182:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/config"),a=function(t){this.options=t,o.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:i.ACCESS_TOKEN}];if(t){var n=e.reduce(function(t,n,r){return n.value&&(t+=n.key+"="+n.value+(r<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var o=n[r].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=a},{"../../util/config":206,"../../util/dom":209,"../../util/util":223}],183:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=function(){this._fullscreen=!1,o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map=null,i.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(i.document.fullscreenEnabled||i.document.mozFullScreenEnabled||i.document.msFullscreenEnabled||i.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(i.document.fullscreenElement||i.document.mozFullScreenElement||i.document.webkitFullscreenElement||i.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?i.document.exitFullscreen?i.document.exitFullscreen():i.document.mozCancelFullScreen?i.document.mozCancelFullScreen():i.document.msExitFullscreen?i.document.msExitFullscreen():i.document.webkitCancelFullScreen&&i.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":209,"../../util/util":223,"../../util/window":204}],184:[function(t,e,n){"use strict";function r(t){void 0!==o?t(o):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){o="denied"!==e.state,t(o)}):(o=!!s.navigator.geolocation,t(o))}var o,i=t("../../util/evented"),a=t("../../util/dom"),s=t("../../util/window"),u=t("../../util/util"),c=t("../../geo/lng_lat"),l=t("../marker"),h={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},p=function(t){function e(e){t.call(this),this.options=u.extend({},h,e),u.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),a.remove(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new c(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=a.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new l(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},e}(i);e.exports=p},{"../../geo/lng_lat":58,"../../util/dom":209,"../../util/evented":210,"../../util/util":223,"../../util/window":204,"../marker":198}],185:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=function(){o.bindAll(["_updateLogo"],this)};i.prototype.onAdd=function(t){this._map=t,this._container=r.create("div","mapboxgl-ctrl");var e=r.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},i.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo)},i.prototype.getDefaultPosition=function(){return"bottom-left"},i.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},i.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=i},{"../../util/dom":209,"../../util/util":223}],186:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../handler/drag_rotate"),a=function(){var t=this;o.bindAll(["_rotateCompassArrow"],this),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return t._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return t._map.zoomOut()}),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return t._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass)};a.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},a.prototype.onAdd=function(t){return this._map=t,this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new i(t,{button:"left",element:this._compass,pitchWithRotate:!1}),this._handler.enable(),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("rotate",this._rotateCompassArrow),delete this._map,this._handler.disable(),delete this._handler},a.prototype._createButton=function(t,e,n){var o=r.create("button",t,this._container);return o.type="button",o.setAttribute("aria-label",e),o.addEventListener("click",n),o},e.exports=a},{"../../util/dom":209,"../../util/util":223,"../handler/drag_rotate":192}],187:[function(t,e,n){"use strict";function r(t,e,n){var r=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=i(t.unproject([0,a]),t.unproject([r,a]));if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?o(e,r,u/5280,"mi"):o(e,r,u,"ft")}else if(n&&"nautical"===n.unit){var c=s/1852;o(e,r,c,"nm")}else o(e,r,s,"m")}function o(t,e,n,r){var o=a(n),i=o/n;"m"===r&&o>=1e3&&(o/=1e3,r="km"),t.style.width=e*i+"px",t.innerHTML=o+r}function i(t,e){var n=Math.PI/180,r=t.lat*n,o=e.lat*n,i=Math.sin(r)*Math.sin(o)+Math.cos(r)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return 6371e3*Math.acos(Math.min(i,1))}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),u=t("../../util/util"),c=function(t){this.options=t,u.bindAll(["_onMove"],this)};c.prototype.getDefaultPosition=function(){return"bottom-left"},c.prototype._onMove=function(){r(this._map,this._container,this.options)},c.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},c.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=c},{"../../util/dom":209,"../../util/util":223}],188:[function(t,e,n){"use strict"},{}],189:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),i=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),i.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(e.x,n.x),i=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=i-o+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),i=(new o).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(i,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:i})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":59,"../../util/dom":209,"../../util/util":223,"../../util/window":204}],190:[function(t,e,n){"use strict";var r=t("../../util/util"),o=function(t){this._map=t,r.bindAll(["_onDblClick"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},o.prototype._onDblClick=function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},e.exports=o},{"../../util/util":223}],191:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=o.bezier(0,0,.3,1),s=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},s.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(i.document.addEventListener("touchmove",this._onMove),i.document.addEventListener("touchend",this._onTouchEnd)):(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onMouseUp)),i.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},s.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},s.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},r=this._inertia;if(r.length<2)return void n();var o=r[r.length-1],i=r[0],s=o[1].sub(i[1]),u=(o[0]-i[0])/1e3;if(0===u||o[1].equals(i[1]))return void n();var c=s.mult(.3/u),l=c.mag();l>1400&&(l=1400,c._unit()._mult(l));var h=l/750,p=c.mult(-h/2);this._map.panBy(p,{duration:1e3*h,easing:a,noMoveStart:!0},{originalEvent:t})}},s.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),i.document.removeEventListener("mousemove",this._onMove),i.document.removeEventListener("mouseup",this._onMouseUp),i.removeEventListener("blur",this._onMouseUp))},s.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onTouchEnd))},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},s.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button)},s.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=s},{"../../util/dom":209,"../../util/util":223,"../../util/window":204}],192:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=o.bezier(0,0,.25,1),s=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,o.bindAll(["_onDown","_onMove","_onUp"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},s.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,n=t.button;if(void 0!==i.InstallTrigger&&2===t.button&&t.ctrlKey&&i.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(n=0),n!==e)return}else if(t.ctrlKey||0!==t.button)return;r.disableDrag(),i.document.addEventListener("mousemove",this._onMove,{capture:!0}),i.document.addEventListener("mouseup",this._onUp),i.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},s.prototype._onMove=function(t){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var n=this._pos,o=r.mousePos(this._el,t),i=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=e.getBearing()-i,u=e.getPitch()-a,c=this._inertia,l=c[c.length-1];this._drainInertiaBuffer(),c.push([Date.now(),e._normalizeBearing(s,l[1])]),e.transform.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=o},s.prototype._onUp=function(t){var e=this;if(i.document.removeEventListener("mousemove",this._onMove,{capture:!0}),i.document.removeEventListener("mouseup",this._onUp),i.removeEventListener("blur",this._onUp),r.enableDrag(),this.isActive()){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,o=n.getBearing(),s=this._inertia,u=function(){Math.abs(o)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(s.length<2)return void u();var c=s[0],l=s[s.length-1],h=s[s.length-2],p=n._normalizeBearing(o,h[1]),f=l[1]-c[1],d=f<0?-1:1,m=(l[0]-c[0])/1e3;if(0===f||0===m)return void u();var y=Math.abs(f*(.25/m));y>180&&(y=180);var g=y/180;p+=d*y*(g/2),Math.abs(n._normalizeBearing(p,0))<this._bearingSnap&&(p=n._normalizeBearing(0,p)),n.rotateTo(p,{duration:1e3*g,easing:a,noMoveStart:!0},{originalEvent:t})}},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},s.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=s},{"../../util/dom":209,"../../util/util":223,"../../util/window":204}],193:[function(t,e,n){"use strict";function r(t){return t*(2-t)}var o=t("../../util/util"),i=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onKeyDown"],this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},i.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,o=0,i=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?o=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?o=-1:(a=1,t.preventDefault());break;default:return}var s=this._map,u=s.getZoom(),c={duration:300,delayEndEvents:500,easing:r,zoom:e?Math.round(u)+e*(t.shiftKey?2:1):u,bearing:s.getBearing()+15*n,pitch:s.getPitch()+10*o,offset:[100*-i,100*-a],center:s.getCenter()};s.easeTo(c,{originalEvent:t})}},e.exports=i},{"../../util/util":223}],194:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/browser"),a=t("../../util/window"),s=a.navigator.userAgent.toLowerCase(),u=-1!==s.indexOf("firefox"),c=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom"),l=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onWheel","_onTimeout"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},l.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},l.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=i.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,c&&(e/=3));var n=i.now(),o=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(o*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},l.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},l.prototype._zoom=function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var o=n.ease?n.ease.to:n.transform.scale,i=n.transform.scaleZoom(o*r);n.zoomTo(i,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=l},{"../../util/browser":202,"../../util/dom":209,"../../util/util":223,"../../util/window":204}],195:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=o.bezier(0,0,.15,1),s=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onStart","_onMove","_onEnd"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},s.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},s.prototype.disableRotation=function(){this._rotationDisabled=!0},s.prototype.enableRotation=function(){this._rotationDisabled=!1},s.prototype._onStart=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],i.document.addEventListener("touchmove",this._onMove,!1),i.document.addEventListener("touchend",this._onEnd,!1)}},s.prototype._onMove=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),o=e.add(n).div(2),i=e.sub(n),a=i.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var c={duration:0,around:u.unproject(o)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,o]),u.easeTo(c,{originalEvent:t})}else{var l=Math.abs(1-a)>.15;Math.abs(s)>10?this._gestureIntent="rotate":l&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},s.prototype._onEnd=function(t){i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],o=e[0],s=n.transform.scaleZoom(this._startScale*r[1]),u=n.transform.scaleZoom(this._startScale*o[1]),c=s-u,l=(r[0]-o[0])/1e3,h=r[2];if(0===l||s===u)return void n.snapToNorth({},{originalEvent:t});var p=.15*c/l;Math.abs(p)>2.5&&(p=p>0?2.5:-2.5);var f=1e3*Math.abs(p/(12*.15)),d=s+p*f/2e3;d<0&&(d=0),n.easeTo({zoom:d,duration:f,easing:a,around:this._aroundCenter?n.getCenter():n.unproject(h)},{originalEvent:t})},s.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=s},{"../../util/dom":209,"../../util/util":223,"../../util/window":204}],196:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/window"),i=function(){r.bindAll(["_onHashChange","_updateHash"],this)};i.prototype.addTo=function(t){return this._map=t,o.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},i.prototype.remove=function(){return o.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},i.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),o=Math.round(e.lng*Math.pow(10,r))/Math.pow(10,r),i=Math.round(e.lat*Math.pow(10,r))/Math.pow(10,r),a=this._map.getBearing(),s=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+i+"/"+n:"#"+n+"/"+i+"/"+o,(a||s)&&(u+="/"+Math.round(10*a)/10),s&&(u+="/"+Math.round(s)),u},i.prototype._onHashChange=function(){var t=o.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},i.prototype._updateHash=function(){var t=this.getHashString();o.history.replaceState("","",t)},e.exports=i},{"../util/util":223,"../util/window":204}],197:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var o=t("../util/util"),i=t("../util/browser"),a=t("../util/window"),s=t("../util/window"),u=s.HTMLImageElement,c=t("../util/dom"),l=t("../util/ajax"),h=t("../style/style"),p=t("../style/animation_loop"),f=t("../render/painter"),d=t("../geo/transform"),m=t("./hash"),y=t("./bind_handlers"),g=t("./camera"),v=t("../geo/lng_lat"),_=t("../geo/lng_lat_bounds"),b=t("@mapbox/point-geometry"),w=t("./control/attribution_control"),x=t("./control/logo_control"),C=t("mapbox-gl-supported");t("./events");var E={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null},S=function(t){function e(e){var n=this;if(e=o.extend({},E,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new d(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles;var i=e.transformRequest;if(this._transformRequest=i?function(t,e){return i(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var s=a.document.getElementById(e.container);if(!s)throw new Error("Container '"+e.container+"' not found.");this._container=s}else this._container=e.container;this.animationLoop=new p,e.maxBounds&&this.setMaxBounds(e.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),y(this,e),this._hash=e.hash&&(new m).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new w),this.addControl(new x,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},r=0;r<t.length;r++)""!==t[r]&&(n[t[r]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new _(this.transform.pointLocation(new b(0,this.transform.height)),this.transform.pointLocation(new b(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new _([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=_.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(v.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(b.convert(t))},e.prototype.on=function(e,n,r){var i=this;if(void 0===r)return t.prototype.on.call(this,e,n);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:n,listener:r,delegates:{mousemove:function(a){var s=i.getLayer(n)?i.queryRenderedFeatures(a.point,{layers:[n]}):[];s.length?t||(t=!0,r.call(i,o.extend({features:s},a,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function(t){(i.getLayer(n)?i.queryRenderedFeatures(t.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(i,o.extend({},t,{type:e})))},mouseout:function(t){a&&(a=!1,r.call(i,o.extend({},t,{type:e})))}}}}var s=function(t){var e=i.getLayer(n)?i.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&r.call(i,o.extend({features:e},t))};return{layer:n,listener:r,delegates:(u={},u[e]=s,u)};var u}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a);for(var s in a.delegates)i.on(s,a.delegates[s]);return this},e.prototype.off=function(e,n,r){var o=this;if(void 0===r)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var i=this._delegatedListeners[e],a=0;a<i.length;a++){var s=i[a];if(s.layer===n&&s.listener===r){for(var u in s.delegates)o.off(u,s.delegates[u]);return i.splice(a,1),o}}return this},e.prototype.queryRenderedFeatures=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r={};return 2===t.length?(n=arguments[0],r=arguments[1]):1===t.length&&function(t){return t instanceof b||Array.isArray(t)}(t[0])?n=t[0]:1===t.length&&(r=t[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(n),r,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var n;if(t instanceof b||"number"==typeof t[0])n=[b.convert(t)];else{var r=[b.convert(t[0]),b.convert(t[1])];n=[r[0],new b(r[1].x,r[0].y),r[1],new b(r[0].x,r[1].y),r[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&!(t instanceof h)&&"string"!=typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){o.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement),this.off("move",this.style._redoPlacement)),t?(this.style=t instanceof h?t:new h(t,this,e||{}),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this.on("move",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e],r=n._tiles;for(var o in r){var i=r[o];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var o=n.sdf;if(void 0===o&&(o=!1),e instanceof u)e=i.getImageData(e);else if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});this.style.addImage(t,{data:e,pixelRatio:r,sdf:o})},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){l.getImage(this._transformRequest(t,l.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n,r){return this.style.setPaintProperty(t,e,n,r),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,n){return this.style.getPaintProperty(t,e,n)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=c.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=c.create("div","mapboxgl-ctrl-"+t,r)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=o.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},C.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);if(!e)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new f(e,this.transform)},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(i.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),i.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=i.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(g);e.exports=S},{"../geo/lng_lat":58,"../geo/lng_lat_bounds":59,"../geo/transform":60,"../render/painter":79,"../style/animation_loop":150,"../style/style":156,"../util/ajax":201,"../util/browser":202,"../util/dom":209,"../util/util":223,"../util/window":204,"./bind_handlers":180,"./camera":181,"./control/attribution_control":182,"./control/logo_control":185,"./events":188,"./hash":196,"@mapbox/point-geometry":2,"mapbox-gl-supported":28}],198:[function(t,e,n){"use strict";var r=t("../util/dom"),o=t("../geo/lng_lat"),i=t("@mapbox/point-geometry"),a=t("../util/smart_wrap"),s=t("../util/util"),u=s.bindAll,c=function(t,e){this._offset=i.convert(e&&e.offset||[0,0]),u(["_update","_onMapClick"],this),t||(t=r.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};c.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},c.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},c.prototype.getLngLat=function(){return this._lngLat},c.prototype.setLngLat=function(t){return this._lngLat=o.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},c.prototype.getElement=function(){return this._element},c.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._popup.setLngLat(this._lngLat)),this},c.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},c.prototype.getPopup=function(){return this._popup},c.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},c.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},e.exports=c},{"../geo/lng_lat":58,"../util/dom":209,"../util/smart_wrap":219,"../util/util":223,"@mapbox/point-geometry":2}],199:[function(t,e,n){"use strict";function r(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new u(0,t),"top-left":new u(e,e),"top-right":new u(-e,e),bottom:new u(0,-t),"bottom-left":new u(e,-e),"bottom-right":new u(-e,-e),left:new u(t,0),right:new u(-t,0)}}if(t instanceof u||Array.isArray(t)){var n=u.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:u.convert(t.top||[0,0]),"top-left":u.convert(t["top-left"]||[0,0]),"top-right":u.convert(t["top-right"]||[0,0]),bottom:u.convert(t.bottom||[0,0]),"bottom-left":u.convert(t["bottom-left"]||[0,0]),"bottom-right":u.convert(t["bottom-right"]||[0,0]),left:u.convert(t.left||[0,0]),right:u.convert(t.right||[0,0])}}return r(new u(0,0))}var o=t("../util/util"),i=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat"),u=t("@mapbox/point-geometry"),c=t("../util/window"),l=t("../util/smart_wrap"),h={closeButton:!0,closeOnClick:!0},p=function(t){function e(e){t.call(this),this.options=o.extend(Object.create(h),e),o.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=s.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(c.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=c.document.createDocumentFragment(),r=c.document.createElement("body");for(r.innerHTML=t;e=r.firstChild;)n.appendChild(e);return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=l(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,n=r(this.options.offset);if(!e){var o=this._container.offsetWidth,i=this._container.offsetHeight;e=t.y+n.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<o/2?e.push("left"):t.x>this._map.transform.width-o/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=t.add(n[e]).round(),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},c=this._container.classList;for(var h in u)c.remove("mapboxgl-popup-anchor-"+h);c.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,u[e]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(i);e.exports=p},{"../geo/lng_lat":58,"../util/dom":209,"../util/evented":210,"../util/smart_wrap":219,"../util/util":223,"../util/window":204,"@mapbox/point-geometry":2}],200:[function(t,e,n){"use strict";var r=t("./util"),o=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,r.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};o.prototype.send=function(t,e,n,r,o){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n),this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:t,id:String(i),data:e},r)},o.prototype.receive=function(t){var e,n=this,r=t.data,o=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var i=function(t,e,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(o),error:t?String(t):null,data:e},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(new Error(r.error)):e&&e(null,r.data);else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,i);else if(void 0!==r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,a[0]);s[a[1]](r.data,i)}else this.parent[r.type](r.data)}},o.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=o},{"./util":223}],201:[function(t,e,n){"use strict";function r(t){var e=new i.XMLHttpRequest;e.open("GET",t.url,!0);for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}function o(t){var e=i.document.createElement("a");return e.href=t,e.protocol===i.document.location.protocol&&e.host===i.document.location.host}var i=t("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};n.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=r(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new s(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=r(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var t=n.response;if(0===t.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:t,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new s(n.statusText,n.status))},n.send(),n};n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)e(t);else if(n){var r=new i.Image,o=i.URL||i.webkitURL;r.onload=function(){e(null,r),o.revokeObjectURL(r.src)};var a=new i.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?o.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},n.getVideo=function(t,e){var n=i.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var a=i.document.createElement("source");o(t[r])||(n.crossOrigin="Anonymous"),a.src=t[r],n.appendChild(a)}return n}},{"./window":204}],202:[function(t,e,n){"use strict";var r=t("./window"),o=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;e.exports={now:o,frame:function(t){return i(t)},cancelFrame:function(t){return a(t)},timed:function(t,e,n){function r(){if(!a){var u=o();u>=s+e?t.call(n,1):(t.call(n,(u-s)/e),i(r))}}if(!e)return t.call(n,1),null;var a=!1,s=o();return i(r),function(){a=!0}},getImageData:function(t){var e=r.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},hardwareConcurrency:r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},supportsWebp:!1};var s=r.document.createElement("img");s.onload=function(){e.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":204}],203:[function(t,e,n){"use strict";var r=t("webworkify"),o=t("../window"),i=o.URL.createObjectURL(new r(t("../../source/worker"),{bare:!0}));e.exports=function(){return new o.Worker(i)}},{"../../source/worker":105,"../window":204,webworkify:39}],204:[function(t,e,n){"use strict";e.exports=self},{}],205:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var o=t("quickselect"),i=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],c=0;c<n;c++){var l=i(t[c]);0!==l&&(t[c].area=Math.abs(l),void 0===s&&(s=l<0),s===l<0?(a&&u.push(a),a=[t[c]]):a.push(t[c]))}if(a&&u.push(a),e>1)for(var h=0;h<u.length;h++)u[h].length<=e||(o(u[h],e,1,u[h].length-1,r),u[h]=u[h].slice(0,e));return u}},{"./util":223,quickselect:31}],206:[function(t,e,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=r},{}],207:[function(t,e,n){"use strict";var r=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];e._stringToNumber[r]=n,e._numberToString[n]=r}};r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]},e.exports=r},{}],208:[function(t,e,n){"use strict";var r=t("./util"),o=t("./actor"),i=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var s=i[a],u=new o(s,e,n.id);u.name="Worker "+a,n.actors.push(u)}};i.prototype.broadcast=function(t,e,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},i.prototype.send=function(t,e,n,r,o){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,o),r},i.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=i},{"./actor":200,"./util":223}],209:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e];return t[0]}var o=t("@mapbox/point-geometry"),i=t("./window");n.create=function(t,e,n){var r=i.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r};var a,s=i.document.documentElement.style,u=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){u&&(a=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=a)};var c=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[c]=e};var l=function(t){t.preventDefault(),t.stopPropagation(),i.removeEventListener("click",l,!0)};n.suppressClick=function(){i.addEventListener("click",l,!0),i.setTimeout(function(){i.removeEventListener("click",l,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i="touchend"===e.type?e.changedTouches:e.touches,a=0;a<i.length;a++)r.push(new o(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return r},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":204,"@mapbox/point-geometry":2}],210:[function(t,e,n){"use strict";function r(t,e,n){n[t]=n[t]||[],n[t].push(e)}function o(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var i=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},r(t,e,this._listeners),this},a.prototype.off=function(t,e){return o(t,e,this._listeners),o(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},r(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=i.extend({},e,{type:t,target:this});for(var r=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0;a<r.length;a++)r[a].call(n,e);for(var s=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0;u<s.length;u++)s[u].call(n,e),o(t,s[u],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,i.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else i.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":223}],211:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function o(t,e,n,r){this.p=new u(t,e),this.h=n,this.d=i(this.p,r),this.max=this.d+this.h*Math.SQRT2}function i(t,e){for(var n=!1,r=1/0,o=0;o<e.length;o++)for(var i=e[o],a=0,s=i.length,u=s-1;a<s;u=a++){var l=i[a],h=i[u];l.y>t.y!=h.y>t.y&&t.x<(h.x-l.x)*(t.y-l.y)/(h.y-l.y)+l.x&&(n=!n),r=Math.min(r,c(t,l,h))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,i=t[0],a=0,s=i.length,u=s-1;a<s;u=a++){var c=i[a],l=i[u],h=c.x*l.y-l.x*c.y;n+=(c.x+l.x)*h,r+=(c.y+l.y)*h,e+=3*h}return new o(n/e,r/e,0,t)}var s=t("tinyqueue"),u=t("@mapbox/point-geometry"),c=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,c=1/0,l=-1/0,h=-1/0,p=t[0],f=0;f<p.length;f++){var d=p[f];(!f||d.x<i)&&(i=d.x),(!f||d.y<c)&&(c=d.y),(!f||d.x>l)&&(l=d.x),(!f||d.y>h)&&(h=d.y)}var m=l-i,y=h-c,g=Math.min(m,y),v=g/2,_=new s(null,r);if(0===g)return new u(i,c);for(var b=i;b<l;b+=g)for(var w=c;w<h;w+=g)_.push(new o(b+v,w+v,v,t));for(var x=a(t),C=_.length;_.length;){var E=_.pop();(E.d>x.d||!x.d)&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,C)),E.max-x.d<=e||(v=E.h/2,_.push(new o(E.p.x-v,E.p.y-v,v,t)),_.push(new o(E.p.x+v,E.p.y-v,v,t)),_.push(new o(E.p.x-v,E.p.y+v,v,t)),_.push(new o(E.p.x+v,E.p.y+v,v,t)),C+=4)}return n&&(console.log("num probes: "+C),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":214,"@mapbox/point-geometry":2,tinyqueue:33}],212:[function(t,e,n){"use strict";var r,o=t("./worker_pool");e.exports=function(){return r||(r=new o),r}},{"./worker_pool":226}],213:[function(t,e,n){"use strict";function r(t,e,n){var r=t.width,o=t.height;if(n){if(n.length!==r*o*e)throw new RangeError("mismatched image size")}else n=new Uint8Array(r*o*e);return{width:r,height:o,data:n}}function o(t,e,n){var o=e.width,a=e.height;if(o===t.width&&a===t.height)return t;var s=r({width:o,height:a},n);i(t,s,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,o),height:Math.min(t.height,a)},n),t.width=o,t.height=a,t.data=s.data}function i(t,e,n,r,o,i){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||n.x>t.width-o.width||n.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||r.x>e.width-o.width||r.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<o.height;u++)for(var c=((n.y+u)*t.width+n.x)*i,l=((r.y+u)*e.width+r.x)*i,h=0;h<o.width*i;h++)s[l+h]=a[c+h];return e}var a=function(){};a.create=function(t,e){return r(t,1,e)},a.resize=function(t,e){o(t,e,1)},a.copy=function(t,e,n,r,o){i(t,e,n,r,o,1)};var s=function(){};s.create=function(t,e){return r(t,4,e)},s.resize=function(t,e){o(t,e,4)},s.copy=function(t,e,n,r,o){i(t,e,n,r,o,4)},e.exports={AlphaImage:a,RGBAImage:s}},{}],214:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(f(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(f(t,e[r]))return!0;return!!u(t,e)}function o(t,e,n){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var u=a[s];if(f(o,u))return!0;if(l(u,o,n))return!0}return!1}function i(t,e){if(1===t.length&&1===t[0].length)return p(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.length;o++)if(p(t,r[o]))return!0;for(var i=0;i<t.length;i++){for(var a=t[i],s=0;s<a.length;s++)if(p(e,a[s]))return!0;for(var c=0;c<e.length;c++)if(u(a,e[c]))return!0}return!1}function a(t,e,n){for(var r=0;r<e.length;r++)for(var o=e[r],i=0;i<t.length;i++){var a=t[i];if(a.length>=3)for(var u=0;u<o.length;u++)if(f(a,o[u]))return!0;if(s(a,o,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(u(t,e))return!0;for(var r=0;r<e.length;r++)if(l(e[r],t,n))return!0}for(var o=0;o<t.length;o++)if(l(t[o],e,n))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],o=t[n+1],i=0;i<e.length-1;i++){var a=e[i],s=e[i+1];if(c(r,o,a,s))return!0}return!1}function c(t,e,n,r){return m(t,n,r)!==m(e,n,r)&&m(t,e,n)!==m(t,e,r)}function l(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var o=1;o<e.length;o++)if(h(t,e[o-1],e[o])<r)return!0;return!1}function h(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var o=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return o<0?t.distSqr(e):o>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(o)._add(e))}function p(t,e){for(var n,r,o,i=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],o=n[u],r.y>e.y!=o.y>e.y&&e.x<(o.x-r.x)*(e.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function f(t,e){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}var d=t("./util"),m=d.isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:o,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:h}},{"./util":223}],215:[function(t,e,n){"use strict";var r={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=r},{}],216:[function(t,e,n){"use strict";var r=function(t,e){this.max=t,this.onRemove=e,this.reset()};r.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.getWithoutRemoving=function(t){return this.has(t)?this.data[t]:null},r.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},r.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.get(e.order[0]);n&&e.onRemove(n)}return this},e.exports=r},{}],217:[function(t,e,n){"use strict";function r(t,e){var n=a(u.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!u.REQUIRE_ACCESS_TOKEN)return s(t);if(!(e=e||u.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+l);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+l);return t.params.push("access_token="+e),s(t)}function o(t){return 0===t.indexOf("mapbox:")}function i(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}function a(t){var e=t.match(p);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),c=t("./browser"),l="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=o,n.normalizeStyleURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,r(n,e)},n.normalizeGlyphsURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,r(n,e)},n.normalizeSourceURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,e)},n.normalizeSpriteURL=function(t,e,n,i){var u=a(t);return o(t)?(u.path="/styles/v1"+u.path+"/sprite"+e+n,r(u,i)):(u.path+=""+e+n,s(u))};var h=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!o(e))return t;var r=a(t),u=c.devicePixelRatio>=2||512===n?"@2x":"",l=c.supportsWebp?".webp":"$1";return r.path=r.path.replace(h,""+u+l),i(r.params),s(r)};var p=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":202,"./config":206}],218:[function(t,e,n){"use strict";var r=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,r=t;e<r.length;e+=1){var o=r[e];if(!n.charAllowsIdeographicBreaking(o.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,r=t;e<r.length;e+=1){var o=r[e];if(n.charHasUprightVerticalOrientation(o.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1){var o=r[e];if(!n.charAllowsLetterSpacing(o.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!(r.Arabic(t)||r["Arabic Supplement"](t)||r["Arabic Extended-A"](t)||r["Arabic Presentation Forms-A"](t)||r["Arabic Presentation Forms-B"](t))},e.exports.charAllowsIdeographicBreaking=function(t){return!!(!(t<11904)&&(r["Bopomofo Extended"](t)||r.Bopomofo(t)||r["CJK Compatibility Forms"](t)||r["CJK Compatibility Ideographs"](t)||r["CJK Compatibility"](t)||r["CJK Radicals Supplement"](t)||r["CJK Strokes"](t)||r["CJK Symbols and Punctuation"](t)||r["CJK Unified Ideographs Extension A"](t)||r["CJK Unified Ideographs"](t)||r["Enclosed CJK Letters and Months"](t)||r["Halfwidth and Fullwidth Forms"](t)||r.Hiragana(t)||r["Ideographic Description Characters"](t)||r["Kangxi Radicals"](t)||r["Katakana Phonetic Extensions"](t)||r.Katakana(t)||r["Vertical Forms"](t)||r["Yi Radicals"](t)||r["Yi Syllables"](t)))},n.charHasUprightVerticalOrientation=function(t){return!!(746===t||747===t||!(t<4352)&&(r["Bopomofo Extended"](t)||r.Bopomofo(t)||r["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||r["CJK Compatibility Ideographs"](t)||r["CJK Compatibility"](t)||r["CJK Radicals Supplement"](t)||r["CJK Strokes"](t)||!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||r["CJK Unified Ideographs Extension A"](t)||r["CJK Unified Ideographs"](t)||r["Enclosed CJK Letters and Months"](t)||r["Hangul Compatibility Jamo"](t)||r["Hangul Jamo Extended-A"](t)||r["Hangul Jamo Extended-B"](t)||r["Hangul Jamo"](t)||r["Hangul Syllables"](t)||r.Hiragana(t)||r["Ideographic Description Characters"](t)||r.Kanbun(t)||r["Kangxi Radicals"](t)||r["Katakana Phonetic Extensions"](t)||r.Katakana(t)&&12540!==t||!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||r["Unified Canadian Aboriginal Syllabics"](t)||r["Unified Canadian Aboriginal Syllabics Extended"](t)||r["Vertical Forms"](t)||r["Yijing Hexagram Symbols"](t)||r["Yi Syllables"](t)||r["Yi Radicals"](t)))},n.charHasNeutralVerticalOrientation=function(t){return!!(r["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||r["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||r["Letterlike Symbols"](t)||r["Number Forms"](t)||r["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||r["Control Pictures"](t)&&9251!==t||r["Optical Character Recognition"](t)||r["Enclosed Alphanumerics"](t)||r["Geometric Shapes"](t)||r["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||r["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||r["CJK Symbols and Punctuation"](t)||r.Katakana(t)||r["Private Use Area"](t)||r["CJK Compatibility Forms"](t)||r["Small Form Variants"](t)||r["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":215}],219:[function(t,e,n){"use strict";var r=t("../geo/lng_lat");e.exports=function(t,e,n){if(t=new r(t.lng,t.lat),e){var o=new r(t.lng-360,t.lat),i=new r(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(e);n.locationPoint(o).distSqr(e)<a?t=o:n.locationPoint(i).distSqr(e)<a&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":58}],220:[function(t,e,n){"use strict";function r(t){var e=JSON.stringify(t);if(f[e])return f[e];var n=void 0===t.alignment?1:t.alignment,r=0,a=0,u=["Uint8"],l=t.members.map(function(t){u.indexOf(t.type)<0&&u.push(t.type);var e=i(t.type),s=r=o(r,Math.max(n,e)),c=t.components||1;return a=Math.max(a,e),r+=e*c,{name:t.name,type:t.type,components:c,offset:s}}),d=o(r,Math.max(a,n)),m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h);m.prototype.alignment=n,m.prototype.size=d;for(var y=0,g=l;y<g.length;y+=1)for(var v=g[y],_=0;_<v.components;_++){var b=v.name;if(v.components>1&&(b+=_),b in m.prototype)throw new Error(b+" is a reserved name and cannot be used as a member name.");Object.defineProperty(m.prototype,b,c(v,_))}var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(p);return w.prototype.members=l,w.prototype.StructType=m,w.prototype.bytesPerElement=d,w.prototype.emplaceBack=s(l,d),w.prototype._usedTypes=u,f[e]=w,w}function o(t,e){return Math.ceil(t/e)*e}function i(t){return l[t].BYTES_PER_ELEMENT}function a(t){return t.toLowerCase()}function s(t,e){for(var n=[],r=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=t;s<u.length;s+=1){var c=u[s],l=i(c.type);n.indexOf(l)<0&&(n.push(l),o+="var o"+l.toFixed(0)+" = i * "+(e/l).toFixed(0)+";\n");for(var h=0;h<c.components;h++){var p="v"+r.length,f="o"+l.toFixed(0)+" + "+(c.offset/l+h).toFixed(0);o+="this."+a(c.type)+"["+f+"] = "+p+";\n",r.push(p)}}return o+="return i;",new Function(r.toString(),o)}function u(t,e){var n="this._pos"+i(t.type).toFixed(0),r=(t.offset/i(t.type)+e).toFixed(0),o=n+" + "+r;return"this._structArray."+a(t.type)+"["+o+"]"}function c(t,e){var n=u(t,e);return{get:new Function("return "+n+";"),set:new Function("x",n+" = x;")}}e.exports=r;var l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},h=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},p=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};p.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment}},p.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},p.prototype.get=function(t){return new this.StructType(this,t)},p.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},p.prototype.clear=function(){this.length=0},p.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},p.prototype._refreshViews=function(){for(var t=this,e=0,n=t._usedTypes;e<n.length;e+=1){var r=n[e];t[a(r)]=new l[r](t.arrayBuffer)}},p.prototype.toArray=function(t,e){for(var n=this,r=[],o=t;o<e;o++){var i=n.get(o);r.push(i)}return r};var f={}},{}],221:[function(t,e,n){"use strict";var r=t("./browser"),o=function(t,e){this.frequency=t,this.throttledFunction=e,this.lastInvocation=0};o.prototype.invoke=function(){var t=this;if(!this.pendingInvocation){var e=0===this.lastInvocation?0:this.lastInvocation+this.frequency-r.now();e<=0?(this.lastInvocation=r.now(),this.throttledFunction()):this.pendingInvocation=setTimeout(function(){t.pendingInvocation=void 0,t.lastInvocation=r.now(),t.throttledFunction()},e)}},o.prototype.stop=function(){this.pendingInvocation&&(clearTimeout(this.pendingInvocation),this.pendingInvocation=void 0)},e.exports=o},{"./browser":202}],222:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}e.exports=r},{}],223:[function(t,e,n){"use strict";var r=t("@mapbox/unitbezier"),o=t("../geo/coordinate");t("@mapbox/point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,o){var i=new r(t,e,n,o);return function(t){return i.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,o=((t-e)%r+r)%r+e;return o===e?n:o},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,o=new Array(t.length),i=null;t.forEach(function(t,a){e(t,function(t,e){t&&(i=t),o[a]=e,0==--r&&n(i,o)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,o=e;r<o.length;r+=1){var i=o[r];for(var a in i)t[a]=i[a]}return t},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r];o in t&&(n[o]=t[o])}return n};var i=1;n.uniqueId=function(){return i++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),i=Math.max(i,t[a].row);var s=r-e,u=i-n,c=Math.max(s,u),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2));return new o((e+r)/2,(n+i)/2,0).zoomTo(l)},n.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},n.mapObject=function(t,e,n){var r=this,o={};for(var i in t)o[i]=e.call(n||r,t[i],i,t);return o},n.filterObject=function(t,e,n){var r=this,o={};for(var i in t)e.call(n||r,t[i],i,t)&&(o[i]=t[i]);return o},n.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n.deepEqual(t[r],e[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var o in t)if(!n.deepEqual(t[o],e[o]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,r=t.length,o=r-1,i=void 0,a=void 0;n<r;o=n++)i=t[n],a=t[o],e+=(a.x-i.x)*(i.y+a.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[e*Math.cos(n)*Math.sin(r),e*Math.sin(n)*Math.sin(r),e*Math.cos(r)]},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,r,o){var i=r||o;return n[e]=!i||i.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":57,"@mapbox/point-geometry":2,"@mapbox/unitbezier":5}],224:[function(t,e,n){"use strict";var r=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},o={geometry:{}};o.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},o.geometry.set=function(t){this._geometry=t},r.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(r.prototype,o),e.exports=r},{}],225:[function(t,e,n){"use strict";var r=t("./script_detection");e.exports=function(t){for(var n="",o=0;o<t.length;o++){var i=t.charCodeAt(o+1)||null,a=t.charCodeAt(o-1)||null;i&&r.charHasRotatedVerticalOrientation(i)&&!e.exports.lookup[t[o+1]]||a&&r.charHasRotatedVerticalOrientation(a)&&!e.exports.lookup[t[o-1]]||!e.exports.lookup[t[o]]?n+=t[o]:n+=e.exports.lookup[t[o]]}return n},e.exports.lookup={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"}},{"./script_detection":218}],226:[function(t,e,n){"use strict";var r=t("./web_worker"),o=function(){this.active={}};o.prototype.acquire=function(e){var n=this;if(!this.workers){var o=t("../").workerCount;for(this.workers=[];this.workers.length<o;)n.workers.push(new r)}return this.active[e]=!0,this.workers.slice()},o.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=o},{"../":63,"./web_worker":203}]},{},[63])(63)})}).call(e,n("fRUx"))},NE16:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationSource=e.OperationType=void 0;var r=n("Iylt"),o=e.OperationType=void 0;!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(o||(e.OperationType=o={}));var i=function(){function t(t,e,n,o){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=o,(0,r.assert)(!o||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();e.OperationSource=i},NQKc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var r=n("NzIo"),o=n("quFp"),i=n("VBxt"),a=n("ePfY"),s=n("OfDd"),u=n("bIV3"),c=n("Iylt"),l=n("NE16"),h=n("VhRD"),p=n("GIDU"),f=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),c=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.processor_=new o.ViewProcessor(l);var h=e.getServerCache(),p=e.getEventCache(),f=c.updateFullNode(i.ChildrenNode.EMPTY_NODE,h.getNode(),null),d=l.updateFullNode(i.ChildrenNode.EMPTY_NODE,p.getNode(),null),m=new a.CacheNode(f,h.isFullyInitialized(),c.filtersNodes()),y=new a.CacheNode(d,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=new s.ViewCache(y,m),this.eventGenerator_=new u.EventGenerator(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){(0,c.assert)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var a=this.eventRegistrations_[i];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(a)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===l.OperationType.MERGE&&null!==t.source.queryId&&((0,c.assert)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),(0,c.assert)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),(0,c.assert)(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(p.PRIORITY_INDEX,function(t,e){n.push(h.Change.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(h.Change.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}();e.View=f},NSJx:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},NmeZ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},NuZ9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveDeferredValueSnapshot=e.resolveDeferredValueTree=e.resolveDeferredValue=e.generateWithValues=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("Iylt"),i=n("y6vc"),a=n("oh70"),s=n("hu/W"),u=n("vaJ0"),c=n("GIDU"),l=(e.generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},e.resolveDeferredValue=function(t,e){return t&&"object"===(void 0===t?"undefined":r(t))?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}),h=(e.resolveDeferredValueTree=function(t,e){var n=new a.SparseSnapshotTree;return t.forEachTree(new i.Path(""),function(t,r){n.remember(t,h(r,e))}),n},e.resolveDeferredValueSnapshot=function t(e,n){var r,o=e.getPriority().val(),i=l(o,n);if(e.isLeafNode()){var a=e,h=l(a.getValue(),n);return h!==a.getValue()||i!==a.getPriority().val()?new s.LeafNode(h,(0,u.nodeFromJSON)(i)):e}var p=e;return r=p,i!==p.getPriority().val()&&(r=r.updatePriority(new s.LeafNode(i))),p.forEachChild(c.PRIORITY_INDEX,function(e,o){var i=t(o,n);i!==o&&(r=r.updateImmediateChild(e,i))}),r})},NzIo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedFilter=void 0;var r=n("Iylt"),o=n("VhRD"),i=n("VBxt"),a=n("GIDU"),s=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,a,s){(0,r.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=t.getImmediateChild(e);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()==n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(o.Change.childRemovedChange(e,u)):(0,r.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(o.Change.childAddedChange(e,n)):s.trackChildChange(o.Change.childChangedChange(e,n,u))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){e.hasChild(t)||n.trackChildChange(o.Change.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(o.Change.childChangedChange(e,r,i))}else n.trackChildChange(o.Change.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?i.ChildrenNode.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();e.IndexedFilter=s},O07j:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathIndex=void 0;var r=n("Iylt"),o=n("sN0z"),i=n("egC3"),a=n("VBxt"),s=n("Rmqq"),u=n("vaJ0"),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,r.assert)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return c(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?(0,o.nameCompare)(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=(0,u.nodeFromJSON)(t),r=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new s.NamedNode(e,r)},e.prototype.maxPost=function(){var t=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,a.MAX_NODE);return new s.NamedNode(o.MAX_NAME,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(i.Index);e.PathIndex=l},OADz:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return this.lift(new s(r,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),a=n("ktfo");e.withLatestFrom=r;var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var o=n.length;this.values=new Array(o);for(var i=0;i<o;i++)this.toRespond.push(i);for(var i=0;i<o;i++){var s=n[i];this.add(a.subscribeToResult(this,s,s,i))}}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var a=i.indexOf(n);-1!==a&&i.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.OuterSubscriber)},OJVB:function(t,e,n){"use strict";function r(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}e+="/"+o}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.parseURL=e.parseRepoInfo=void 0;var o=n("y6vc"),i=n("Hdz5"),a=n("sN0z"),s=(e.parseRepoInfo=function(t){var e=s(t),n=e.subdomain;"firebase"===e.domain&&(0,a.fatal)(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||(0,a.fatal)("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||(0,a.warnIfPageIsSecure)();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new i.RepoInfo(e.host,e.secure,n,r),path:new o.Path(e.pathString)}},e.parseURL=function(t){var e="",n="",o="",i="",a=!0,s="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length),e=t.substring(0,l),i=r(t.substring(l));var h=e.split(".");3===h.length?(n=h[1],o=h[0].toLowerCase()):2===h.length&&(n=h[0]),c=e.indexOf(":"),c>=0&&(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10))}return{host:e,port:u,domain:n,subdomain:o,secure:a,scheme:s,pathString:i}})},OPj5:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/oeL"),o=n("wM1e"),i=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var e=Object(o.i)(this.result),n=e.toLowerCase(),r=Object(o.i)(this.term).toLowerCase(),i=0;r.length>0?this.parts=n.split(new RegExp("("+Object(o.g)(r)+")")).map(function(t){var n=e.substr(i,t.length);return i+=t.length,n}):this.parts=[e]},t}();i.decorators=[{type:r.l,args:[{selector:"ngb-highlight",changeDetection:r.i.OnPush,template:'<ng-template ngFor [ngForOf]="parts" let-part let-isOdd="odd"><span *ngIf="isOdd" class="{{highlightClass}}">{{part}}</span><ng-template [ngIf]="!isOdd">{{part}}</ng-template></ng-template>',styles:["\n    .ngb-highlight {\n      font-weight: bold;\n    }\n  "]}]}],i.ctorParameters=function(){return[]},i.propDecorators={highlightClass:[{type:r.A}],result:[{type:r.A}],term:[{type:r.A}]}},OWbQ:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("NSJx"),i=n("lhZu"),a=n("mUVF"),s=n("mihg"),u=n("TA58"),c=n("wZOE"),l=n("wCVK"),h=n("2B7B"),p=n("bKpL"),f=n("AHF9"),d=n("DP67"),m=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.observable])return t instanceof p.Observable&&!n?t:new e(t,n);if(o.isArray(t))return new c.ArrayObservable(t,n);if(a.isPromise(t))return new s.PromiseObservable(t,n);if("function"==typeof t[h.iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(i.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new f.ObserveOnSubscriber(t,n,0))},e}(p.Observable);e.FromObservable=m},OfDd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCache=void 0;var r=n("VBxt"),o=n("ePfY"),i=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new o.CacheNode(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new o.CacheNode(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new o.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new o.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),t}();e.ViewCache=i},OsVr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"4.5.0"}},OvqL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventList=e.EventQueue=void 0;var r=n("sN0z"),o=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new i(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}();e.EventQueue=o;var i=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();r.logger&&(0,r.log)("event: "+e.toString()),(0,r.exceptionGuard)(n)}}},t.prototype.getPath=function(){return this.path_},t}();e.EventList=i},PShv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexMap=void 0;var r,o=n("Iylt"),i=n("BZwZ"),a=n("dSvz"),s=n("Rmqq"),u=n("GIDU"),c=n("JvZA"),l={},h=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(l&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new t({".priority":l},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=(0,a.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===l?null:e},t.prototype.hasIndex=function(t){return(0,a.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,h=n.getIterator(s.NamedNode.Wrap),p=h.getNext();p;)u=u||e.isDefinedOn(p.node),r.push(p),p=h.getNext();var f;f=u?(0,i.buildChildSet)(r,e.getCompare()):l;var d=e.toString(),m=(0,a.clone)(this.indexSet_);m[d]=e;var y=(0,a.clone)(this.indexes_);return y[d]=f,new t(y,m)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,a.map)(this.indexes_,function(t,u){var c=(0,a.safeGet)(r.indexSet_,u);if((0,o.assert)(c,"Missing index implementation for "+u),t===l){if(c.isDefinedOn(e.node)){for(var h=[],p=n.getIterator(s.NamedNode.Wrap),f=p.getNext();f;)f.name!=e.name&&h.push(f),f=p.getNext();return h.push(e),(0,i.buildChildSet)(h,c.getCompare())}return l}var d=n.get(e.name),m=t;return d&&(m=m.remove(new s.NamedNode(e.name,d))),m.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,a.map)(this.indexes_,function(t){if(t===l)return t;var r=n.get(e.name);return r?t.remove(new s.NamedNode(e.name,r)):t}),this.indexSet_)},t}();e.IndexMap=h},PVMJ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/oeL"),o=n("nVXb"),i=function(){function t(t){this.close=new r.s,this.dismissible=t.dismissible,this.type=t.type}return t.prototype.closeHandler=function(){this.close.emit(null)},t}();i.decorators=[{type:r.l,args:[{selector:"ngb-alert",changeDetection:r.i.OnPush,template:'\n    <div [class]="\'alert alert-\' + type + (dismissible ? \' alert-dismissible\' : \'\')" role="alert">\n      <button *ngIf="dismissible" type="button" class="close" aria-label="Close" (click)="closeHandler()">\n            <span aria-hidden="true">&times;</span>\n      </button>\n      <ng-content></ng-content>\n    </div>\n    '}]}],i.ctorParameters=function(){return[{type:o.a}]},i.propDecorators={dismissible:[{type:r.A}],type:[{type:r.A}],close:[{type:r.L}]}},PY9B:function(t,e,n){"use strict";var r=n("/oeL"),o=function(){function t(){this.collapsed=!1}return t}();o.decorators=[{type:r.p,args:[{selector:"[ngbCollapse]",exportAs:"ngbCollapse",host:{"[class.collapse]":"true","[class.show]":"!collapsed"}}]}],o.ctorParameters=function(){return[]},o.propDecorators={collapsed:[{type:r.A,args:["ngbCollapse"]}]},n.d(e,"a",function(){return i}),n.d(e,!1,function(){return o});var i=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}();i.decorators=[{type:r.E,args:[{declarations:[o],exports:[o]}]}],i.ctorParameters=function(){return[]}},Pc3Y:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("/oeL"),o=n("pd7P"),i=n("CuDZ"),a=n("KSV9"),s=function(){function t(t,e){this.i18n=t,this._calendar=e,this.navigation=o.a,this.navigate=new r.s,this.select=new r.s}return t.prototype.doNavigate=function(t){this.navigate.emit(t)},t.prototype.nextDisabled=function(){return this.disabled||this.maxDate&&this._calendar.getNext(this.date,"m").after(this.maxDate)},t.prototype.prevDisabled=function(){var t=this._calendar.getPrev(this.date,"m");return this.disabled||this.minDate&&t.year<=this.minDate.year&&t.month<this.minDate.month},t.prototype.selectDate=function(t){this.select.emit(t)},t}();s.decorators=[{type:r.l,args:[{selector:"ngb-datepicker-navigation",changeDetection:r.i.OnPush,host:{class:"d-flex justify-content-between","[class.collapsed]":"!showSelect"},styles:["\n    :host {\n      height: 2rem;\n      line-height: 1.85rem;\n    }\n    :host.collapsed {\n      margin-bottom: -2rem;        \n    }\n    .ngb-dp-navigation-chevron::before {\n      border-style: solid;\n      border-width: 0.2em 0.2em 0 0;\n      content: '';\n      display: inline-block;\n      height: 0.75em;\n      transform: rotate(-135deg);\n      -webkit-transform: rotate(-135deg);\n      -ms-transform: rotate(-135deg);\n      width: 0.75em;\n      margin: 0 0 0 0.5rem;\n    }    \n    .ngb-dp-navigation-chevron.right:before {\n      -webkit-transform: rotate(45deg);\n      -ms-transform: rotate(45deg);\n      transform: rotate(45deg);\n      margin: 0 0.5rem 0 0;\n    }\n    .btn-link {\n      cursor: pointer;\n      outline: 0;\n    }\n    .btn-link[disabled] {\n      cursor: not-allowed;\n      opacity: .65;\n    }    \n  "],template:'\n    <button type="button" class="btn-link" (click)="!!doNavigate(navigation.PREV)" [disabled]="prevDisabled()" tabindex="-1">\n      <span class="ngb-dp-navigation-chevron"></span>    \n    </button>\n    \n    <ngb-datepicker-navigation-select *ngIf="showSelect" class="d-block" [style.width.rem]="months * 9"\n      [date]="date"\n      [minDate]="minDate"\n      [maxDate]="maxDate"\n      [disabled] = "disabled"\n      (select)="selectDate($event)">\n    </ngb-datepicker-navigation-select>\n    \n    <button type="button" class="btn-link" (click)="!!doNavigate(navigation.NEXT)" [disabled]="nextDisabled()" tabindex="-1">\n      <span class="ngb-dp-navigation-chevron right"></span>\n    </button>\n  '}]}],s.ctorParameters=function(){return[{type:i.a},{type:a.a}]},s.propDecorators={date:[{type:r.A}],disabled:[{type:r.A}],maxDate:[{type:r.A}],minDate:[{type:r.A}],months:[{type:r.A}],showSelect:[{type:r.A}],showWeekNumbers:[{type:r.A}],navigate:[{type:r.L}],select:[{type:r.L}]}},PdK6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryRemoteDocumentCache=void 0;var r=n("rwiY"),o=n("d9fJ"),i=n("V2Ax"),a=n("G3bM"),s=function(){function t(){this.docs=(0,r.maybeDocumentMap)()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),a.PersistencePromise.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),a.PersistencePromise.resolve()},t.prototype.getEntry=function(t,e){return a.PersistencePromise.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=(0,r.documentMap)(),s=new i.DocumentKey(e.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),l=c.key,h=c.value;if(!e.path.isPrefixOf(l.path))break;h instanceof o.Document&&e.matches(h)&&(n=n.insert(h.key,h))}return a.PersistencePromise.resolve(n)},t}();e.MemoryRemoteDocumentCache=s},Pic8:function(t,e,n){"use strict";var r=n("bKpL"),o=n("aCMF");r.Observable.prototype.switchMap=o.switchMap},PjKW:function(t,e,n){"use strict";function r(t){t.INTERNAL.registerService("firestore",function(t){return new a.Firestore(t)},(0,l.shallowCopy)(h))}function o(t){var e=(0,l.shallowCopy)(h);e.Firestore=a.Firestore,t.firestore=e}Object.defineProperty(e,"__esModule",{value:!0}),e.configureForFirebase=r,e.configureForStandalone=o;var i=n("VQAl"),a=n("El2n"),s=n("1cov"),u=n("RiQK"),c=n("TNy0"),l=n("ILqR"),h={Firestore:a.PublicFirestore,GeoPoint:c.GeoPoint,Blob:i.PublicBlob,Transaction:a.PublicTransaction,WriteBatch:a.PublicWriteBatch,DocumentReference:a.PublicDocumentReference,DocumentSnapshot:a.PublicDocumentSnapshot,Query:a.PublicQuery,QuerySnapshot:a.PublicQuerySnapshot,CollectionReference:a.PublicCollectionReference,FieldPath:s.FieldPath,FieldValue:u.PublicFieldValue,setLogLevel:a.Firestore.setLogLevel}},Pqa3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.querystringDecode=e.querystring=void 0;var r=n("dSvz");e.querystring=function(t){var e=[];return(0,r.forEach)(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},PuIS:function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("wM1e"),a=n("NmeZ"),s=function(){function t(t){this.pageCount=0,this.pages=[],this.page=0,this.pageChange=new r.s(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}return t.prototype.hasPrevious=function(){return this.page>1},t.prototype.hasNext=function(){return this.page<this.pageCount},t.prototype.selectPage=function(t){this._updatePages(t)},t.prototype.ngOnChanges=function(t){this._updatePages(this.page)},t.prototype.isEllipsis=function(t){return-1===t},t.prototype._applyEllipses=function(t,e){this.ellipses&&(t>0&&(t>1&&this.pages.unshift(-1),this.pages.unshift(1)),e<this.pageCount&&(e<this.pageCount-1&&this.pages.push(-1),this.pages.push(this.pageCount)))},t.prototype._applyRotation=function(){var t=0,e=this.pageCount,n=Math.floor(this.maxSize/2),r=this.maxSize%2==0?n-1:n;return this.page<=n?e=this.maxSize:this.pageCount-this.page<n?t=this.pageCount-this.maxSize:(t=this.page-n-1,e=this.page+r),[t,e]},t.prototype._applyPagination=function(){var t=Math.ceil(this.page/this.maxSize)-1,e=t*this.maxSize;return[e,e+this.maxSize]},t.prototype._setPageInRange=function(t){var e=this.page;this.page=Object(i.a)(t,this.pageCount,1),this.page!==e&&this.pageChange.emit(this.page)},t.prototype._updatePages=function(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Object(i.d)(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(var e=1;e<=this.pageCount;e++)this.pages.push(e);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){var n=0,r=this.pageCount;this.rotate?(o=this._applyRotation(),n=o[0],r=o[1]):(a=this._applyPagination(),n=a[0],r=a[1]),this.pages=this.pages.slice(n,r),this._applyEllipses(n,r)}var o,a},t}();s.decorators=[{type:r.l,args:[{selector:"ngb-pagination",changeDetection:r.i.OnPush,host:{role:"navigation"},template:'\n    <ul [class]="\'pagination\' + (size ? \' pagination-\' + size : \'\')">\n      <li *ngIf="boundaryLinks" class="page-item"\n        [class.disabled]="!hasPrevious() || disabled">\n        <a aria-label="First" class="page-link" href (click)="!!selectPage(1)" [attr.tabindex]="(hasPrevious() ? null : \'-1\')">\n          <span aria-hidden="true">&laquo;&laquo;</span>\n        </a>\n      </li>\n\n      <li *ngIf="directionLinks" class="page-item"\n        [class.disabled]="!hasPrevious() || disabled">\n        <a aria-label="Previous" class="page-link" href (click)="!!selectPage(page-1)" [attr.tabindex]="(hasPrevious() ? null : \'-1\')">\n          <span aria-hidden="true">&laquo;</span>\n        </a>\n      </li>\n      <li *ngFor="let pageNumber of pages" class="page-item" [class.active]="pageNumber === page"\n        [class.disabled]="isEllipsis(pageNumber) || disabled">\n        <a *ngIf="isEllipsis(pageNumber)" class="page-link">...</a>\n        <a *ngIf="!isEllipsis(pageNumber)" class="page-link" href (click)="!!selectPage(pageNumber)">\n          {{pageNumber}}\n          <span *ngIf="pageNumber === page" class="sr-only">(current)</span>\n        </a>\n      </li>\n      <li *ngIf="directionLinks" class="page-item" [class.disabled]="!hasNext() || disabled">\n        <a aria-label="Next" class="page-link" href (click)="!!selectPage(page+1)" [attr.tabindex]="(hasNext() ? null : \'-1\')">\n          <span aria-hidden="true">&raquo;</span>\n        </a>\n      </li>\n\n      <li *ngIf="boundaryLinks" class="page-item" [class.disabled]="!hasNext() || disabled">\n        <a aria-label="Last" class="page-link" href (click)="!!selectPage(pageCount)" [attr.tabindex]="(hasNext() ? null : \'-1\')">\n          <span aria-hidden="true">&raquo;&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  '}]}],s.ctorParameters=function(){return[{type:a.a}]},s.propDecorators={disabled:[{type:r.A}],boundaryLinks:[{type:r.A}],directionLinks:[{type:r.A}],ellipses:[{type:r.A}],rotate:[{type:r.A}],collectionSize:[{type:r.A}],maxSize:[{type:r.A}],page:[{type:r.A}],pageSize:[{type:r.A}],pageChange:[{type:r.L}],size:[{type:r.A}]},n.d(e,"a",function(){return u}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return a.a});var u=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.a]}},t}();u.decorators=[{type:r.E,args:[{declarations:[s],exports:[s],imports:[o.c]}]}],u.ctorParameters=function(){return[]}},QGDq:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.placement="top",this.triggers="hover"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},QSE1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}();e.ServerActions=r},QU9E:function(t,e,n){"use strict";var r=n("mihg");e.fromPromise=r.PromiseObservable.create},QuDB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=void 0;var r=n("U+HO"),o=n("wg5S"),i=n("0C8m"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),s=n("B404"),u=function(){function t(){this.tail=r.PromiseImpl.resolve(),this.delayedOpCount=0,this.operationInProgress=!1}return t.prototype.schedule=function(t,e){var n=this;if(this.failure&&(0,o.fail)("AsyncQueue is already failed: "+this.failure.message),(e||0)>0){this.delayedOpCount++;var r=new s.Deferred;return setTimeout(function(){n.scheduleInternal(function(){return t().then(function(t){r.resolve(t)})}),n.delayedOpCount--},e),r.promise}return this.scheduleInternal(t)},t.prototype.scheduleInternal=function(t){var e=this;return this.tail=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){throw e.failure=t,e.operationInProgress=!1,a.error("INTERNAL UNHANDLED ERROR: ",t.stack||t.message),t}).then(function(){e.operationInProgress=!1})}),this.tail},t.prototype.verifyOperationInProgress=function(){(0,o.assert)(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return(0,o.assert)(0===this.delayedOpCount,"draining doesn't handle delayed ops."),this.schedule(function(){return r.PromiseImpl.resolve(void 0)})},t}();e.AsyncQueue=u},Qyse:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.autoClose=!0,this.placement="bottom-left"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},"R/Oc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmutableTree=void 0;var r,o=n("2UX9"),i=n("y6vc"),a=n("sN0z"),s=n("dSvz"),u=function(){return r||(r=new o.SortedMap(a.stringCompare)),r},c=function(){function t(t,e){void 0===e&&(e=u()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return(0,s.forEach)(e,function(t,e){n=n.set(new i.Path(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:i.Path.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=o){return{path:new i.Path(n).child(o.path),value:o.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=this.children.get(r)||t.Empty,i=o.set(e.popFront(),n),a=this.children.insert(r,i);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),o=this.children.get(r)||t.Empty,i=o.setTree(e.popFront(),n),a=void 0;return a=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(i.Path.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,i.Path.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,i.Path.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(i.Path.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}();e.ImmutableTree=c},R8Xc:function(t,e,n){"use strict";function r(t){i=t}Object.defineProperty(e,"__esModule",{value:!0}),e.validatePriorityNode=e.priorityHashText=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.setMaxNode=r;var i,a=n("Iylt"),s=n("sN0z"),u=n("dSvz");e.priorityHashText=function(t){return"number"==typeof t?"number:"+(0,s.doubleToIEEE754String)(t):"string:"+t},e.validatePriorityNode=function(t){if(t.isLeafNode()){var e=t.val();(0,a.assert)("string"==typeof e||"number"==typeof e||"object"===(void 0===e?"undefined":o(e))&&(0,u.contains)(e,".sv"),"Priority must be a string or number.")}else(0,a.assert)(t===i||t.isEmpty(),"priority of unexpected type.");(0,a.assert)(t===i||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},RFuG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MutationBatchResult=e.MutationBatch=e.BATCHID_UNKNOWN=void 0;var r=n("rwiY"),o=n("wg5S"),i=n("D1Ck"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),s=(e.BATCHID_UNKNOWN=-1,function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&(0,o.assert)(e.key.equals(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;(0,o.assert)(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var a=this.mutations[i];if(a.key.equals(t)){var s=r[i];e=a.applyToRemoteDocument(e,s)}}return e},t.prototype.applyToLocalView=function(t,e){e&&(0,o.assert)(e.key.equals(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(t)&&(e=r.applyToLocalView(e,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=(0,r.documentKeySet)(),e=0,n=this.mutations;e<n.length;e++){var o=n[e];t=t.add(o.key)}return t},t.prototype.equals=function(t){return this.batchId===t.batchId&&a.arrayEquals(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}());e.MutationBatch=s;var u=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,i,a){(0,o.assert)(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var s=(0,r.documentVersionMap)(),u=e.mutations,c=0;c<u.length;c++){var l=i[c].version;null===l&&(l=n),s=s.insert(u[c].key,l)}return new t(e,n,i,a,s)},t}();e.MutationBatchResult=u},RJJc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WriteTreeRef=e.WriteTree=void 0;var r=n("dSvz"),o=n("Iylt"),i=n("y6vc"),a=n("VUwA"),s=n("GIDU"),u=n("VBxt"),c=function(){function t(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new l(t,this)},t.prototype.addOverwrite=function(t,e,n,r){(0,o.assert)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){(0,o.assert)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=i.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var c=this.allWrites_[u];c.visible&&(u>=n&&this.recordContainsPath_(c,i.path)?a=!1:i.path.contains(c.path)&&(s=!0)),u--}if(a){if(s)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var l=i.children;(0,r.forEach)(l,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var a=this.visibleWrites_.childCompoundWrite(e);if(!o&&a.isEmpty())return n;if(o||null!=n||a.hasCompleteWrite(i.Path.Empty)){var s=function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},c=t.layerTree_(this.allWrites_,s,e),l=n||u.ChildrenNode.EMPTY_NODE;return c.apply(l)}return null}var h=this.visibleWrites_.getCompleteNode(e);if(null!=h)return h;var p=this.visibleWrites_.childCompoundWrite(e);if(p.isEmpty())return n;if(null!=n||p.hasCompleteWrite(i.Path.Empty)){var l=n||u.ChildrenNode.EMPTY_NODE;return p.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(s.PRIORITY_INDEX,function(t,e){var r=o.childCompoundWrite(new i.Path(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){(0,o.assert)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);if(null!=o)return o;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,a){var s,u=this.visibleWrites_.childCompoundWrite(t),c=u.getCompleteNode(i.Path.Empty);if(null!=c)s=c;else{if(null==e)return[];s=u.apply(e)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),p=o?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),f=p.getNext();f&&l.length<r;)0!==h(f,n)&&l.push(f),f=p.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!(0,r.findKey)(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,i.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var s=a.CompoundWrite.Empty,u=0;u<t.length;++u){var c=t[u];if(e(c)){var l=c.path,h=void 0;if(c.snap)n.contains(l)?(h=i.Path.relativePath(n,l),s=s.addWrite(h,c.snap)):l.contains(n)&&(h=i.Path.relativePath(l,n),s=s.addWrite(i.Path.Empty,c.snap.getChild(h)));else{if(!c.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(n.contains(l))h=i.Path.relativePath(n,l),s=s.addWrites(h,c.children);else if(l.contains(n))if(h=i.Path.relativePath(l,n),h.isEmpty())s=s.addWrites(i.Path.Empty,c.children);else{var p=(0,r.safeGet)(c.children,h.getFront());if(p){var f=p.getChild(h.popFront());s=s.addWrite(i.Path.Empty,f)}}}}}return s},t}();e.WriteTree=c;var l=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();e.WriteTreeRef=l},RdI5:function(t,e,n){"use strict";function r(){try{return i.apply(this,arguments)}catch(t){return a.errorObject.e=t,a.errorObject}}function o(t){return i=t,r}var i,a=n("XRvs");e.tryCatch=o},RiQK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicFieldValue=e.ServerTimestampFieldValueImpl=e.DeleteFieldValueImpl=e.FieldValueImpl=void 0;var r=n("sdUa"),o=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){function t(){}return t.delete=function(){return a.instance},t.serverTimestamp=function(){return s.instance},t}();e.FieldValueImpl=i;var a=function(t){function e(){return t.call(this)||this}return o(e,t),e.instance=new e,e}(i);e.DeleteFieldValueImpl=a;var s=function(t){function e(){return t.call(this)||this}return o(e,t),e.instance=new e,e}(i);e.ServerTimestampFieldValueImpl=s;e.PublicFieldValue=(0,r.makeConstructorPrivate)(i,"Use FieldValue.<field>() instead.")},"Rm/m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryPersistence=void 0;var r=n("wg5S"),o=n("0C8m"),i=n("U+HO"),a=n("X5DN"),s=n("3NMk"),u=n("PdK6"),c=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new u.MemoryRemoteDocumentCache,this.queryCache=new s.MemoryQueryCache,this.started=!1}return t.prototype.start=function(){return(0,r.assert)(!this.started,"MemoryPersistence double-started!"),this.started=!0,i.PromiseImpl.resolve()},t.prototype.shutdown=function(){return(0,r.assert)(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,i.PromiseImpl.resolve()},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new a.MemoryMutationQueue,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return(0,o.debug)("MemoryPersistence","Starting transaction:",t),e(new l).toPromise()},t}();e.MemoryPersistence=c;var l=function(){function t(){}return t}()},Rmqq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}();e.NamedNode=r},S15v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMStorageWrapper=void 0;var r=n("xrQA"),o=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,r.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,r.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}();e.DOMStorageWrapper=o},SUgJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthTokenProvider=void 0;var r=n("sN0z"),o=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?((0,r.log)("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',(0,r.warn)(t)},t}();e.AuthTokenProvider=o},SiZc:function(t,e,n){"use strict";function r(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=o(t[r],e[r]));return t}function i(t,e,n){t[e]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=r,e.deepExtend=o,e.patchProperty=i},SqRb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryStorage=void 0;var r=n("dSvz"),o=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,r.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}();e.MemoryStorage=o},SqTE:function(t,e,n){"use strict";(function(t){function r(t){d=t}Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketConnection=void 0,e.setWebSocketImpl=r;var o=n("2D4A"),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n("Iylt"),s=n("sN0z"),u=n("pfc+"),c=n("w/uE"),l=n("OsVr"),h=n("7AyI"),p=n("xrQA"),f=n("97M5"),d=null;"undefined"!=typeof MozWebSocket?d=MozWebSocket:"undefined"!=typeof WebSocket&&(d=WebSocket);var m=function(){function e(t,n,r,o){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=(0,s.logWrapper)(this.connId),this.stats_=u.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,r,o)}return e.connectionURL_=function(t,e,n){var r={};return r[c.VERSION_PARAM]=c.PROTOCOL_VERSION,!(0,f.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(c.FORGE_DOMAIN)&&(r[c.REFERER_PARAM]=c.FORGE_REF),e&&(r[c.TRANSPORT_SESSION_PARAM]=e),n&&(r[c.LAST_SESSION_PARAM]=n),t.connectionURL(c.WEBSOCKET,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.PersistentStorage.set("previous_websocket_failure",!0);try{if((0,f.isNodeSdk)()){var o=l.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+c.PROTOCOL_VERSION+"/"+i.default.SDK_VERSION+"/"+t.platform+"/"+o}},s=t.env,u=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new d(this.connURL,[],a)}else this.mySock=new d(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var p=t.message||t.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==d&&!e.forceDisallow_},e.previouslyFailed=function(){return h.PersistentStorage.isInMemoryStorage||!0===h.PersistentStorage.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,p.jsonEval)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if((0,a.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=(0,p.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=(0,s.splitStringBySize)(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();e.WebSocketConnection=m}).call(e,n("1WNV"))},Sznr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseId=e.DatabaseInfo=void 0;var r=n("D1Ck"),o=function(){function t(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}return t}();e.DatabaseInfo=o;var i="(default)",a=function(){function t(t,e){this.projectId=t,this.database=e||i}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===i},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return(0,r.primitiveComparator)(this.projectId,t.projectId)||(0,r.primitiveComparator)(this.database,t.database)},t}();e.DatabaseId=a},"T14+":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("fclq"),i=n("xFbG"),a=n("LiYJ"),s=n("dkwD"),u=function(t){function e(n,r,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,o)}}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(i.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,i){t.call(this),this._parentSubscriber=e;var s,u=this;o.isFunction(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==a.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=i}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},TA58:function(t,e,n){"use strict";function r(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function o(t){var e=+t.length;return isNaN(e)?0:0!==e&&i(e)?(e=a(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function i(t){return"number"==typeof t&&u.root.isFinite(t)}function a(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("zijX"),c=n("bKpL"),l=n("2B7B"),h=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return s(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,o=t.subscriber;if(n)return void o.error(t.error);var i=r.next();return i.done?void o.complete():(o.next(i.value),t.index=e+1,o.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,o=n.scheduler;if(o)return o.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=h;var p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=o(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},TH0N:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AckUserWrite=void 0;var r=n("Iylt"),o=n("y6vc"),i=n("NE16"),a=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=i.OperationType.ACK_USER_WRITE,this.source=i.OperationSource.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return(0,r.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new o.Path(e));return new t(o.Path.Empty,n,this.revert)}return(0,r.assert)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();e.AckUserWrite=a},THYR:function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.every=r;var a=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(t){function e(e,n,r,o){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=o,this.index=0,this.thisArg=r||this}return o(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},TIdC:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new s(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),a=n("ktfo");e.mergeAll=r;var s=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=s;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeAllSubscriber=u},TNy0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPoint=void 0;var r=n("3vSt"),o=n("mupS"),i=n("D1Ck"),a=function(){function t(t,e){if((0,o.validateExactNumberOfArgs)("GeoPoint",arguments,2),(0,o.validateArgType)("GeoPoint","number",1,t),(0,o.validateArgType)("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new r.FirestoreError(r.Code.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new r.FirestoreError(r.Code.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype._equals=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return(0,i.primitiveComparator)(this._lat,t._lat)||(0,i.primitiveComparator)(this._long,t._long)},t}();e.GeoPoint=a},TQn8:function(t,e,n){"use strict";function r(t,e){return this.lift(new o.MergeMapOperator(t,e,1))}var o=n("cPhF");e.concatMap=r},TaS0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryListener=e.EventManager=void 0;var r=n("CCKO"),o=n("9BZZ"),i=n("bpFg"),a=n("wg5S"),s=n("/zE0"),u=n("U+HO"),c=function(){function t(){this.listeners=[]}return t}(),l=function(){function t(t){this.syncEngine=t,this.queries=new s.ObjectMap(function(t){return t.canonicalId()}),this.onlineState=r.OnlineState.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new c,this.queries.set(e,r)),r.listeners.push(t),t.onOnlineStateChanged(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):u.PromiseImpl.resolve(r.targetId)},t.prototype.unlisten=function(t){var e=t.query,n=!1,r=this.queries.get(e);if(r){var o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length)}return n?(this.queries.delete(e),this.syncEngine.unlisten(e)):u.PromiseImpl.resolve()},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=r.query,i=this.queries.get(o);if(i){for(var a=0,s=i.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++){var i=o[r];i.onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++){o[r].onOnlineStateChanged(t)}})},t}();e.EventManager=l;var h=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=r.OnlineState.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if((0,a.assert)(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==o.ChangeType.Metadata&&e.push(i)}t={query:t.query,docs:t.docs,oldDocs:t.oldDocs,docChanges:e,fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:t.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if((0,a.assert)(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==r.OnlineState.Failed;return this.options.waitForSyncWhenOnline&&n?((0,a.assert)(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===r.OnlineState.Failed},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){(0,a.assert)(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e={query:e.query,docs:e.docs,oldDocs:i.DocumentSet.emptySet(e.docs),docChanges:t.getInitialViewChanges(e),fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:o.ChangeType.Added,doc:t})}),e},t}();e.QueryListener=h},TpsG:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=o},Tq0x:function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.reduce=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=a;var s=function(t){function e(e,n,r,o){t.call(this,e),this.accumulator=n,this.hasSeed=o,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return o(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(i.Subscriber);e.ReduceSubscriber=s},"U+HO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachDummyErrorHandler=e.Deferred=e.PromiseImpl=void 0;var r=n("Iiaq"),o=e.PromiseImpl=r.globalScope.Promise||n("l32o"),i=function(){function t(){var t=this;this.resolve=null,this.reject=null,this.promise=new o(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){function e(e,r){e?n.reject(e):n.resolve(r),"function"==typeof t&&(a(n.promise),1===t.length?t(e):t(e,r))}var n=this;return e},t}();e.Deferred=i;var a=e.attachDummyErrorHandler=function(t){t.catch(function(){})}},U0Tu:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/oeL"),o=n("mQQt"),i=n("7zUS"),a=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[i.a]}},t}();a.decorators=[{type:r.E,args:[{declarations:[o.a,o.b],exports:[o.a],entryComponents:[o.b]}]}],a.ctorParameters=function(){return[]}},U19Y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentConnection=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("2D4A"),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n("dSvz"),s=n("xrQA"),u=n("Iylt"),c=n("sN0z"),l=n("y6vc"),h=n("lCkt"),p=n("g1OY"),f=n("9SBu"),d=n("BWiv"),m=n("OsVr"),y=n("97M5"),g=n("QSE1"),v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=1e3,b=3e5,w=function(t){function e(n,r,o,i,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=o,u.onServerInfoUpdate_=i,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=(0,c.logWrapper)("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=_,u.maxReconnectDelay_=b,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!(0,y.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),h.VisibilityMonitor.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&p.OnlineMonitor.getInstance().on("online",u.onOnline_,u),u}return v(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_((0,s.stringify)(o)),(0,u.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},(0,u.assert)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,u.assert)(!this.listens_[i][o],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[i][o]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var a={p:o};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[o]&&n.listens_[o][i])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(o,i),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===(void 0===t?"undefined":r(t))&&(0,a.contains)(t,"w")){var n=(0,a.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var o='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();(0,c.warn)("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+o+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,f.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,f.isValidFormat)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"===r(this.authOverride_)&&(o.authvar=this.authOverride_),this.sendRequest(n,o,function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,u.assert)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,s.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):(0,c.error)("Unrecognized action received from server: "+(0,s.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,u.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=_),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,i=this,a=this.lastSessionId,s=!1,l=null,h=function(){l?l.close():(s=!0,r())},p=function(t){(0,u.assert)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)};this.realtime_={close:h,sendRequest:p};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(e){s?(0,c.log)("getToken() completed but was canceled"):((0,c.log)("getToken() completed. Creating connection."),i.authToken_=e&&e.accessToken,l=new d.Connection(o,i.repoInfo_,t,n,r,function(t){(0,c.warn)(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},a))}).then(null,function(t){i.log_("Failed to get token: "+t),s||(m.CONSTANTS.NODE_ADMIN&&(0,c.warn)(t),h())})}},e.prototype.interrupt=function(t){(0,c.log)("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){(0,c.log)("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,a.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=_,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return(0,c.ObjectToUniqueKey)(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new l.Path(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===(0,a.getCount)(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){(0,c.log)("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),(0,a.forEach)(this.listens_,function(e,n){(0,a.forEach)(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";m.CONSTANTS.NODE_ADMIN?e="admin_node":m.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,(0,y.isMobileCordova)()?t["framework.cordova"]=1:(0,y.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=p.OnlineMonitor.getInstance().currentlyOnline();return(0,a.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(g.ServerActions);e.PersistentConnection=w},UWaG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_VERSION=void 0;var r=n("2D4A"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.SDK_VERSION=o.default.SDK_VERSION},V2Ax:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentKey=void 0;var r=n("wg5S"),o=n("n8qD"),i=function(){function t(e){this.path=e,(0,r.assert)(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.equals=function(t){return null!==t&&0===o.ResourcePath.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return o.ResourcePath.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new o.ResourcePath(e.slice()))},t.fromPathString=function(e){return new t(o.ResourcePath.fromString(e))},t.EMPTY=new t(new o.ResourcePath([])),t}();e.DocumentKey=i},V6Dl:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},VBxt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_NODE=e.MaxNode=e.ChildrenNode=void 0;var r,o=n("Iylt"),i=n("sN0z"),a=n("2UX9"),s=n("Rmqq"),u=n("R8Xc"),c=n("GIDU"),l=n("JvZA"),h=n("PShv"),p=n("hu/W"),f=n("oVda"),d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&(0,u.validatePriorityNode)(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return r||(r=new t(new a.SortedMap(f.NAME_COMPARATOR),null,h.IndexMap.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||r},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?r:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new s.NamedNode(e,n),a=void 0,u=void 0,c=void 0;return n.isEmpty()?(a=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(i,this.children_)),c=a.isEmpty()?r:this.priorityNode_,new t(a,c,u)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;(0,o.assert)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(c.PRIORITY_INDEX,function(a,s){n[a]=s.val(e),r++,i&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1}),!e&&i&&o<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+(0,u.priorityHashText)(this.getPriority().val())+":"),this.forEachChild(c.PRIORITY_INDEX,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":(0,i.sha1)(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new s.NamedNode(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new s.NamedNode(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new s.NamedNode(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,s.NamedNode.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,s.NamedNode.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===g?-1:0},t.prototype.withIndex=function(e){if(e===l.KEY_INDEX||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===l.KEY_INDEX||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(c.PRIORITY_INDEX),r=e.getIterator(c.PRIORITY_INDEX),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===l.KEY_INDEX?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}();e.ChildrenNode=m;var y=function(t){function e(){return t.call(this,new a.SortedMap(f.NAME_COMPARATOR),m.EMPTY_NODE,h.IndexMap.Default)||this}return d(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return m.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(m);e.MaxNode=y;var g=e.MAX_NODE=new y;Object.defineProperties(s.NamedNode,{MIN:{value:new s.NamedNode(i.MIN_NAME,m.EMPTY_NODE)},MAX:{value:new s.NamedNode(i.MAX_NAME,g)}}),l.KeyIndex.__EMPTY_NODE=m.EMPTY_NODE,p.LeafNode.__childrenNodeConstructor=m,(0,u.setMaxNode)(g),(0,c.setMaxNode)(g)},VQAl:function(t,e,n){"use strict";function r(){if("undefined"==typeof Uint8Array)throw new s.FirestoreError(s.Code.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function o(){if(!i.PlatformSupport.getPlatform().base64Available)throw new s.FirestoreError(s.Code.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}Object.defineProperty(e,"__esModule",{value:!0}),e.PublicBlob=e.Blob=void 0;var i=n("v3x7"),a=n("sdUa"),s=n("3vSt"),u=n("mupS"),c=n("D1Ck"),l=function(){function t(t){o(),this._binaryString=t}return t.fromBase64String=function(e){(0,u.validateExactNumberOfArgs)("Blob.fromBase64String",arguments,1),(0,u.validateArgType)("Blob.fromBase64String","string",1,e),o();try{return new t(i.PlatformSupport.getPlatform().atob(e))}catch(t){throw new s.FirestoreError(s.Code.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if((0,u.validateExactNumberOfArgs)("Blob.fromUint8Array",arguments,1),r(),!(e instanceof Uint8Array))throw(0,u.invalidClassError)("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return(0,u.validateExactNumberOfArgs)("Blob.toBase64",arguments,0),o(),i.PlatformSupport.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){(0,u.validateExactNumberOfArgs)("Blob.toUint8Array",arguments,0),r();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype._equals=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return(0,c.primitiveComparator)(this._binaryString,t._binaryString)},t}();e.Blob=l;e.PublicBlob=(0,a.makeConstructorPrivate)(l,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.")},VUwA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompoundWrite=void 0;var r=n("R/Oc"),o=n("y6vc"),i=n("dSvz"),a=n("Rmqq"),s=n("GIDU"),u=n("Iylt"),c=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new r.ImmutableTree(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var a=i.path,s=i.value,u=o.Path.relativePath(a,e);return s=s.updateChild(u,n),new t(this.writeTree_.set(a,s))}var c=new r.ImmutableTree(n);return new t(this.writeTree_.setTree(e,c))},t.prototype.addWrites=function(t,e){var n=this;return(0,i.forEach)(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,r.ImmutableTree.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(o.Path.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(s.PRIORITY_INDEX,function(e,n){t.push(new a.NamedNode(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new a.NamedNode(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(o.Path.Empty,this.writeTree_,e)},t.Empty=new t(new r.ImmutableTree(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,i){".priority"===n?((0,u.assert)(null!==i.value,"Priority writes must always be leaf nodes"),o=i.value):r=t.applySubtreeWrite_(e.child(n),i,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}();e.CompoundWrite=c},VXaJ:function(t,e,n){"use strict";var r=n("v3x7"),o=n("zXLZ");r.PlatformSupport.setPlatform(new o.BrowserPlatform)},VhRD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}();e.Change=r},ViUi:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(o.apply(void 0,[this].concat(t)))}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return u.isScheduler(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof i.Observable?t[0]:new a.ArrayObservable(t,r).lift(new s.MergeAllOperator(n))}var i=n("bKpL"),a=n("wZOE"),s=n("TIdC"),u=n("MicL");e.merge=r,e.mergeStatic=o},WSkQ:function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+"),a=n("TpsG");e.last=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,o,i){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,void 0!==o&&(this.lastValue=o,this.hasValue=!0)}return o(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new a.EmptyError)},e}(i.Subscriber)},Wv1e:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},X5DN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryMutationQueue=void 0;var r=n("V2Ax"),o=n("RFuG"),i=n("v3x7"),a=n("wg5S"),s=n("D1Ck"),u=n("2nEU"),c=n("G3bM"),l=n("mpwt"),h=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=o.BATCHID_UNKNOWN,this.lastStreamToken=(0,i.emptyByteString)(),this.garbageCollector=null,this.batchesByDocumentKey=new u.SortedSet(l.DocReference.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=o.BATCHID_UNKNOWN),(0,a.assert)(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),c.PersistencePromise.resolve()},t.prototype.checkEmpty=function(t){return c.PersistencePromise.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return c.PersistencePromise.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return c.PersistencePromise.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;(0,a.assert)(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var o=this.indexOfExistingBatchId(r,"acknowledged"),i=this.mutationQueue[o];return(0,a.assert)(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),(0,a.assert)(!i.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,c.PersistencePromise.resolve()},t.prototype.getLastStreamToken=function(t){return c.PersistencePromise.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,c.PersistencePromise.resolve()},t.prototype.addMutationBatch=function(t,e,n){(0,a.assert)(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){var i=this.mutationQueue[this.mutationQueue.length-1];(0,a.assert)(i.batchId<r,"Mutation batchIDs must be monotonically increasing order")}var s=new o.MutationBatch(r,e,n);this.mutationQueue.push(s);for(var u=0,h=n;u<h.length;u++){var p=h[u];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new l.DocReference(p.key,r))}return c.PersistencePromise.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return c.PersistencePromise.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.mutationQueue.length;e=Math.max(e+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(e),o=r<0?0:r;o<n;o++){var i=this.mutationQueue[o];if(!i.isTombstone())return c.PersistencePromise.resolve(i)}return c.PersistencePromise.resolve(null)},t.prototype.getAllMutationBatches=function(t){return c.PersistencePromise.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,c.PersistencePromise.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new l.DocReference(e,0),o=new l.DocReference(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){(0,a.assert)(e.equals(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);(0,a.assert)(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),c.PersistencePromise.resolve(i)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,o=e.path,i=o.length+1,a=o;r.DocumentKey.isDocumentKey(a)||(a=a.child(""));var h=new l.DocReference(new r.DocumentKey(a),0),p=new u.SortedSet(s.primitiveComparator);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!o.isPrefixOf(e)&&(e.length===i&&(p=p.add(t.targetOrBatchId)),!0)},h);var f=[];return p.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&f.push(e)}),c.PersistencePromise.resolve(f)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;(0,a.assert)(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,o=this.mutationQueue.length,i=this.indexOfExistingBatchId(r,"removed");(0,a.assert)(this.mutationQueue[i].batchId===r,"Removed batches must exist in the queue");for(var s=1,u=i+1;s<n&&u<o;){var h=this.mutationQueue[u];h.isTombstone()?u++:((0,a.assert)(h.batchId===e[s].batchId,"Removed batches must be contiguous in the queue"),s++,u++)}if(0===i){for(;u<o;u++){var h=this.mutationQueue[u];if(!h.isTombstone())break}var p=u-i;this.mutationQueue.splice(i,p)}else for(var f=i;f<u;f++)this.mutationQueue[f]=this.mutationQueue[f].toTombstone();for(var d=this.batchesByDocumentKey,m=0,y=e;m<y.length;m++)for(var h=y[m],g=h.batchId,v=0,_=h.mutations;v<_.length;v++){var b=_[v],w=b.key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(w);var x=new l.DocReference(w,g);d=d.delete(x)}return this.batchesByDocumentKey=d,c.PersistencePromise.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new l.DocReference(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return c.PersistencePromise.resolve(e.equals(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&(0,a.assert)(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),c.PersistencePromise.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return(0,a.assert)(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return(0,a.assert)(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}();e.MemoryMutationQueue=h},XBZp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelEvent=e.DataEvent=void 0;var r=n("xrQA"),o=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,r.stringify)(this.snapshot.exportVal())},t}();e.DataEvent=o;var i=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();e.CancelEvent=i},XNum:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("xFbG"),i=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(o.Subscription);e.Action=i},XRvs:function(t,e,n){"use strict";e.errorObject={e:{}}},"Y++P":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FirestoreClient=void 0;var r=n("TaS0"),o=n("0im/"),i=n("6mzA"),a=n("qGYc"),s=n("D5Qw"),u=n("Rm/m"),c=n("3nuH"),l=n("ImVX"),h=n("gCpu"),p=n("Ifkj"),f=n("3vSt"),d=n("0C8m"),m=n("B404"),y=n("U+HO"),g=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new m.Deferred,r=new m.Deferred,o=!1;return this.credentials.setUserChangeListener(function(i){o?e.asyncQueue.schedule(function(){return e.handleUserChange(i)}):(o=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(i)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):y.PromiseImpl.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===f.Code.FAILED_PRECONDITION||t.code===f.Code.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new c.NoOpGarbageCollector;var t=a.IndexedDbPersistence.buildStoragePrefix(this.databaseInfo),e=new p.JsonProtoSerializer(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new a.IndexedDbPersistence(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new i.EagerGarbageCollector,this.persistence=new u.MemoryPersistence,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new s.LocalStore(e.persistence,t,e.garbageCollector);var i=e.platform.newSerializer(e.databaseInfo.databaseId),a=new l.Datastore(e.databaseInfo,e.asyncQueue,n,e.credentials,i),u=function(t){e.eventMgr.onOnlineStateChanged(t)};return e.remoteStore=new h.RemoteStore(e.databaseInfo,e.asyncQueue,e.localStore,a,u),e.syncEngine=new o.SyncEngine(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new r.EventManager(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),(0,d.debug)("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.schedule(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var o=this,i=new r.QueryListener(t,e,n);return this.asyncQueue.schedule(function(){return o.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.schedule(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new m.Deferred;return this.asyncQueue.schedule(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.schedule(function(){return y.PromiseImpl.resolve()}).then(function(){return e.syncEngine.runTransaction(t)})},t}();e.FirestoreClient=g},YCrt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountedSet=void 0;var r=n("dSvz"),o=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return(0,r.contains)(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return(0,r.isEmpty)(this.set)},t.prototype.count=function(){return(0,r.getCount)(this.set)},t.prototype.each=function(t){(0,r.forEach)(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return(0,r.forEach)(this.set,function(e){t.push(e)}),t},t}();e.CountedSet=o},YeP0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalDocumentsView=void 0;var r=n("pZ/q"),o=n("rwiY"),i=n("d9fJ"),a=n("V2Ax"),s=n("wg5S"),u=n("G3bM"),c=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,a=[],s=(0,o.maybeDocumentMap)();return e.forEach(function(e){a.push(n.getDocument(t,e).next(function(t){t||(t=new i.NoDocument(e,r.SnapshotVersion.forDeletedDoc())),s=s.insert(e,t)}))}),u.PersistencePromise.waitFor(a).next(function(){return s})},t.prototype.getDocumentsMatchingQuery=function(t,e){return a.DocumentKey.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new a.DocumentKey(e)).next(function(t){var e=(0,o.documentMap)();return t instanceof i.Document&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var a=(0,o.documentKeySet)(),s=0,c=e;s<c.length;s++)for(var l=c[s],h=0,p=l.mutations;h<p.length;h++){var f=p[h];n.get(f.key)||(a=a.add(f.key))}var d=[];return a.forEach(function(e){d.push(r.getDocument(t,e).next(function(t){t instanceof i.Document&&(n=n.insert(t.key,t))}))}),u.PersistencePromise.waitFor(d)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,o=t;r<o.length;r++){var i=o[r];n=i.applyToLocalView(e,n)}return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(o,a){r.push(n.computeLocalDocument(t,o,a).next(function(t){t instanceof i.Document?e=e.insert(t.key,t):t instanceof i.NoDocument?e=e.remove(t.key):(0,s.fail)("Unknown MaybeDocument: "+t)}))}),u.PersistencePromise.waitFor(r).next(function(){return e})},t}();e.LocalDocumentsView=c},"Yt+N":function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.errorPrefix=r;e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o){var i=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".";throw new Error(i)}},e.validateNamespace=function(t,e,n,o){if((!o||n)&&"string"!=typeof n)throw new Error(r(t,e,o)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,o){if((!o||n)&&"function"!=typeof n)throw new Error(r(t,e,o)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!==(void 0===n?"undefined":o(n))||null===n))throw new Error(r(t,e,i)+"must be a valid context object.")}},Z0p1:function(t,e,n){"use strict";function r(t){var e=new g.Observable(function(e){return{unsubscribe:t.onSnapshot(e)}});return v.observeOn.call(e,new y.e(Zone.current))}function o(t){return r(t).share()}function i(t){return o(t).map(function(t){return{payload:t,type:"value"}})}function a(t){return o(t).map(function(t){return{payload:t,type:"query"}})}function s(t){return a(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}function u(t,e){return a(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return c(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}function c(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=l(t,e))}),t}function l(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}function h(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}function p(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}function f(t,e){return new w(t,e)}var d=(n("bdO8"),n("7JOC")),m=(n("5v8a"),n("/oeL")),y=n("13je"),g=n("bKpL"),v=n("AHF9"),_=(n("qm+V"),n("gbhw"),n("6NKQ"),function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?s(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):s(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=h(t),u(this.query,t)},t.prototype.valueChanges=function(t){return a(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new b(this.ref.doc(t))},t}()),b=function(){function t(t){this.ref=t}return t.prototype.set=function(t){return this.ref.set(t)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=this.ref.collection(t),r=p(n,e),o=r.ref,i=r.query;return new _(o,i)},t.prototype.snapshotChanges=function(){return i(this.ref)},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),w=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=e?Object(d.from)(t.firestore().enablePersistence().then(function(){return!0})):Object(d.from)(new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=this.firestore.collection(t),r=p(n,e),o=r.ref,i=r.query;return new _(o,i)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new b(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t.decorators=[{type:m.x}],t.ctorParameters=function(){return[{type:y.b},null]},t}(),x=new m.y("EnablePersistenceToken"),C={provide:w,useFactory:f,deps:[y.b,x]},E=[C,{provide:x,useValue:!1}],S=function(){function t(){}return t.enablePersistence=function(){return{ngModule:y.a,providers:[{provide:x,useValue:!0},C]}},t.decorators=[{type:m.E,args:[{imports:[y.a],providers:[E]}]}],t.ctorParameters=function(){return[]},t}();n.d(e,!1,function(){return p}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return x}),n.d(e,"d",function(){return f}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return E}),n.d(e,"b",function(){return S}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return _}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return a})},"Zz+K":function(t,e,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("wM1e"),a=n("5FV4"),s=0,u=function(){function t(t){this.templateRef=t}return t}();u.decorators=[{type:r.p,args:[{selector:"ng-template[ngbPanelTitle]"}]}],u.ctorParameters=function(){return[{type:r._0}]};var c=function(){function t(t){this.templateRef=t}return t}();c.decorators=[{type:r.p,args:[{selector:"ng-template[ngbPanelContent]"}]}],c.ctorParameters=function(){return[{type:r._0}]};var l=function(){function t(){this.disabled=!1,this.id="ngb-panel-"+s++,this.isOpen=!1}return t}();l.decorators=[{type:r.p,args:[{selector:"ngb-panel"}]}],l.ctorParameters=function(){return[]},l.propDecorators={disabled:[{type:r.A}],id:[{type:r.A}],title:[{type:r.A}],type:[{type:r.A}],contentTpl:[{type:r.n,args:[c]}],titleTpl:[{type:r.n,args:[u]}]};var h=function(){function t(t){this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new r.s,this.type=t.type,this.closeOtherPanels=t.closeOthers}return t.prototype.toggle=function(t){var e=this.panels.find(function(e){return e.id===t});if(e&&!e.disabled){var n=!1;this.panelChange.emit({panelId:t,nextState:!e.isOpen,preventDefault:function(){n=!0}}),n||(e.isOpen=!e.isOpen,this.closeOtherPanels&&this._closeOthers(t),this._updateActiveIds())}},t.prototype.ngAfterContentChecked=function(){var t=this;Object(i.e)(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(function(e){return e.isOpen=!e.disabled&&t.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0]),this._updateActiveIds())},t.prototype._closeOthers=function(t){this.panels.forEach(function(e){e.id!==t&&(e.isOpen=!1)})},t.prototype._updateActiveIds=function(){this.activeIds=this.panels.filter(function(t){return t.isOpen&&!t.disabled}).map(function(t){return t.id})},t}();h.decorators=[{type:r.l,args:[{selector:"ngb-accordion",exportAs:"ngbAccordion",host:{role:"tablist","[attr.aria-multiselectable]":"!closeOtherPanels"},template:'\n    <ng-template ngFor let-panel [ngForOf]="panels">\n      <div class="card">\n        <div role="tab" id="{{panel.id}}-header"\n          [class]="\'card-header \' + (panel.type ? \'card-\'+panel.type: type ? \'card-\'+type : \'\')" [class.active]="panel.isOpen">\n          <a href (click)="!!toggle(panel.id)" [class.text-muted]="panel.disabled" [attr.tabindex]="(panel.disabled ? \'-1\' : null)"\n            [attr.aria-expanded]="panel.isOpen" [attr.aria-controls]="(panel.isOpen ? panel.id : null)"\n            [attr.aria-disabled]="panel.disabled">\n            {{panel.title}}<ng-template [ngTemplateOutlet]="panel.titleTpl?.templateRef"></ng-template>\n          </a>\n        </div>\n        <div id="{{panel.id}}" role="tabpanel" [attr.aria-labelledby]="panel.id + \'-header\'" \n             class="card-body {{panel.isOpen ? \'show\' : null}}" *ngIf="!destroyOnHide || panel.isOpen">\n             <ng-template [ngTemplateOutlet]="panel.contentTpl.templateRef"></ng-template>\n        </div>\n      </div>\n    </ng-template>\n  '}]}],h.ctorParameters=function(){return[{type:a.a}]},h.propDecorators={panels:[{type:r.o,args:[l]}],activeIds:[{type:r.A}],closeOtherPanels:[{type:r.A,args:["closeOthers"]}],destroyOnHide:[{type:r.A}],type:[{type:r.A}],panelChange:[{type:r.L}]},n.d(e,"a",function(){return f}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return a.a});var p=[h,l,u,c],f=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.a]}},t}();f.decorators=[{type:r.E,args:[{declarations:p,exports:p,imports:[o.c]}]}],f.ctorParameters=function(){return[]}},a3fj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.blockSize=-1}return t}();e.Hash=r},a8sZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WriteTreeCompleteChildSource=e.NO_COMPLETE_CHILD_SOURCE=e.NoCompleteChildSource_=void 0;var r=n("ePfY"),o=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}();e.NoCompleteChildSource_=o;var i=(e.NO_COMPLETE_CHILD_SOURCE=new o,function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}());e.WriteTreeCompleteChildSource=i},aCMF:function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),a=n("ktfo");e.switchMap=r;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var o;try{o=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e}(i.OuterSubscriber)},aOKN:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(o.Observable);e.ScalarObservable=i},abM3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.base64=void 0;var r=n("Iiaq"),o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){for(var o=t.charCodeAt(r);o>255;)e[n++]=255&o,o>>=8;e[n++]=o}return e},i=function(t){if(t.length<8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=t.slice(n,n+8192);e+=String.fromCharCode.apply(null,r)}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof r.globalScope.atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,c=u?t[o+2]:0,l=i>>2,h=(3&i)<<4|s>>4,p=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length,s=a?n[t.charAt(o)]:0;++o;var u=o<t.length,c=u?n[t.charAt(o)]:64;++o;var l=o<t.length,h=l?n[t.charAt(o)]:64;if(++o,null==i||null==s||null==c||null==h)throw Error();var p=i<<2|s>>4;if(r.push(p),64!=c){var f=s<<4&240|c>>2;if(r.push(f),64!=h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}}},abh2:function(t,e,n){"use strict";function r(t,e){(0,o.assert)(0===e,"Unexpected upgrade from version "+e),t.createObjectStore(u.store,{keyPath:u.keyPath}),t.createObjectStore(c.store,{keyPath:c.keyPath}),t.createObjectStore(d.store,{keyPath:d.keyPath}).createIndex(d.documentTargetsIndex,d.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(f.store,{keyPath:f.keyPath}).createIndex(f.queryTargetsIndexName,f.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(l.store),t.createObjectStore(p.store),t.createObjectStore(s.store),t.createObjectStore(m.store)}Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_STORES=e.DbTargetGlobal=e.DbTargetDocument=e.DbTarget=e.DbRemoteDocument=e.DbNoDocument=e.DbDocumentMutation=e.DbMutationBatch=e.DbMutationQueue=e.DbOwner=e.DbTimestamp=e.SCHEMA_VERSION=void 0,e.createOrUpgradeDb=r;var o=n("wg5S"),i=n("mGGb"),a=(e.SCHEMA_VERSION=1,function(){function t(t,e){this.seconds=t,this.nanos=e}return t}());e.DbTimestamp=a;var s=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}();e.DbOwner=s;var u=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}();e.DbMutationQueue=u;var c=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}();e.DbMutationBatch=c;var l=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,(0,i.encode)(e)]},t.key=function(t,e,n){return[t,(0,i.encode)(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();e.DbDocumentMutation=l;var h=function(){function t(t,e){this.path=t,this.readTime=e}return t}();e.DbNoDocument=h;var p=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}();e.DbRemoteDocument=p;var f=function(){function t(t,e,n,r,o,i){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}();e.DbTarget=f;var d=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}();e.DbTargetDocument=d;var m=function(){function t(t,e,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}();e.DbTargetGlobal=m;e.ALL_STORES=[u.store,c.store,l.store,p.store,f.store,s.store,m.store,d.store]},asHm:function(t,e,n){"use strict";var r=n("bKpL"),o=n("OADz");r.Observable.prototype.withLatestFrom=o.withLatestFrom},bIV3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventGenerator=void 0;var r=n("Rmqq"),o=n("VhRD"),i=n("Iylt"),a=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],a=[];return t.forEach(function(t){t.type===o.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push(o.Change.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,o.Change.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,o.Change.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,o.Change.CHILD_MOVED,a,n,e),this.generateEventsForType_(i,o.Change.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,o.Change.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=i.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw(0,i.assertionError)("Should only compare child_ events.");var n=new r.NamedNode(t.childName,t.snapshotNode),o=new r.NamedNode(e.childName,e.snapshotNode);return this.index_.compare(n,o)},t}();e.EventGenerator=a},bKpL:function(t,e,n){"use strict";var r=n("zijX"),o=n("rf3q"),i=n("DP67"),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=o.toSubscriber(t,e,n);if(r?r.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var o;o=n.subscribe(function(e){if(o)try{t(e)}catch(t){r(t),o.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=a},bdO8:function(t,e,n){"use strict";function r(t){(0,a.configureForFirebase)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.registerFirestore=r;var o=n("2D4A"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);n("VXaJ");var a=n("PjKW");r(i.default)},bjno:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataSnapshot=void 0;var r=n("Yt+N"),o=n("ezsS"),i=n("y6vc"),a=n("GIDU"),s=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return(0,r.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return(0,r.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return(0,r.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return(0,r.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){(0,r.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),(0,o.validatePathString)("DataSnapshot.child",1,e,!1);var n=new i.Path(e),s=this.ref_.child(n);return new t(this.node_.getChild(n),s,a.PRIORITY_INDEX)},t.prototype.hasChild=function(t){(0,r.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),(0,o.validatePathString)("DataSnapshot.hasChild",1,t,!1);var e=new i.Path(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return(0,r.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return(0,r.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,r.validateCallback)("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),a.PRIORITY_INDEX))})},t.prototype.hasChildren=function(){return(0,r.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return(0,r.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return(0,r.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();e.DataSnapshot=s},bm2B:function(t,e,n){"use strict";function r(t){return null==t||0===t.length}function o(t){return null!=t}function i(t){var e=Object(M._27)(t)?Object(L.fromPromise)(t):t;if(!Object(M._26)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function a(t,e){return e.map(function(e){return e(t)})}function s(t,e){return e.map(function(e){return e(t)})}function u(t){var e=t.reduce(function(t,e){return null!=e?Object.assign({},t,e):t},{});return 0===Object.keys(e).length?null:e}function c(){return/android (\d+)/.test((Object(V.t)()?Object(V.t)().getUserAgent():"").toLowerCase())}function l(t){return t.validate?function(e){return t.validate(e)}:t}function h(t){return t.validate?function(e){return t.validate(e)}:t}function p(){throw new Error("unimplemented")}function f(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function d(t){return t.split(":")[0]}function m(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function y(t){return t.split(":")[0]}function g(t,e){return e.path.concat([t])}function v(t,e){t||x(e,"Cannot find control with"),e.valueAccessor||x(e,"No value accessor for form control with"),t.validator=W.compose([t.validator,e.validator]),t.asyncValidator=W.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function _(t,e){e.valueAccessor.registerOnChange(function(){return w(e)}),e.valueAccessor.registerOnTouched(function(){return w(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function b(t,e){null==t&&x(e,"Cannot find control with"),t.validator=W.compose([t.validator,e.validator]),t.asyncValidator=W.composeAsync([t.asyncValidator,e.asyncValidator])}function w(t){return x(t,"There is no FormControl instance attached to form control element with")}function x(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function C(t){return null!=t?W.compose(t.map(l)):null}function E(t){return null!=t?W.composeAsync(t.map(h)):null}function S(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(M._30)(e,n.currentValue)}function T(t){return ht.some(function(e){return t.constructor===e})}function P(t,e){if(!e)return null;var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){e.constructor===Z?n=e:T(e)?(r&&x(t,"More than one built-in value accessor matches form control with"),r=e):(o&&x(t,"More than one custom value accessor matches form control with"),o=e)}),o||(r||(n||(x(t,"No valid value accessor for form control with"),null)))}function O(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof _t?t.controls[e]||null:t instanceof bt?t.at(e)||null:null},t))}function I(t){return Array.isArray(t)?C(t):t||null}function A(t){return Array.isArray(t)?E(t):t||null}function k(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function D(t){return!(t instanceof Ft||t instanceof Nt||t instanceof jt)}n.d(e,"c",function(){return H}),n.d(e,"d",function(){return st}),n.d(e,"b",function(){return B}),n.d(e,"a",function(){return ae}),n.d(e,"e",function(){return ie}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return lt});var R=n("6Xbx"),M=n("/oeL"),N=n("Fhmd"),L=(n.n(N),n("QU9E")),F=(n.n(L),n("lx+J")),V=(n.n(F),n("fc+i")),j=function(){function t(){}return t.prototype.control=function(){},Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(j),B=new M.y("NgValidators"),U=new M.y("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,W=function(){function t(){}return t.min=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return q.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,o;return"string"==typeof e?(o="^"+e+"$",n=new RegExp(o)):(o=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:o,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(o);return 0==e.length?null:function(t){return u(a(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(o);return 0==e.length?null:function(t){var n=s(t,e).map(i);return F.map.call(Object(N.forkJoin)(n),u)}},t}(),H=new M.y("NgValueAccessor"),G={provide:H,useExisting:Object(M._8)(function(){return K}),multi:!0},K=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();K.decorators=[{type:M.p,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[G]}]}],K.ctorParameters=function(){return[{type:M.R},{type:M.q}]};var Q={provide:H,useExisting:Object(M._8)(function(){return Z}),multi:!0},X=new M.y("CompositionEventMode"),Z=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!c())}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();Z.decorators=[{type:M.p,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[Q]}]}],Z.ctorParameters=function(){return[{type:M.R},{type:M.q},{type:void 0,decorators:[{type:M.K},{type:M.w,args:[X]}]}]};var Y={provide:H,useExisting:Object(M._8)(function(){return J}),multi:!0},J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();J.decorators=[{type:M.p,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Y]}]}],J.ctorParameters=function(){return[{type:M.R},{type:M.q}]};var $=function(t){function e(){var e=t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return R.a(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return p()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return p()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(j),tt={provide:H,useExisting:Object(M._8)(function(){return nt}),multi:!0},et=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();et.decorators=[{type:M.x}],et.ctorParameters=function(){return[]};var nt=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get($),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();nt.decorators=[{type:M.p,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[tt]}]}],nt.ctorParameters=function(){return[{type:M.R},{type:M.q},{type:et},{type:M.z}]},nt.propDecorators={name:[{type:M.A}],formControlName:[{type:M.A}],value:[{type:M.A}]};var rt={provide:H,useExisting:Object(M._8)(function(){return ot}),multi:!0},ot=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();ot.decorators=[{type:M.p,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[rt]}]}],ot.ctorParameters=function(){return[{type:M.R},{type:M.q}]};var it={provide:H,useExisting:Object(M._8)(function(){return at}),multi:!0},at=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=M._30}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=f(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=d(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();at.decorators=[{type:M.p,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[it]}]}],at.ctorParameters=function(){return[{type:M.R},{type:M.q}]},at.propDecorators={compareWith:[{type:M.A}]};var st=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(f(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();st.decorators=[{type:M.p,args:[{selector:"option"}]}],st.ctorParameters=function(){return[{type:M.q},{type:M.R},{type:at,decorators:[{type:M.K},{type:M.t}]}]},st.propDecorators={ngValue:[{type:M.A,args:["ngValue"]}],value:[{type:M.A,args:["value"]}]};var ut={provide:H,useExisting:Object(M._8)(function(){return ct}),multi:!0},ct=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=M._30}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=e._getOptionValue(a.value);r.push(s)}else for(var o=n.options,i=0;i<o.length;i++){var a=o.item(i);if(a.selected){var s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=y(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();ct.decorators=[{type:M.p,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ut]}]}],ct.ctorParameters=function(){return[{type:M.R},{type:M.q}]},ct.propDecorators={compareWith:[{type:M.A}]};var lt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();lt.decorators=[{type:M.p,args:[{selector:"option"}]}],lt.ctorParameters=function(){return[{type:M.q},{type:M.R},{type:ct,decorators:[{type:M.K},{type:M.t}]}]},lt.propDecorators={ngValue:[{type:M.A,args:["ngValue"]}],value:[{type:M.A,args:["value"]}]};var ht=[K,ot,J,at,ct,nt],pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return E(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(z),ft=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),dt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},mt=function(t){function e(e){return t.call(this,e)||this}return R.a(e,t),e}(ft);mt.decorators=[{type:M.p,args:[{selector:"[formControlName],[ngModel],[formControl]",host:dt}]}],mt.ctorParameters=function(){return[{type:$,decorators:[{type:M.W}]}]};var yt=function(t){function e(e){return t.call(this,e)||this}return R.a(e,t),e}(ft);yt.decorators=[{type:M.p,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:dt}]}],yt.ctorParameters=function(){return[{type:z,decorators:[{type:M.W}]}]};var gt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=I(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=A(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this._touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this._pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this._status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var n=i(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this._errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return O(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new M.s,this._statusChanges=new M.s},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this._pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this._touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),vt=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,I(n),A(r))||this;return o._onChange=[],o._applyFormState(e),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return R.a(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._value=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n._value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this._value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(gt),_t=function(t){function e(e,n,r){var o=t.call(this,n||null,r||null)||this;return o.controls=e,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return R.a(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof vt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(gt),bt=function(t){function e(e,n,r){var o=t.call(this,n||null,r||null)||this;return o.controls=e,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return R.a(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof vt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(gt),wt={provide:z,useExisting:Object(M._8)(function(){return Ct})},xt=Promise.resolve(null),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r._submitted=!1,r.ngSubmit=new M.s,r.form=new _t({},C(e),E(n)),r}return R.a(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;xt.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),v(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;xt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;xt.then(function(){var n=e._findContainer(t.path),r=new _t({});b(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;xt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;xt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(z);Ct.decorators=[{type:M.p,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[wt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Ct.ctorParameters=function(){return[{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]}]};var Et={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},St=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Et.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Et.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Et.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Et.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Et.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Et.ngModelGroup)},t}(),Tt={provide:z,useExisting:Object(M._8)(function(){return Pt})},Pt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return R.a(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Ct||St.modelGroupParentException()},e}(pt);Pt.decorators=[{type:M.p,args:[{selector:"[ngModelGroup]",providers:[Tt],exportAs:"ngModelGroup"}]}],Pt.ctorParameters=function(){return[{type:z,decorators:[{type:M.t},{type:M.X}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]}]},Pt.propDecorators={name:[{type:M.A,args:["ngModelGroup"]}]};var Ot={provide:$,useExisting:Object(M._8)(function(){return At})},It=Promise.resolve(null),At=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._control=new vt,i._registered=!1,i.update=new M.s,i._parent=e,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=P(i,o),i}return R.a(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),S(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?g(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){v(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Pt)&&this._parent instanceof pt?St.formGroupNameException():this._parent instanceof Pt||this._parent instanceof Ct||St.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||St.missingNameException()},e.prototype._updateValue=function(t){var e=this;It.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;It.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}($);At.decorators=[{type:M.p,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Ot],exportAs:"ngModel"}]}],At.ctorParameters=function(){return[{type:z,decorators:[{type:M.K},{type:M.t}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[H]}]}]},At.propDecorators={name:[{type:M.A}],isDisabled:[{type:M.A,args:["disabled"]}],model:[{type:M.A,args:["ngModel"]}],options:[{type:M.A,args:["ngModelOptions"]}],update:[{type:M.L,args:["ngModelChange"]}]};var kt=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Et.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Et.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Et.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Et.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Et.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Et.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Dt={provide:$,useExisting:Object(M._8)(function(){return Rt})},Rt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.update=new M.s,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=P(o,r),o}return R.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){kt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(v(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),S(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}($);Rt.decorators=[{type:M.p,args:[{selector:"[formControl]",providers:[Dt],exportAs:"ngForm"}]}],Rt.ctorParameters=function(){return[{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[H]}]}]},Rt.propDecorators={form:[{type:M.A,args:["formControl"]}],model:[{type:M.A,args:["ngModel"]}],update:[{type:M.L,args:["ngModelChange"]}],isDisabled:[{type:M.A,args:["disabled"]}]};var Mt={provide:z,useExisting:Object(M._8)(function(){return Nt})},Nt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r._submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new M.s,r}return R.a(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return v(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){k(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);b(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);b(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(_(e._control,e),n&&v(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=C(this._validators);this.form.validator=W.compose([this.form.validator,t]);var e=E(this._asyncValidators);this.form.asyncValidator=W.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||kt.missingFormException()},e}(z);Nt.decorators=[{type:M.p,args:[{selector:"[formGroup]",providers:[Mt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Nt.ctorParameters=function(){return[{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]}]},Nt.propDecorators={form:[{type:M.A,args:["formGroup"]}],ngSubmit:[{type:M.L}]};var Lt={provide:z,useExisting:Object(M._8)(function(){return Ft})},Ft=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return R.a(e,t),e.prototype._checkParentType=function(){D(this._parent)&&kt.groupParentException()},e}(pt);Ft.decorators=[{type:M.p,args:[{selector:"[formGroupName]",providers:[Lt]}]}],Ft.ctorParameters=function(){return[{type:z,decorators:[{type:M.K},{type:M.t},{type:M.X}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]}]},Ft.propDecorators={name:[{type:M.A,args:["formGroupName"]}]};var Vt={provide:z,useExisting:Object(M._8)(function(){return jt})},jt=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return R.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return E(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){D(this._parent)&&kt.arrayParentException()},e}(z);jt.decorators=[{type:M.p,args:[{selector:"[formArrayName]",providers:[Vt]}]}],jt.ctorParameters=function(){return[{type:z,decorators:[{type:M.K},{type:M.t},{type:M.X}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]}]},jt.propDecorators={name:[{type:M.A,args:["formArrayName"]}]};var zt={provide:$,useExisting:Object(M._8)(function(){return Bt})},Bt=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._added=!1,i.update=new M.s,i._parent=e,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=P(i,o),i}return R.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){kt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),S(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return C(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Ft)&&this._parent instanceof pt?kt.ngModelGroupException():this._parent instanceof Ft||this._parent instanceof Nt||this._parent instanceof jt||kt.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}($);Bt.decorators=[{type:M.p,args:[{selector:"[formControlName]",providers:[zt]}]}],Bt.ctorParameters=function(){return[{type:z,decorators:[{type:M.K},{type:M.t},{type:M.X}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[B]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[U]}]},{type:Array,decorators:[{type:M.K},{type:M.W},{type:M.w,args:[H]}]}]},Bt.propDecorators={name:[{type:M.A,args:["formControlName"]}],model:[{type:M.A,args:["ngModel"]}],update:[{type:M.L,args:["ngModelChange"]}],isDisabled:[{type:M.A,args:["disabled"]}]};var Ut={provide:B,useExisting:Object(M._8)(function(){return Wt}),multi:!0},qt={provide:B,useExisting:Object(M._8)(function(){return Ht}),multi:!0},Wt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?W.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Wt.decorators=[{type:M.p,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Ut],host:{"[attr.required]":'required ? "" : null'}}]}],Wt.ctorParameters=function(){return[]},Wt.propDecorators={required:[{type:M.A}]};var Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.validate=function(t){return this.required?W.requiredTrue(t):null},e}(Wt);Ht.decorators=[{type:M.p,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[qt],host:{"[attr.required]":'required ? "" : null'}}]}],Ht.ctorParameters=function(){return[]};var Gt={provide:B,useExisting:Object(M._8)(function(){return Kt}),multi:!0},Kt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?W.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Kt.decorators=[{type:M.p,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[Gt]}]}],Kt.ctorParameters=function(){return[]},Kt.propDecorators={email:[{type:M.A}]};var Qt={provide:B,useExisting:Object(M._8)(function(){return Xt}),multi:!0},Xt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=W.minLength(parseInt(this.minlength,10))},t}();Xt.decorators=[{type:M.p,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[Qt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Xt.ctorParameters=function(){return[]},Xt.propDecorators={minlength:[{type:M.A}]};var Zt={provide:B,useExisting:Object(M._8)(function(){return Yt}),multi:!0},Yt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=W.maxLength(parseInt(this.maxlength,10))},t}();Yt.decorators=[{type:M.p,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Zt],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Yt.ctorParameters=function(){return[]},Yt.propDecorators={maxlength:[{type:M.A}]};var Jt={provide:B,useExisting:Object(M._8)(function(){return $t}),multi:!0},$t=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=W.pattern(this.pattern)},t}();$t.decorators=[{type:M.p,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Jt],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],$t.ctorParameters=function(){return[]},$t.propDecorators={pattern:[{type:M.A}]};var te=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null!=e?e.validator:null,o=null!=e?e.asyncValidator:null;return new _t(n,r,o)},t.prototype.control=function(t,e,n){return new vt(t,e,n)},t.prototype.array=function(t,e,n){var r=this,o=t.map(function(t){return r._createControl(t)});return new bt(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof vt||t instanceof _t||t instanceof bt)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t}();te.decorators=[{type:M.x}],te.ctorParameters=function(){return[]};var ee=(new M._2("4.4.4"),function(){function t(){}return t}());ee.decorators=[{type:M.p,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],ee.ctorParameters=function(){return[]};var ne=[ee,st,lt,Z,J,ot,K,at,ct,nt,mt,yt,Wt,Xt,Yt,$t,Ht,Kt],re=[At,Pt,Ct],oe=[Rt,Nt,Bt,Ft,jt],ie=function(){function t(){}return t}();ie.decorators=[{type:M.E,args:[{declarations:ne,exports:ne}]}],ie.ctorParameters=function(){return[]};var ae=function(){function t(){}return t}();ae.decorators=[{type:M.E,args:[{declarations:re,providers:[et],exports:[ie,re]}]}],ae.ctorParameters=function(){return[]};var se=function(){function t(){}return t}();se.decorators=[{type:M.E,args:[{declarations:[oe],providers:[te,et],exports:[ie,oe]}]}],se.ctorParameters=function(){return[]}},bpFg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSet=void 0;var r=n("wg5S"),o=n("3wYX"),i=n("rwiY"),a=n("V2Ax"),s=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||a.DocumentKey.comparator(e.key,n.key)}:function(t,e){return a.DocumentKey.comparator(t.key,e.key)},this.keyedMap=(0,i.documentMap)(),this.sortedSet=new o.SortedMap(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.prevDoc=function(t){(0,r.assert)(this.has(t),"Trying to get a previous document to non-existing key: "+t);var e=this.keyedMap.get(t);return this.sortedSet.getPredecessorKey(e)},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.equals(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();e.DocumentSet=s},c0Tg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/oeL"),o=n("wM1e"),i=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=o.i,this.selectEvent=new r.s,this.activeChangeEvent=new r.s}return t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}();i.decorators=[{type:r.l,args:[{selector:"ngb-typeahead-window",exportAs:"ngbTypeaheadWindow",host:{class:"dropdown-menu",style:"display: block",role:"listbox","[id]":"id"},template:'\n    <ng-template #rt let-result="result" let-term="term" let-formatter="formatter">\n      <ngb-highlight [result]="formatter(result)" [term]="term"></ngb-highlight>\n    </ng-template>\n    <ng-template ngFor [ngForOf]="results" let-result let-idx="index">\n      <button type="button" class="dropdown-item" role="option"\n        [id]="id + \'-\' + idx"\n        [class.active]="idx === activeIdx"\n        (mouseenter)="markActive(idx)"\n        (click)="select(result)">\n          <ng-template [ngTemplateOutlet]="resultTemplate || rt"\n          [ngTemplateOutletContext]="{result: result, term: term, formatter: formatter}"></ng-template>\n      </button>\n    </ng-template>\n  '}]}],i.ctorParameters=function(){return[]},i.propDecorators={id:[{type:r.A}],focusFirst:[{type:r.A}],results:[{type:r.A}],term:[{type:r.A}],formatter:[{type:r.A}],resultTemplate:[{type:r.A}],selectEvent:[{type:r.L,args:["select"]}],activeChangeEvent:[{type:r.L,args:["activeChange"]}]}},cPhF:function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("ktfo"),a=n("yW9Z");e.mergeMap=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var u=function(t){function e(e,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(i.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var o;try{o=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.OuterSubscriber);e.MergeMapSubscriber=u},d6PS:function(t,e,n){"use strict";function r(t){return new s.PersistencePromise(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleDbStore=e.SimpleDbTransaction=e.IterationController=e.SimpleDb=void 0;var o=n("wg5S"),i=n("0C8m"),a=n("U+HO"),s=n("G3bM"),u="SimpleDb",c=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return(0,o.assert)(t.isAvailable(),"IndexedDB not supported in current environment."),(0,i.debug)(u,"Opening database:",e),new s.PersistencePromise(function(o,a){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;o(new t(n))},s.onerror=function(t){a(t.target.error)},s.onupgradeneeded=function(t){(0,i.debug)(u,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r(n,t.oldVersion)}}).toPromise()},t.delete=function(t){return(0,i.debug)(u,"Removing database:",t),r(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=new h(this.db,t,e),o=n(r).catch(function(t){return r.abort(),s.PersistencePromise.reject(t)}).toPromise();return r.completionPromise.then(function(){return o})},t.prototype.close=function(){this.db.close()},t}();e.SimpleDb=c;var l=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return r(this.dbCursor.delete())},t}();e.IterationController=l;var h=function(){function t(t,e,n){var r=this;this.aborted=!1,this.transaction=t.transaction(n,e),this.completionPromise=new a.PromiseImpl(function(t,e){r.transaction.onabort=r.transaction.oncomplete=function(e){t()},r.transaction.onerror=function(t){e(t.target.error)}})}return t.prototype.abort=function(){this.aborted||((0,i.debug)(u,"Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return(0,o.assert)(!!e,"Object store not part of transaction: "+t),new p(e)},t}();e.SimpleDbTransaction=h;var p=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?((0,i.debug)(u,"PUT",this.store.name,t,e),n=this.store.put(e,t)):((0,i.debug)(u,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),r(n)},t.prototype.get=function(t){var e=this;return r(this.store.get(t)).next(function(n){return void 0===n&&(n=null),(0,i.debug)(u,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return(0,i.debug)(u,"DELETE",this.store.name,t),r(this.store.delete(t))},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){(0,i.debug)(u,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new s.PersistencePromise(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(!o)return void r();var i=new l(o),a=e(o.primaryKey,o.value,i);a instanceof s.PersistencePromise&&n.push(a),i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}}).next(function(){return s.PersistencePromise.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:((0,o.assert)(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();e.SimpleDbStore=p},d9fJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoDocument=e.Document=void 0;var r=n("wg5S"),o=n("V2Ax"),i=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.version.equals(e.version)&&this.data.equals(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return o.DocumentKey.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var o=e.field(t),i=n.field(t);return void 0!==o&&void 0!==i?o.compareTo(i):(0,r.fail)("Trying to compare documents on fields that don't exist")},t}();e.Document=i;var a=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.equals=function(t){return t&&t.version.equals(this.version)&&t.key.equals(this.key)},t.compareByKey=function(t,e){return o.DocumentKey.comparator(t.key,e.key)},t}();e.NoDocument=a},dN2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("/oeL"),o=n("KRwK"),i=function(){function t(t,e,n){this._moduleCFR=t,this._injector=e,this._modalStack=n}return t.prototype.open=function(t,e){return void 0===e&&(e={}),this._modalStack.open(this._moduleCFR,this._injector,t,e)},t}();i.decorators=[{type:r.x}],i.ctorParameters=function(){return[{type:r.m},{type:r.z},{type:o.a}]}},dOxD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VALUE_INDEX=e.ValueIndex=void 0;var r=n("egC3"),o=n("Rmqq"),i=n("sN0z"),a=n("vaJ0"),s=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?(0,i.nameCompare)(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return o.NamedNode.MIN},e.prototype.maxPost=function(){return o.NamedNode.MAX},e.prototype.makePost=function(t,e){var n=(0,a.nodeFromJSON)(t);return new o.NamedNode(e,n)},e.prototype.toString=function(){return".value"},e}(r.Index);e.ValueIndex=u;e.VALUE_INDEX=new u},dSvz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=(e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}),i=e.extend=function(t,e){return o(e,function(e,n){t[e]=n}),t},a=(e.clone=function(t){return i({},t)},e.isNonNullObject=function(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r});e.findValue=function(t,e,n){var r=a(t,e,n);return r&&t[r]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},dkwD:function(t,e,n){"use strict";var r=n("zijX"),o=r.root.Symbol;e.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},e419:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalViewChanges=void 0;var r=n("9BZZ"),o=n("rwiY"),i=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=(0,o.documentKeySet)(),i=(0,o.documentKeySet)(),a=0,s=e.docChanges;a<s.length;a++){var u=s[a];switch(u.type){case r.ChangeType.Added:n=n.add(u.doc.key);break;case r.ChangeType.Removed:i=i.add(u.doc.key)}}return new t(e.query,n,i)},t}();e.LocalViewChanges=i},eNRW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FirebaseIFrameScriptHolder=e.BrowserPollConnection=e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM=e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM=e.FIREBASE_LONGPOLL_DATA_PARAM=e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET=e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM=e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM=e.FIREBASE_LONGPOLL_SERIAL_PARAM=e.FIREBASE_LONGPOLL_PW_PARAM=e.FIREBASE_LONGPOLL_ID_PARAM=e.FIREBASE_LONGPOLL_DATA_CB_NAME=e.FIREBASE_LONGPOLL_COMMAND_CB_NAME=e.FIREBASE_LONGPOLL_CLOSE_COMMAND=e.FIREBASE_LONGPOLL_START_PARAM=void 0;var r=n("sN0z"),o=n("YCrt"),i=n("pfc+"),a=n("sD2c"),s=n("w/uE"),u=n("xrQA"),c=n("97M5"),l=e.FIREBASE_LONGPOLL_START_PARAM="start",h=e.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",p=e.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",f=e.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",d=e.FIREBASE_LONGPOLL_ID_PARAM="id",m=e.FIREBASE_LONGPOLL_PW_PARAM="pw",y=e.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",g=e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",v=e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",_=e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",b=e.FIREBASE_LONGPOLL_DATA_PARAM="d",w=e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",x=e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",C=function(){function t(t,e,n,o){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=(0,r.logWrapper)(t),this.stats_=i.StatsManager.getCollection(e),this.urlFn=function(t){return e.connectionURL(s.LONG_POLLING,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new a.PacketReceiver(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),(0,r.executeWhenDOMReady)(function(){if(!n.isClosed_){n.scriptTagHolder=new E(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1],i=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r==l)n.id=o,n.password=i;else{if(r!==h)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={};t[l]="t",t[y]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[g]=n.scriptTagHolder.uniqueCallbackIdentifier),t[s.VERSION_PARAM]=s.PROTOCOL_VERSION,n.transportSessionId&&(t[s.TRANSPORT_SESSION_PARAM]=n.transportSessionId),n.lastSessionId&&(t[s.LAST_SESSION_PARAM]=n.lastSessionId),!(0,c.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(t[s.REFERER_PARAM]=s.FORGE_REF);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!(0,r.isChromeExtensionContentScript)()&&!(0,r.isWindowsStoreApp)()&&!(0,c.isNodeSdk)()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,u.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,r.base64Encode)(e),o=(0,r.splitStringBySize)(n,1840),i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,c.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[x]="t",n[d]=t,n[m]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,u.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}();e.BrowserPollConnection=C;var E=function(){function t(e,n,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new o.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,c.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=(0,r.LUIDGenerator)(),window[p+this.uniqueCallbackIdentifier]=e,window[f+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){s='<script>document.domain="'+document.domain+'";<\/script>'}var u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(t){(0,r.log)("frame writing exception"),t.stack&&(0,r.log)(t.stack),(0,r.log)(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||(0,r.log)("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),(0,c.isNodeSdk)()&&this.myID){var n={};n[w]="t",n[d]=this.myID,n[m]=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[d]=this.myID,t[m]=this.myPW,t[y]=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var o=this.pendingSegs.shift();n=n+"&"+v+r+"="+o.seg+"&"+_+r+"="+o.ts+"&"+b+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3)),i=function(){clearTimeout(o),r()};this.addTag(t,i)},t.prototype.addTag=function(t,e){var n=this;(0,c.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var o=n.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){var t=o.readyState;t&&"loaded"!==t&&"complete"!==t||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=function(){(0,r.log)("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(o)}catch(t){}},Math.floor(1))},t}();e.FirebaseIFrameScriptHolder=E},ePfY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();e.CacheNode=r},ecij:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParams=void 0;var r=n("Iylt"),o=n("sN0z"),i=n("JvZA"),a=n("GIDU"),s=n("dOxD"),u=n("O07j"),c=n("NzIo"),l=n("+ZaL"),h=n("sUxk"),p=n("xrQA"),f=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return(0,r.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,r.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:o.MIN_NAME},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,r.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,r.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:o.MAX_NAME},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,r.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==a.PRIORITY_INDEX&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new c.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new h.RangedFilter(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var o;return this.index_===a.PRIORITY_INDEX?o=e.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?o=e.VALUE_INDEX:this.index_===i.KEY_INDEX?o=e.KEY_INDEX:((0,r.assert)(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),o=this.index_.toString()),n[e.ORDER_BY]=(0,p.stringify)(o),this.startSet_&&(n[e.START_AT]=(0,p.stringify)(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+(0,p.stringify)(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=(0,p.stringify)(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+(0,p.stringify)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}();e.QueryParams=f},egC3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Index=void 0;var r=n("Rmqq"),o=n("sN0z"),i=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new r.NamedNode(o.MIN_NAME,t),i=new r.NamedNode(o.MIN_NAME,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return r.NamedNode.MIN},t}();e.Index=i},eilU:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.ngDoBootstrap=function(){},t}()},ezsS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateObjectContainsKey=e.validateObject=e.validateString=e.validateBoolean=e.validateCredential=e.validateUrl=e.validateWritablePath=e.validateRootPathString=e.validatePathString=e.validateKey=e.validateEventType=e.validatePriority=e.validateFirebaseMergeDataArg=e.validateFirebaseMergePaths=e.validateFirebaseData=e.validateFirebaseDataArg=e.isValidPriority=e.isValidRootPathString=e.isValidPathString=e.isValidKey=e.MAX_LEAF_SIZE_=e.INVALID_PATH_REGEX_=e.INVALID_KEY_REGEX_=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("y6vc"),i=n("dSvz"),a=n("sN0z"),s=n("Yt+N"),u=n("3/38"),c=e.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,l=e.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,h=e.MAX_LEAF_SIZE_=10485760,p=e.isValidKey=function(t){return"string"==typeof t&&0!==t.length&&!c.test(t)},f=e.isValidPathString=function(t){return"string"==typeof t&&0!==t.length&&!l.test(t)},d=e.isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),f(t)},m=e.isValidPriority=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!(0,a.isInvalidJSONNumber)(t)||t&&"object"===(void 0===t?"undefined":r(t))&&(0,i.contains)(t,".sv")},y=(e.validateFirebaseDataArg=function(t,e,n,r,o){o&&void 0===n||y((0,s.errorPrefix)(t,e,o),n,r)},e.validateFirebaseData=function t(e,n,s){var c=s instanceof o.Path?new o.ValidationPath(s,e):s;if(void 0===n)throw new Error(e+"contains undefined "+c.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+c.toErrorString()+" with contents = "+n.toString());if((0,a.isInvalidJSONNumber)(n))throw new Error(e+"contains "+n.toString()+" "+c.toErrorString());if("string"==typeof n&&n.length>h/3&&(0,u.stringLength)(n)>h)throw new Error(e+"contains a string greater than "+h+" utf8 bytes "+c.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===(void 0===n?"undefined":r(n))){var l=!1,f=!1;if((0,i.forEach)(n,function(n,r){if(".value"===n)l=!0;else if(".priority"!==n&&".sv"!==n&&(f=!0,!p(n)))throw new Error(e+" contains an invalid key ("+n+") "+c.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(n),t(e,r,c),c.pop()}),l&&f)throw new Error(e+' contains ".value" child '+c.toErrorString()+" in addition to actual children.")}}),g=e.validateFirebaseMergePaths=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!p(i[a]))throw new Error(t+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(o.Path.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},v=(e.validateFirebaseMergeDataArg=function(t,e,n,a,u){if(!u||void 0!==n){var c=(0,s.errorPrefix)(t,e,u);if(!n||"object"!==(void 0===n?"undefined":r(n))||Array.isArray(n))throw new Error(c+" must be an object containing the children to replace.");var l=[];(0,i.forEach)(n,function(t,e){var n=new o.Path(t);if(y(c,e,a.child(n)),".priority"===n.getBack()&&!m(e))throw new Error(c+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)}),g(c,l)}},e.validatePriority=function(t,e,n,r){if(!r||void 0!==n){if((0,a.isInvalidJSONNumber)(n))throw new Error((0,s.errorPrefix)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!m(n))throw new Error((0,s.errorPrefix)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},e.validateEventType=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,s.errorPrefix)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.validateKey=function(t,e,n,r){if(!(r&&void 0===n||p(n)))throw new Error((0,s.errorPrefix)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},e.validatePathString=function(t,e,n,r){if(!(r&&void 0===n||f(n)))throw new Error((0,s.errorPrefix)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')});e.validateRootPathString=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),v(t,e,n,r)},e.validateWritablePath=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},e.validateUrl=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!p(n.repoInfo.namespace)||0!==r.length&&!d(r))throw new Error((0,s.errorPrefix)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},e.validateCredential=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error((0,s.errorPrefix)(t,e,r)+"must be a valid credential (a string).")},e.validateBoolean=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,s.errorPrefix)(t,e,r)+"must be a boolean.")},e.validateString=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error((0,s.errorPrefix)(t,e,r)+"must be a valid string.")},e.validateObject=function(t,e,n,o){if(!(o&&void 0===n||n&&"object"===(void 0===n?"undefined":r(n))&&null!==n))throw new Error((0,s.errorPrefix)(t,e,o)+"must be a valid object.")},e.validateObjectContainsKey=function(t,e,n,o,a,u){if(!n||"object"!==(void 0===n?"undefined":r(n))||!(0,i.contains)(n,o)){if(a)return;throw new Error((0,s.errorPrefix)(t,e,a)+'must contain the key "'+o+'"')}if(u){var c=(0,i.safeGet)(n,o);if("number"===u&&"number"!=typeof c||"string"===u&&"string"!=typeof c||"boolean"===u&&"boolean"!=typeof c||"function"===u&&"function"!=typeof c||"object"===u&&"object"!==(void 0===c?"undefined":r(c))&&c)throw a?new Error((0,s.errorPrefix)(t,e,a)+'contains invalid value for key "'+o+'" (must be of type "'+u+'")'):new Error((0,s.errorPrefix)(t,e,a)+'must contain the key "'+o+'" with type "'+u+'"')}}},"f+LA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsReporter=void 0;var r=n("dSvz"),o=n("sN0z"),i=n("J47i"),a=1e4,s=3e4,u=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new i.StatsListener(t);var n=a+(s-a)*Math.random();(0,o.setTimeoutNonBlocking)(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;(0,r.forEach)(e,function(e,o){o>0&&(0,r.contains)(t.statsToReport_,e)&&(n[e]=o,i=!0)}),i&&this.server_.reportStats(n),(0,o.setTimeoutNonBlocking)(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();e.StatsReporter=u},f1rf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.interval=5e3,this.wrap=!0,this.keyboard=!0}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},fIhJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteDocumentChangeBuffer=void 0;var r=n("rwiY"),o=n("wg5S"),i=n("G3bM"),a=function(){function t(t){this.remoteDocumentCache=t,this.changes=(0,r.maybeDocumentMap)()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges(),r=n.get(e);return r?i.PersistencePromise.resolve(r):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=this.assertChanges(),r=[];return n.forEach(function(n,o){r.push(e.remoteDocumentCache.addEntry(t,o))}),this.changes=null,i.PersistencePromise.waitFor(r)},t.prototype.assertChanges=function(){return(0,o.assert)(null!==this.changes,"Changes have already been applied."),this.changes},t}();e.RemoteDocumentChangeBuffer=a},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"fc+i":function(t,e,n){"use strict";function r(){return L}function o(t){L||(L=t)}function i(){return W||(W=document.querySelector("base"))?W.getAttribute("href"):null}function a(t){return U||(U=document.createElement("a")),U.setAttribute("href",t),"/"===U.pathname.charAt(0)?U.pathname:"/"+U.pathname}function s(){return!!window.history.pushState}function u(t,e,n){return function(){n.get(N.e).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function c(t,e){J||(N._23.ng=J=N._23.ng||{}),J[t]=e}function l(t){return Object(N._9)(t)}function h(t,e){var n=(t||[]).concat(e||[]);return c(tt,l),c(et,Object.assign({},$,p(n||[]))),function(){return l}}function p(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function f(t){return pt.replace(lt,t)}function d(t){return ht.replace(lt,t)}function m(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?m(t,o,n):(o=o.replace(lt,t),n.push(o))}return n}function y(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function g(t,e){if(t.charCodeAt(0)===mt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function v(t){return t=String(t),t.match(Tt)||t.match(Pt)?t:(Object(N._10)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function _(t){return t=String(t),t.split(",").map(function(t){return v(t.trim())}).join(", ")}function b(){if(Ot)return Ot;It=r();var t=It.createElement("template");if("content"in t)return t;var e=It.createHtmlDocument();if(null==(Ot=It.querySelector(e,"body"))){var n=It.createElement("html",e);Ot=It.createElement("body",e),It.appendChild(n,Ot),It.appendChild(e,n)}return Ot}function w(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];for(var a in i)i.hasOwnProperty(a)&&(n[a]=!0)}return n}function C(t,e){if(e&&It.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+It.getOuterHTML(t));return e}function E(t){return t.replace(/&/g,"&amp;").replace(Ut,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(qt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S(t){It.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||It.removeAttribute(t,n)});for(var e=0,n=It.childNodesAsList(t);e<n.length;e++){var r=n[e];It.isElementNode(r)&&S(r)}}function T(t,e){try{var n=b(),r=e?String(e):"",o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,It.setInnerHTML(n,r),t.documentMode&&S(n),i=It.getInnerHTML(n)}while(r!==i);for(var a=new Bt,s=a.sanitizeChildren(It.getTemplateContent(n)||n),u=It.getTemplateContent(n)||n,c=0,l=It.childNodesAsList(u);c<l.length;c++){var h=l[c];It.removeChild(u,h)}return Object(N._10)()&&a.sanitizedSomething&&It.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}catch(t){throw Ot=null,t}}function P(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}function O(t){if(!(t=String(t).trim()))return"";var e=t.match(Ht);return e&&v(e[1])===e[1]||t.match(Wt)&&P(t)?t:(Object(N._10)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function I(){q.makeCurrent(),Z.init()}function A(){return new N.r}function k(){return document}n.d(e,"a",function(){return re}),n.d(e,"j",function(){return ne}),n.d(e,"g",function(){return K}),n.d(e,"i",function(){return Y}),n.d(e,"h",function(){return nt}),n.d(e,"c",function(){return ot}),n.d(e,"d",function(){return it}),n.d(e,"e",function(){return bt}),n.d(e,"f",function(){return wt}),n.d(e,"b",function(){return Gt}),n.d(e,"t",function(){return r}),n.d(e,"l",function(){return ft}),n.d(e,"k",function(){return vt}),n.d(e,"n",function(){return xt}),n.d(e,"o",function(){return St}),n.d(e,"m",function(){return ut}),n.d(e,"p",function(){return st}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return h}),n.d(e,"s",function(){return Kt});var D,R=n("6Xbx"),M=n("qbdv"),N=n("/oeL"),L=null,F=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),V=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return R.a(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(F),j={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};N._23.Node&&(D=N._23.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var U,q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){o(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return j},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return D.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n[r];e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&B.hasOwnProperty(e)&&(e=B[e]))}return z[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=i();return null==e?null:a(e)},e.prototype.resetBaseElement=function(){W=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(M.r)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(V),W=null,H=M.d,G=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return R.a(e,t),e.prototype._init=function(){this._location=r().getLocation(),this._history=r().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){s()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){s()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(M.p);G.decorators=[{type:N.x}],G.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var K=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var o=this._dom.createElement("meta");this._setMetaElementAttributes(t,o);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,o),o},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}();K.decorators=[{type:N.x}],K.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var Q=new N.y("TRANSITION_ID"),X=[{provide:N.d,useFactory:u,deps:[Q,H,N.z],multi:!0}],Z=function(){function t(){}return t.init=function(){Object(N._12)(new t)},t.prototype.addToWindow=function(t){N._23.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},N._23.getAllAngularTestabilities=function(){return t.getAllTestabilities()},N._23.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=N._23.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})};N._23.frameworkStabilizers||(N._23.frameworkStabilizers=[]),N._23.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var o=t.getTestability(e);return null!=o?o:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),Y=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}();Y.decorators=[{type:N.x}],Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var J,$={ApplicationRef:N.g,NgZone:N.J},tt="probe",et="coreTokens",nt=function(){function t(t,e){this.name=t,this.token=e}return t}(),rt=[{provide:N.d,useFactory:h,deps:[[nt,new N.K],[N.I,new N.K]],multi:!0}],ot=new N.y("EventManagerPlugins"),it=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}();it.decorators=[{type:N.x}],it.ctorParameters=function(){return[{type:Array,decorators:[{type:N.w,args:[ot]}]},{type:N.J}]};var at=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var o=r().getGlobalEventTarget(this._doc,t);if(!o)throw new Error("Unsupported event target "+o+" for event "+e);return this.addEventListener(o,e,n)},t}(),st=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();st.decorators=[{type:N.x}],st.ctorParameters=function(){return[]};var ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return R.a(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(st);ut.decorators=[{type:N.x}],ut.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g,ht="_nghost-%COMP%",pt="_ngcontent-%COMP%",ft=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case N._4.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case N._4.Native:return new gt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=m(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();ft.decorators=[{type:N.x}],ft.ctorParameters=function(){return[{type:it},{type:ut}]};var dt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ct[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=ct[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&N.T.DashCase?t.style.setProperty(e,n,r&N.T.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&N.T.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){g(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return g(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,y(n)):this.eventManager.addEventListener(t,e,y(n))},t}(),mt="@".charCodeAt(0),yt=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=m(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=f(r.id),o.hostAttr=d(r.id),o}return R.a(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(dt),gt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var a=m(o.id,o.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],i.shadowRoot.appendChild(u)}return i}return R.a(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(dt),vt=function(t){function e(e){return t.call(this,e)||this}return R.a(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(at);vt.decorators=[{type:N.x}],vt.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var _t={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},bt=new N.y("HammerGestureConfig"),wt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();wt.decorators=[{type:N.x}],wt.ctorParameters=function(){return[]};var xt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return R.a(e,t),e.prototype.supports=function(t){if(!_t.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();return e=e.toLowerCase(),o.runOutsideAngular(function(){var i=r._config.buildHammer(t),a=function(t){o.runGuarded(function(){n(t)})};return i.on(e,a),function(){return i.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(at);xt.decorators=[{type:N.x}],xt.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]},{type:wt,decorators:[{type:N.w,args:[bt]}]}]};var Ct=["alt","control","meta","shift"],Et={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},St=function(t){function e(e){return t.call(this,e)||this}return R.a(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,o){var i=e.parseEventName(n),a=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,i.domEventName,a)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=e._normalizeKey(n.pop()),i="";if(Ct.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ct.forEach(function(r){if(r!=n){(0,Et[r])(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(o){e.getEventFullKey(o)===t&&r.runGuarded(function(){return n(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(at);St.decorators=[{type:N.x}],St.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var Tt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Pt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Ot=null,It=null,At=w("area,br,col,hr,img,wbr"),kt=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dt=w("rp,rt"),Rt=x(Dt,kt),Mt=x(kt,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nt=x(Dt,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lt=x(At,Mt,Nt,Rt),Ft=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vt=w("srcset"),jt=w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zt=x(Ft,Vt,jt),Bt=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(It.isElementNode(e)?this.startElement(e):It.isTextNode(e)?this.chars(It.nodeValue(e)):this.sanitizedSomething=!0,It.firstChild(e))e=It.firstChild(e);else for(;e;){It.isElementNode(e)&&this.endElement(e);var n=C(e,It.nextSibling(e));if(n){e=n;break}e=C(e,It.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=It.nodeName(t).toLowerCase();if(!Lt.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),It.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();if(!zt.hasOwnProperty(r))return void(e.sanitizedSomething=!0);Ft[r]&&(t=v(t)),Vt[r]&&(t=_(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(E(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var e=It.nodeName(t).toLowerCase();Lt.hasOwnProperty(e)&&!At.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(E(t))},t}(),Ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qt=/([^\#-~ |!])/g,Wt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ht=/^url\(([^)]+)\)$/,Gt=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Kt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return R.a(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case N.V.NONE:return e;case N.V.HTML:return e instanceof Xt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),T(this._doc,String(e)));case N.V.STYLE:return e instanceof Zt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),O(e));case N.V.SCRIPT:if(e instanceof Yt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case N.V.URL:return e instanceof $t||e instanceof Jt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),v(String(e)));case N.V.RESOURCE_URL:if(e instanceof $t)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Qt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Xt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Zt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Yt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Jt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new $t(t)},e}(Gt);Kt.decorators=[{type:N.x}],Kt.ctorParameters=function(){return[{type:void 0,decorators:[{type:N.w,args:[H]}]}]};var Qt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Qt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Qt),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Qt),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Qt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R.a(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Qt),te=[{provide:N.M,useValue:M.q},{provide:N.N,useValue:I,multi:!0},{provide:M.p,useClass:G},{provide:H,useFactory:k,deps:[]}],ee=[{provide:N.U,useExisting:Gt},{provide:Gt,useClass:Kt}],ne=Object(N._6)(N._11,"browser",te),re=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:N.c,useValue:e.appId},{provide:Q,useExisting:N.c},X]}},t}();re.decorators=[{type:N.E,args:[{providers:[ee,{provide:N.r,useFactory:A,deps:[]},{provide:ot,useClass:vt,multi:!0},{provide:ot,useClass:St,multi:!0},{provide:ot,useClass:xt,multi:!0},{provide:bt,useClass:wt},ft,{provide:N.S,useExisting:ft},{provide:st,useExisting:ut},ut,N._1,it,rt,K,Y],exports:[M.c,N.f]}]}],re.ctorParameters=function(){return[{type:re,decorators:[{type:N.K},{type:N.X}]}]};var oe="undefined"!=typeof window&&window||{},ie=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}();(function(){function t(t){this.appRef=t.injector.get(N.g)}t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=oe.console.profile;e&&n&&oe.console.profile("Change Detection");for(var o=r().performanceNow(),i=0;i<5||r().performanceNow()-o<500;)this.appRef.tick(),i++;var a=r().performanceNow();e&&n&&oe.console.profileEnd("Change Detection");var s=(a-o)/i;return oe.console.log("ran "+i+" change detection cycles"),oe.console.log(s.toFixed(2)+" ms per check"),new ie(s,i)}})(),function(){function t(){}t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}}}(),new N._2("4.4.4")},fclq:function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},fcnB:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(o.Observable);e.EmptyObservable=i},fw9s:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryData=e.QueryPurpose=void 0;var r=n("pZ/q"),o=n("v3x7"),i=e.QueryPurpose=void 0;!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(i||(e.QueryPurpose=i={}));var a=function(){function t(t,e,n,i,a){void 0===i&&(i=r.SnapshotVersion.MIN),void 0===a&&(a=(0,o.emptyByteString)()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=i,this.resumeToken=a}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.equals=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.equals(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.equals(t.query)},t}();e.QueryData=a},fwA0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Reference=void 0;var r=n("6tYO"),o=n("veZy"),i=n("sN0z"),a=n("0b9w"),s=n("5aJC"),u=n("DuAm"),c=n("y6vc"),l=n("ecij"),h=n("ezsS"),p=n("Yt+N"),f=n("U+HO"),d=n("Hjju"),m=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e,n){if(!(e instanceof u.Repo))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,l.QueryParams.DEFAULT,!1)||this}return m(e,t),e.prototype.getKey=function(){return(0,p.validateArgCount)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return(0,p.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof c.Path||(null===this.path.getFront()?(0,h.validateRootPathString)("Reference.child",1,t,!1):(0,h.validatePathString)("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){(0,p.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){(0,p.validateArgCount)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){(0,p.validateArgCount)("Reference.set",1,2,arguments.length),(0,h.validateWritablePath)("Reference.set",this.path),(0,h.validateFirebaseDataArg)("Reference.set",1,t,this.path,!1),(0,p.validateCallback)("Reference.set",2,e,!0);var n=new f.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if((0,p.validateArgCount)("Reference.update",1,2,arguments.length),(0,h.validateWritablePath)("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,(0,i.warn)("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,h.validateFirebaseMergeDataArg)("Reference.update",1,t,this.path,!1),(0,p.validateCallback)("Reference.update",2,e,!0);var o=new f.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if((0,p.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,h.validateWritablePath)("Reference.setWithPriority",this.path),(0,h.validateFirebaseDataArg)("Reference.setWithPriority",1,t,this.path,!1),(0,h.validatePriority)("Reference.setWithPriority",2,e,!1),(0,p.validateCallback)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new f.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return(0,p.validateArgCount)("Reference.remove",0,1,arguments.length),(0,h.validateWritablePath)("Reference.remove",this.path),(0,p.validateCallback)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if((0,p.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,h.validateWritablePath)("Reference.transaction",this.path),(0,p.validateCallback)("Reference.transaction",1,t,!1),(0,p.validateCallback)("Reference.transaction",2,e,!0),(0,h.validateBoolean)("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new f.Deferred;"function"==typeof e&&(0,f.attachDummyErrorHandler)(r.promise);var i=function(t,n,i){t?r.reject(t):r.resolve(new o.TransactionResult(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){(0,p.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,h.validateWritablePath)("Reference.setPriority",this.path),(0,h.validatePriority)("Reference.setPriority",1,t,!1),(0,p.validateCallback)("Reference.setPriority",2,e,!0);var n=new f.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){(0,p.validateArgCount)("Reference.push",0,2,arguments.length),(0,h.validateWritablePath)("Reference.push",this.path),(0,h.validateFirebaseDataArg)("Reference.push",1,t,this.path,!0),(0,p.validateCallback)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=(0,a.nextPushId)(r),i=this.child(o),s=this.child(o);return n=null!=t?i.set(t,e).then(function(){return s}):f.PromiseImpl.resolve(s),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&(0,f.attachDummyErrorHandler)(n),i},e.prototype.onDisconnect=function(){return(0,h.validateWritablePath)("Reference.onDisconnect",this.path),new r.OnDisconnect(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(s.Query);e.Reference=y,s.Query.__referenceConstructor=y,d.SyncPoint.__referenceConstructor=y},g0Kb:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("xFbG"),i=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(o.Subscription);e.SubjectSubscription=i},g1OY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnlineMonitor=void 0;var r=n("Iylt"),o=n("/ug4"),i=n("97M5"),a=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,i.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return a(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,r.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(o.EventEmitter);e.OnlineMonitor=s},g5gQ:function(t,e,n){"use strict";var r=n("/oeL"),o=n("Qyse"),i=n("75Hr"),a=function(){function t(t,e,n){this.dropdown=t,this._elementRef=e,this._renderer=n,this.placement="bottom",this.isOpen=!1}return t.prototype.isEventFrom=function(t){return this._elementRef.nativeElement.contains(t.target)},t.prototype.position=function(t,e){this.applyPlacement(Object(i.a)(t,this._elementRef.nativeElement,e))},t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._elementRef.nativeElement.parentElement,"dropup"),this.placement=t,-1!==t.search("^top")&&this._renderer.addClass(this._elementRef.nativeElement.parentElement,"dropup")},t}();a.decorators=[{type:r.p,args:[{selector:"[ngbDropdownMenu]",host:{"[class.dropdown-menu]":"true","[class.show]":"dropdown.isOpen()"}}]}],a.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.w,args:[Object(r._8)(function(){return u})]}]},{type:r.q},{type:r.R}]};var s=function(){function t(t,e){this.dropdown=t,this._elementRef=e,this.anchorEl=e.nativeElement}return t.prototype.toggleOpen=function(){this.dropdown.toggle()},t.prototype.isEventFrom=function(t){return this._elementRef.nativeElement.contains(t.target)},t}();s.decorators=[{type:r.p,args:[{selector:"[ngbDropdownToggle]",host:{class:"dropdown-toggle","aria-haspopup":"true","[attr.aria-expanded]":"dropdown.isOpen()","(click)":"toggleOpen()"}}]}],s.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.w,args:[Object(r._8)(function(){return u})]}]},{type:r.q}]};var u=function(){function t(t,e){var n=this;this._open=!1,this.openChange=new r.s,this.placement=t.placement,this.autoClose=t.autoClose,this._zoneSubscription=e.onStable.subscribe(function(){n._positionMenu()})}return t.prototype.ngOnInit=function(){this._menu&&this._menu.applyPlacement(Array.isArray(this.placement)?this.placement[0]:this.placement)},t.prototype.isOpen=function(){return this._open},t.prototype.open=function(){this._open||(this._open=!0,this._positionMenu(),this.openChange.emit(!0))},t.prototype.close=function(){this._open&&(this._open=!1,this.openChange.emit(!1))},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.closeFromClick=function(t){this.autoClose&&2!==t.button&&!this._isEventFromToggle(t)&&(!0===this.autoClose?this.close():"inside"===this.autoClose&&this._isEventFromMenu(t)?this.close():"outside"!==this.autoClose||this._isEventFromMenu(t)||this.close())},t.prototype.closeFromOutsideEsc=function(){this.autoClose&&this.close()},t.prototype.ngOnDestroy=function(){this._zoneSubscription.unsubscribe()},t.prototype._isEventFromToggle=function(t){return!!this._toggle&&this._toggle.isEventFrom(t)},t.prototype._isEventFromMenu=function(t){return!!this._menu&&this._menu.isEventFrom(t)},t.prototype._positionMenu=function(){this.isOpen()&&this._menu&&this._toggle&&this._menu.position(this._toggle.anchorEl,this.placement)},t}();u.decorators=[{type:r.p,args:[{selector:"[ngbDropdown]",exportAs:"ngbDropdown",host:{"[class.show]":"isOpen()","(keyup.esc)":"closeFromOutsideEsc()","(document:click)":"closeFromClick($event)"}}]}],u.ctorParameters=function(){return[{type:o.a},{type:r.J}]},u.propDecorators={_menu:[{type:r.n,args:[a]}],_toggle:[{type:r.n,args:[s]}],autoClose:[{type:r.A}],_open:[{type:r.A,args:["open"]}],placement:[{type:r.A}],openChange:[{type:r.L}]},n.d(e,"a",function(){return l}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return o.a});var c=[u,s,a],l=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[o.a]}},t}();l.decorators=[{type:r.E,args:[{declarations:c,exports:c}]}],l.ctorParameters=function(){return[]}},gCpu:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteStore=void 0;var o=n("pZ/q"),i=n("w10r"),a=n("CCKO"),s=n("fw9s"),u=n("d9fJ"),c=n("V2Ax"),l=n("RFuG"),h=n("v3x7"),p=n("wg5S"),f=n("3vSt"),d=n("0C8m"),m=r(d),y=n("ILqR"),g=r(y),v=n("U+HO"),_=n("AMBp"),b=n("pf8o"),w=n("MTYO"),x=function(){function t(t,e,n,r,o){this.databaseInfo=t,this.asyncQueue=e,this.localStore=n,this.datastore=r,this.onlineStateHandler=o,this.pendingWrites=[],this.lastBatchSeen=l.BATCHID_UNKNOWN,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStreamOnlineState=a.OnlineState.Unknown,this.watchStreamFailures=0}return t.prototype.start=function(){var t=this;return this.setupStreams().then(function(){return t.fillWritePipeline()})},t.prototype.setOnlineStateToHealthy=function(){this.updateAndBroadcastOnlineState(a.OnlineState.Healthy)},t.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(a.OnlineState.Unknown)},t.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===a.OnlineState.Healthy?this.setOnlineStateToUnknown():++this.watchStreamFailures>=2&&this.updateAndBroadcastOnlineState(a.OnlineState.Failed)},t.prototype.updateAndBroadcastOnlineState=function(t){var e=this.watchStreamOnlineState!==t;this.watchStreamOnlineState=t,e&&this.onlineStateHandler(t)},t.prototype.setupStreams=function(){var t=this;return this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)}),this.localStore.getLastStreamToken().then(function(e){t.writeStream.lastStreamToken=e})},t.prototype.shutdown=function(){return m.debug("RemoteStore","RemoteStore shutting down."),this.cleanupWatchStreamState(),this.writeStream.stop(),this.watchStream.stop(),v.PromiseImpl.resolve(void 0)},t.prototype.listen=function(t){(0,p.assert)(!g.contains(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.watchStream.isOpen()?this.sendWatchRequest(t):this.watchStream.isStarted()||this.startWatchStream()},t.prototype.unlisten=function(t){(0,p.assert)(g.contains(this.listenTargets,t),"unlisten called without assigned target ID!");this.listenTargets[t];delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t)},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){(0,p.assert)(!this.watchStream.isStarted(),"Can't restart started watch stream"),(0,p.assert)(this.shouldStartWatchStream(),"Tried to start watch stream even though it should not be started"),this.watchStream.start()},t.prototype.shouldStartWatchStream=function(){return!g.isEmpty(this.listenTargets)},t.prototype.cleanupWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){var t=this;return g.forEachNumber(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),v.PromiseImpl.resolve()},t.prototype.onWatchStreamClose=function(t){return this.cleanupWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),v.PromiseImpl.resolve()},t.prototype.onWatchStreamChange=function(t,e){if(this.setOnlineStateToHealthy(),t instanceof w.WatchTargetChange&&t.state===w.WatchTargetChangeState.Removed&&t.cause)return this.handleTargetError(t);if(this.accumulatedWatchChanges.push(t),!e.equals(o.SnapshotVersion.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(e,n)}return v.PromiseImpl.resolve()},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new w.WatchChangeAggregator(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var o=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var i=[];return g.forEachNumber(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var l=a.query;if(l.isDocumentQuery())if(0===r.count){var h=new c.DocumentKey(l.path),f=new u.NoDocument(h,t);o.addDocumentUpdate(f)}else(0,p.assert)(1===r.count,"Single document existence filter with count: "+r.count);else{var d=n.localStore.remoteDocumentKeys(e).then(function(t){if(o.targetChanges[e]){var i=o.targetChanges[e].mapping;null!==i&&(i instanceof _.UpdateMapping?t=i.applyToKeySet(t):((0,p.assert)(i instanceof _.ResetMapping,"Expected either reset or update mapping but got something else: "+i),t=i.documents))}if(t.size!==r.count){o.handleExistenceFilterMismatch(e);var u=new s.QueryData(l,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var c=new s.QueryData(l,e,s.QueryPurpose.ExistenceFilterMismatch);n.sendWatchRequest(c)}});i.push(d)}}}),v.PromiseImpl.all(i).then(function(){return g.forEachNumber(o.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(o)})},t.prototype.handleTargetError=function(t){var e=this;(0,p.assert)(!!t.cause,"Handling target error without a cause");var n=t.cause,r=v.PromiseImpl.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return g.contains(e.listenTargets,t)?(delete e.listenTargets[t],e.syncEngine.rejectListen(t,n)):v.PromiseImpl.resolve()})}),r},t.prototype.fillWritePipeline=function(){var t=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null===e?v.PromiseImpl.resolve():(t.commit(e),t.fillWritePipeline())}):v.PromiseImpl.resolve()},t.prototype.canWriteMutations=function(){return this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){(0,p.assert)(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.writeStream.isStarted()?this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations):this.startWriteStream()},t.prototype.startWriteStream=function(){(0,p.assert)(!this.writeStream.isStarted(),"Can't restart started write stream"),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),v.PromiseImpl.resolve()},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})},t.prototype.onMutationResult=function(t,e){var n=this;(0,p.assert)(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),o=l.MutationBatchResult.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){var e=this;if(this.pendingWrites.length>0){(0,p.assert)(!!t,"We have pending writes, but the write stream closed without an error");var n=void 0;return n=this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t),n.then(function(){e.pendingWrites.length>0&&!e.writeStream.isStarted()&&e.startWriteStream()})}return v.PromiseImpl.resolve()},t.prototype.handleHandshakeError=function(t){return(0,b.isPermanentError)(t.code)||t.code===f.Code.ABORTED?(m.debug("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=(0,h.emptyByteString)(),this.localStore.setLastStreamToken((0,h.emptyByteString)())):v.PromiseImpl.resolve()},t.prototype.handleWriteError=function(t){var e=this;if((0,b.isPermanentError)(t.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,t).then(function(){return e.fillWritePipeline()})}return v.PromiseImpl.resolve()},t.prototype.createTransaction=function(){return new i.Transaction(this.datastore)},t.prototype.handleUserChange=function(t){var e=this;return m.debug("RemoteStore","RemoteStore changing users: uid=",t.uid),this.lastBatchSeen=l.BATCHID_UNKNOWN,this.pendingWrites=[],this.watchStream.stop(),this.writeStream.stop(),this.cleanupWatchStreamState(),this.setupStreams().then(function(){return e.shouldStartWatchStream()&&e.startWatchStream(),e.fillWritePipeline()}).then(function(){e.setOnlineStateToUnknown()})},t}();e.RemoteStore=x},gbhw:function(t,e,n){"use strict";var r=n("bKpL"),o=n("422b");r.Observable.prototype.filter=o.filter},ggxt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interceptServerData=e.dataUpdateCount=e.statsIncrementCounter=e.stats=e.setSecurityDebugCallback=e.isWebSocketsAvailable=e.forceWebSockets=e.forceLongPolling=void 0;var r=n("SqTE"),o=n("eNRW");e.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),o.BrowserPollConnection.forceAllow()},e.forceWebSockets=function(){o.BrowserPollConnection.forceDisallow()},e.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},e.setSecurityDebugCallback=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},e.stats=function(t,e){t.repo.stats(e)},e.statsIncrementCounter=function(t,e){t.repo.statsIncrementCounter(e)},e.dataUpdateCount=function(t){return t.repo.dataUpdateCount},e.interceptServerData=function(t,e){return t.repo.interceptServerData_(e)}},gonN:function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new i(n,e));var r=Object.create(this,o.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var o=n("xKl2");e.multicast=r;var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();e.MulticastOperator=i},gvep:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("Lhvy"),a=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.Subject);e.BehaviorSubject=a},"hu/W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LeafNode=void 0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n("Iylt"),a=n("sN0z"),s=n("R8Xc"),u=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,i.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),(0,s.validatePriorityNode)(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,i.assert)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+(0,s.priorityHashText)(this.priorityNode_.val())+":");var e=o(this.value_);t+=e+":",t+="number"===e?(0,a.doubleToIEEE754String)(this.value_):this.value_,this.lazyHash_=(0,a.sha1)(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=o(e.value_),r=o(this.value_),a=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,i.assert)(a>=0,"Unknown leaf type: "+n),(0,i.assert)(s>=0,"Unknown leaf type: "+r),a===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-a},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();e.LeafNode=u},ieSv:function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function o(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayValue=e.ObjectValue=e.GeoPointValue=e.RefValue=e.BlobValue=e.ServerTimestampValue=e.TimestampValue=e.StringValue=e.DoubleValue=e.IntegerValue=e.NumberValue=e.BooleanValue=e.NullValue=e.FieldValue=e.TypeOrder=void 0;var i=n("wg5S"),a=n("D1Ck"),s=n("3wYX"),u=n("V2Ax"),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=e.TypeOrder=void 0;!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(l||(e.TypeOrder=l={}));var h=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return(0,i.assert)(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),(0,a.primitiveComparator)(this.typeOrder,t.typeOrder)},t}();e.FieldValue=h;var p=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=l.NullValue,e.internalValue=null,e}return c(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(h);e.NullValue=p;var f=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.BooleanValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(0,a.primitiveComparator)(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(h);e.BooleanValue=f;var d=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.NumberValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?r(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(h);e.NumberValue=d;var m=function(t){function e(e){return t.call(this,e)||this}return c(e,t),e.prototype.equals=function(t){return t instanceof e&&o(this.internalValue,t.internalValue)},e}(d);e.IntegerValue=m;var y=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return c(e,t),e.prototype.equals=function(t){return t instanceof e&&o(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(d);e.DoubleValue=y;var g=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.StringValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(0,a.primitiveComparator)(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(h);e.StringValue=g;var v=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.TimestampValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue.toDate()},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof _?-1:this.defaultCompareTo(t)},e}(h);e.TimestampValue=v;var _=function(t){function e(e){var n=t.call(this)||this;return n.localWriteTime=e,n.typeOrder=l.TimestampValue,n}return c(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e&&this.localWriteTime.equals(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof v?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(h);e.ServerTimestampValue=_;var b=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.BlobValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(h);e.BlobValue=b;var w=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=l.RefValue,r}return c(e,t),e.prototype.value=function(){return this.key},e.prototype.equals=function(t){return t instanceof e&&(this.key.equals(t.key)&&this.databaseId.equals(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:u.DocumentKey.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(h);e.RefValue=w;var x=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.GeoPointValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(h);e.GeoPointValue=x;var C=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.ObjectValue,n}return c(e,t),e.prototype.value=function(){var t={};return this.internalValue.inorderTraversal(function(e,n){t[e]=n.value()}),t},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.equals=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.equals(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),s=(0,a.primitiveComparator)(o.key,i.key)||o.value.compareTo(i.value);if(s)return s}return(0,a.primitiveComparator)(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if((0,i.assert)(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if((0,i.assert)(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){(0,i.assert)(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new s.SortedMap(a.primitiveComparator)),e}(h);e.ObjectValue=C;var E=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=l.ArrayValue,n}return c(e,t),e.prototype.value=function(){return this.internalValue.map(function(t){return t.value()})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.equals=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return(0,a.primitiveComparator)(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(h);e.ArrayValue=E},jUlM:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("fcnB"),a=n("NSJx"),s=n("ktfo"),u=n("yW9Z"),c=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new i.EmptyObservable;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0]),0===t.length?new i.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(o.Observable);e.ForkJoinObservable=c;var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var o=n.length;this.total=o,this.values=new Array(o);for(var i=0;i<o;i++){var a=n[i],u=s.subscribeToResult(this,a,null,i);u&&(u.outerIndex=i,this.add(u))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,r=n.haveValues,o=n.resultSelector,i=n.values,a=i.length;if(!t._hasValue)return void e.complete();if(++this.completed===a){if(r===a){var s=o?o.apply(this,i):i;e.next(s)}e.complete()}},e}(u.OuterSubscriber)},joOi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tree=e.TreeNode=void 0;var r=n("Iylt"),o=n("y6vc"),i=n("dSvz"),a=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}();e.TreeNode=a;var s=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new a),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof o.Path?e:new o.Path(e),s=this;null!==(n=r.getFront());){s=new t(n,s,(0,i.safeGet)(s.node_.children,n)||new a),r=r.popFront()}return s},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){(0,r.assert)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;(0,i.forEach)(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new o.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=(0,i.contains)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();e.Tree=s},kWk1:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),i=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.Subscriber);e.InnerSubscriber=i},"kdH+":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,o=n("/oeL"),i=n("/6Tg"),a=n("KSV9"),s=n("wM1e");!function(t){t[t.Enter=13]="Enter",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(r||(r={}));var u=function(){function t(t,e){var n=this;this._service=t,this._calendar=e,t.model$.subscribe(function(t){n._minDate=t.minDate,n._maxDate=t.maxDate,n._firstViewDate=t.firstDate,n._lastViewDate=t.lastDate})}return t.prototype.processKey=function(t){if(r[Object(s.i)(t.which)]){switch(t.which){case r.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case r.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case r.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case r.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case r.ArrowLeft:this._service.focusMove("d",-1);break;case r.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case r.ArrowRight:this._service.focusMove("d",1);break;case r.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case r.Enter:case r.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}},t}();u.decorators=[{type:o.x}],u.ctorParameters=function(){return[{type:i.a},{type:a.a}]}},kkQ5:function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.scan=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,o){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=o,this.index=0}return o(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},ktfo:function(t,e,n){"use strict";function r(t,e,n,r){var p=new l.InnerSubscriber(t,n,r);if(p.closed)return null;if(e instanceof u.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):e.subscribe(p);if(i.isArrayLike(e)){for(var f=0,d=e.length;f<d&&!p.closed;f++)p.next(e[f]);p.closed||p.complete()}else{if(a.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){o.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[c.iterator])for(var m=e[c.iterator]();;){var y=m.next();if(y.done){p.complete();break}if(p.next(y.value),p.closed)break}else if(e&&"function"==typeof e[h.observable]){var g=e[h.observable]();if("function"==typeof g.subscribe)return g.subscribe(new l.InnerSubscriber(t,n,r));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v=s.isObject(e)?"an invalid object":"'"+e+"'",_="You provided "+v+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(_))}}return null}var o=n("zijX"),i=n("lhZu"),a=n("mUVF"),s=n("H6Sg"),u=n("bKpL"),c=n("2B7B"),l=n("kWk1"),h=n("DP67");e.subscribeToResult=r},l32o:function(t,e){!function(e){function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:s)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void s(e.promise,t)}a(e.promise,r)})}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(r(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}var h=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new c(t,e,r)),r},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(i,t)},n)}e[i]=a,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){h(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:e.Promise||(e.Promise=o)}(this)},"l3Q+":function(t,e,n){"use strict";var r=n("bKpL"),o=n("tBQh");r.Observable.prototype.delay=o.delay},"lA7/":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n("wM1e"),o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(){function t(){}return t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t){if(t){var e=t.trim().split("-");if(1===e.length&&Object(r.d)(e[0]))return{year:Object(r.h)(e[0]),month:null,day:null};if(2===e.length&&Object(r.d)(e[0])&&Object(r.d)(e[1]))return{year:Object(r.h)(e[0]),month:Object(r.h)(e[1]),day:null};if(3===e.length&&Object(r.d)(e[0])&&Object(r.d)(e[1])&&Object(r.d)(e[2]))return{year:Object(r.h)(e[0]),month:Object(r.h)(e[1]),day:Object(r.h)(e[2])}}return null},e.prototype.format=function(t){return t?t.year+"-"+(Object(r.d)(t.month)?Object(r.f)(t.month):"")+"-"+(Object(r.d)(t.day)?Object(r.f)(t.day):""):""},e}(i)},lCkt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityMonitor=void 0;var r=n("/ug4"),o=n("Iylt"),i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return i(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(r.EventEmitter);e.VisibilityMonitor=a},lhZu:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},"lx+J":function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e.map=r;var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=a;var s=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},m0eP:function(t,e,n){"use strict";function r(t){return i._43(0,[(t()(),i._41(null,["\n    "])),(t()(),i._21(0,null,null,4,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),i._41(null,["\n        "])),(t()(),i._21(0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),i._34(null,0),(t()(),i._41(null,["\n    "])),(t()(),i._41(null,["\n    "]))],null,function(t,e){var n=e.component;t(e,1,0,"modal-dialog"+(n.size?" modal-"+n.size:""))})}function o(t){return i._43(0,[(t()(),i._21(0,null,null,1,"ngb-modal-window",[["role","dialog"],["style","display: block;"],["tabindex","-1"]],[[8,"className",0]],[[null,"keyup.esc"],[null,"click"]],function(t,e,n){var r=!0;if("keyup.esc"===e){r=!1!==i._35(t,1).escKey(n)&&r}if("click"===e){r=!1!==i._35(t,1).backdropClick(n)&&r}return r},r,u)),i._19(4440064,null,0,a.a,[i.q,i.R],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"modal fade show"+(i._35(e,1).windowClass?" "+i._35(e,1).windowClass:""))})}n.d(e,"a",function(){return c});var i=n("/oeL"),a=n("AVYa"),s=[],u=i._18({encapsulation:2,styles:s,data:{}}),c=i._16("ngb-modal-window",a.a,o,{backdrop:"backdrop",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"])},mGGb:function(t,e,n){"use strict";function r(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=i(e)),e=o(t.get(n),e);return i(e)}function o(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=l+p;break;case l:n+=l+f;break;default:n+=i}}return n}function i(t){return t+l+h}function a(t){var e=t.length;if((0,c.assert)(e>=2,"Invalid path "+t),2===e)return(0,c.assert)(t.charAt(0)===l&&t.charAt(1)===h,"Non-empty path "+t+" had length 2"),u.ResourcePath.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var a=t.indexOf(l,i);(a<0||a>n)&&(0,c.fail)('Invalid encoded resource path: "'+t+'"');switch(t.charAt(a+1)){case h:var s=t.substring(i,a),d=void 0;0===o.length?d=s:(o+=s,d=o,o=""),r.push(d);break;case p:o+=t.substring(i,a),o+="\0";break;case f:o+=t.substring(i,a+1);break;default:(0,c.fail)('Invalid encoded resource path: "'+t+'"')}i=a+2}return new u.ResourcePath(r)}function s(t){var e=t.charCodeAt(t.length-1);return(0,c.assert)(1===e,"successor may only operate on paths generated by encode"),t.substring(0,t.length-1)+String.fromCharCode(e+1)}Object.defineProperty(e,"__esModule",{value:!0}),e.encode=r,e.decode=a,e.prefixSuccessor=s;var u=n("n8qD"),c=n("wg5S"),l="\x01",h="\x01",p="\x10",f="\x11"},mQQt:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("/oeL"),o=n("F3px"),i=n("75Hr"),a=n("uJci"),s=n("7zUS"),u=0,c=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString())},t}();c.decorators=[{type:r.l,args:[{selector:"ngb-popover-window",changeDetection:r.i.OnPush,host:{"[class]":'"popover bs-popover-" + placement.split("-")[0]+" bs-popover-" + placement',role:"tooltip","[id]":"id"},template:'\n    <div class="arrow"></div>\n    <h3 class="popover-header">{{title}}</h3><div class="popover-body"><ng-content></ng-content></div>',styles:["\n    :host.bs-popover-top .arrow, :host.bs-popover-bottom .arrow {\n      left: 50%;\n    }\n\n    :host.bs-popover-top-left .arrow, :host.bs-popover-bottom-left .arrow {\n      left: 2em;\n    }\n\n    :host.bs-popover-top-right .arrow, :host.bs-popover-bottom-right .arrow {\n      left: auto;\n      right: 2em;\n    }\n\n    :host.bs-popover-left .arrow, :host.bs-popover-right .arrow {\n      top: 50%;\n    }\n    \n    :host.bs-popover-left-top .arrow, :host.bs-popover-right-top .arrow {\n      top: 0.7em;\n    }\n\n    :host.bs-popover-left-bottom .arrow, :host.bs-popover-right-bottom .arrow {\n      top: auto;\n      bottom: 0.7em;\n    }\n  "]}]}],c.ctorParameters=function(){return[{type:r.q},{type:r.R}]},c.propDecorators={placement:[{type:r.A}],title:[{type:r.A}],id:[{type:r.A}]};var l=function(){function t(t,e,n,o,s,l,h){var p=this;this._elementRef=t,this._renderer=e,this.shown=new r.s,this.hidden=new r.s,this._ngbPopoverWindowId="ngb-popover-"+u++,this.placement=l.placement,this.triggers=l.triggers,this.container=l.container,this._popupService=new a.b(c,n,s,e,o),this._zoneSubscription=h.onStable.subscribe(function(){p._windowRef&&p._windowRef.instance.applyPlacement(Object(i.a)(p._elementRef.nativeElement,p._windowRef.location.nativeElement,p.placement,"body"===p.container))})}return t.prototype.open=function(t){this._windowRef||(this._windowRef=this._popupService.open(this.ngbPopover,t),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._windowRef.instance.applyPlacement(Object(i.a)(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)),this.shown.emit())},t.prototype.close=function(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit())},t.prototype.toggle=function(){this._windowRef?this.close():this.open()},t.prototype.isOpen=function(){return null!=this._windowRef},t.prototype.ngOnInit=function(){this._unregisterListenersFn=Object(o.a)(this._renderer,this._elementRef.nativeElement,this.triggers,this.open.bind(this),this.close.bind(this),this.toggle.bind(this))},t.prototype.ngOnDestroy=function(){this.close(),this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()},t}();l.decorators=[{type:r.p,args:[{selector:"[ngbPopover]",exportAs:"ngbPopover"}]}],l.ctorParameters=function(){return[{type:r.q},{type:r.R},{type:r.z},{type:r.m},{type:r._3},{type:s.a},{type:r.J}]},l.propDecorators={ngbPopover:[{type:r.A}],popoverTitle:[{type:r.A}],placement:[{type:r.A}],triggers:[{type:r.A}],container:[{type:r.A}],shown:[{type:r.L}],hidden:[{type:r.L}]}},mUVF:function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},mihg:function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function o(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n("zijX"),s=n("bKpL"),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return i(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(i.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(i.schedule(o,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=u},mpwt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocReference=e.ReferenceSet=void 0;var r=n("rwiY"),o=n("V2Ax"),i=n("D1Ck"),a=n("2nEU"),s=n("G3bM"),u=function(){function t(){this.refsByKey=new a.SortedSet(c.compareByKey),this.refsByTarget=new a.SortedSet(c.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new c(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new c(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=o.DocumentKey.EMPTY,r=new c(n,t),i=new c(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=o.DocumentKey.EMPTY,n=new c(e,t),i=new c(e,t+1),a=(0,r.documentKeySet)();return this.refsByTarget.forEachInRange([n,i],function(t){a=a.add(t.key)}),a},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new c(e,0),r=this.refsByKey.firstAfterOrEqual(n);return s.PersistencePromise.resolve(null!==r&&e.equals(r.key))},t}();e.ReferenceSet=u;var c=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return o.DocumentKey.comparator(t.key,e.key)||(0,i.primitiveComparator)(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return(0,i.primitiveComparator)(t.targetOrBatchId,e.targetOrBatchId)||o.DocumentKey.comparator(t.key,e.key)},t}();e.DocReference=c},mupS:function(t,e,n){"use strict";function r(t,e,n){if(e.length!==n)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires "+_(n,"argument")+", but was called with "+_(e.length,"argument")+".")}function o(t,e,n){if(e.length<n)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires at least "+_(n,"argument")+", but was called with "+_(e.length,"argument")+".")}function i(t,e,n,r){if(e.length<n||e.length>r)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+_(e.length,"argument")+".")}function a(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+_(r,"element")+".")}function s(t,e,n,r){h(t,e,v(n)+" argument",r)}function u(t,e,n,r){void 0!==r&&s(t,e,n,r)}function c(t,e,n,r){h(t,e,n+" option",r)}function l(t,e,n,r){void 0!==r&&c(t,e,n,r)}function h(t,e,n,r){if((void 0===r?"undefined":b(r))!==e||"object"===e&&!p(r)){var o=f(r);throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function p(t){return"object"===(void 0===t?"undefined":b(t))&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function f(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"===(void 0===t?"undefined":b(t))){if(t instanceof Array)return"an array";var e=d(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":(0,w.fail)("Unknown wrong type: "+(void 0===t?"undefined":b(t)))}function d(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/,n=e.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}function m(t,e,n){if(void 0===n)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+v(e)+" argument, but it was undefined.")}function y(t,e,n){E.forEach(e,function(e,r){if(n.indexOf(e)<0)throw new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function g(t,e,n,r){var o=f(r);return new x.FirestoreError(x.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+v(n)+" argument to be a "+e+", but it was: "+o)}function v(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function _(t,e){return t+" "+e+(1===t?"":"s")}Object.defineProperty(e,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.validateExactNumberOfArgs=r,e.validateAtLeastNumberOfArgs=o,e.validateBetweenNumberOfArgs=i,e.validateNamedArrayAtLeastNumberOfElements=a,e.validateArgType=s,e.validateOptionalArgType=u,e.validateNamedType=c,e.validateNamedOptionalType=l,e.isPlainObject=p,e.valueDescription=f,e.tryGetCustomObjectType=d,e.validateDefined=m,e.validateOptionNames=y,e.invalidClassError=g;var w=n("wg5S"),x=n("3vSt"),C=n("ILqR"),E=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(C)},n8qD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldPath=e.ResourcePath=e.Path=e.DOCUMENT_KEY_NAME=void 0;var r=n("wg5S"),o=n("3vSt"),i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=e.DOCUMENT_KEY_NAME="__name__",s=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&(0,r.fail)("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&(0,r.fail)("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):(0,r.fail)("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,(0,r.assert)(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return(0,r.assert)(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return(0,r.assert)(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return(0,r.assert)(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return(0,r.assert)(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}();e.Path=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(s);e.ResourcePath=u;var c=/^[_a-zA-Z][_a-zA-Z0-9]*$/,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.isValidIdentifier=function(t){return c.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===a},e.keyField=function(){return new e([a])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(s);e.FieldPath=l},nBII:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionStatus=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n("Iylt"),i=n("fwA0"),a=n("bjno"),s=n("y6vc"),u=n("joOi"),c=n("GIDU"),l=n("sN0z"),h=n("NuZ9"),p=n("ezsS"),f=n("dSvz"),d=n("vaJ0"),m=n("VBxt"),y=n("DuAm"),g=e.TransactionStatus=void 0;!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(g||(e.TransactionStatus=g={})),y.Repo.MAX_TRANSACTION_RETRIES_=25,y.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},y.Repo.prototype.startTransaction=function(t,e,n,s){this.log_("transaction on "+t);var u=function(){},y=new i.Reference(this,t);y.on("value",u);var v=function(){y.off("value",u)},_={path:t,update:e,onComplete:n,status:null,order:(0,l.LUIDGenerator)(),applyLocally:s,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},b=this.getLatestState_(t);_.currentInputSnapshot=b;var w=_.update(b.val());if(void 0===w){if(_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete){var x=new a.DataSnapshot(_.currentInputSnapshot,new i.Reference(this,_.path),c.PRIORITY_INDEX);_.onComplete(null,!1,x)}}else{(0,p.validateFirebaseData)("transaction failed: Data returned ",w,_.path),_.status=g.RUN;var C=this.transactionQueueTree_.subTree(t),E=C.getValue()||[];E.push(_),C.setValue(E);var S=void 0;if("object"===(void 0===w?"undefined":r(w))&&null!==w&&(0,f.contains)(w,".priority"))S=(0,f.safeGet)(w,".priority"),(0,o.assert)((0,p.isValidPriority)(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{S=(this.serverSyncTree_.calcCompleteEventCache(t)||m.ChildrenNode.EMPTY_NODE).getPriority().val()}S=S;var T=this.generateServerValues(),P=(0,d.nodeFromJSON)(w,S),O=(0,h.resolveDeferredValueSnapshot)(P,T);_.currentOutputSnapshotRaw=P,_.currentOutputSnapshotResolved=O,_.currentWriteId=this.getNextWriteId_();var I=this.serverSyncTree_.applyUserOverwrite(t,O,_.currentWriteId,_.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,I),this.sendReadyTransactions_()}},y.Repo.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||m.ChildrenNode.EMPTY_NODE},y.Repo.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);(0,o.assert)(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===g.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},y.Repo.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),u=this.getLatestState_(t,r),h=u,p=u.hash(),f=0;f<e.length;f++){var d=e[f];(0,o.assert)(d.status===g.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=g.SENT,d.retryCount++;var m=s.Path.relativePath(t,d.path);h=h.updateChild(m,d.currentOutputSnapshotRaw)}var y=h.val(!0),v=t;this.server_.put(v.toString(),y,function(r){n.log_("transaction put response",{path:v.toString(),status:r});var o=[];if("ok"===r){for(var s=[],u=0;u<e.length;u++){if(e[u].status=g.COMPLETED,o=o.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete){var h=e[u].currentOutputSnapshotResolved,p=new i.Reference(n,e[u].path),f=new a.DataSnapshot(h,p,c.PRIORITY_INDEX);s.push(e[u].onComplete.bind(null,null,!0,f))}e[u].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,o);for(var u=0;u<s.length;u++)(0,l.exceptionGuard)(s[u])}else{if("datastale"===r)for(var u=0;u<e.length;u++)e[u].status===g.SENT_NEEDS_ABORT?e[u].status=g.NEEDS_ABORT:e[u].status=g.RUN;else{(0,l.warn)("transaction at "+v.toString()+" failed: "+r);for(var u=0;u<e.length;u++)e[u].status=g.NEEDS_ABORT,e[u].abortReason=r}n.rerunTransactions_(t)}},p)},y.Repo.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},y.Repo.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],u=[],m=t.filter(function(t){return t.status===g.RUN}),v=m.map(function(t){return t.currentWriteId}),_=0;_<t.length;_++){var b=t[_],w=s.Path.relativePath(e,b.path),x=!1,C=void 0;if((0,o.assert)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===g.NEEDS_ABORT)x=!0,C=b.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else if(b.status===g.RUN)if(b.retryCount>=y.Repo.MAX_TRANSACTION_RETRIES_)x=!0,C="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else{var E=this.getLatestState_(b.path,v);b.currentInputSnapshot=E;var S=t[_].update(E.val());if(void 0!==S){(0,p.validateFirebaseData)("transaction failed: Data returned ",S,b.path);var T=(0,d.nodeFromJSON)(S),P="object"===(void 0===S?"undefined":r(S))&&null!=S&&(0,f.contains)(S,".priority");P||(T=T.updatePriority(E.getPriority()));var O=b.currentWriteId,I=this.generateServerValues(),A=(0,h.resolveDeferredValueSnapshot)(T,I);b.currentOutputSnapshotRaw=T,b.currentOutputSnapshotResolved=A,b.currentWriteId=this.getNextWriteId_(),v.splice(v.indexOf(O),1),u=u.concat(this.serverSyncTree_.applyUserOverwrite(b.path,A,b.currentWriteId,b.applyLocally)),u=u.concat(this.serverSyncTree_.ackUserWrite(O,!0))}else x=!0,C="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,u),u=[],x&&(t[_].status=g.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[_].unwatcher),t[_].onComplete))if("nodata"===C){var k=new i.Reference(this,t[_].path),D=t[_].currentInputSnapshot,R=new a.DataSnapshot(D,k,c.PRIORITY_INDEX);n.push(t[_].onComplete.bind(null,null,!1,R))}else n.push(t[_].onComplete.bind(null,new Error(C),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var _=0;_<n.length;_++)(0,l.exceptionGuard)(n[_]);this.sendReadyTransactions_()}},y.Repo.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},y.Repo.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},y.Repo.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},y.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==g.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},y.Repo.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},y.Repo.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)if(e[a].status===g.SENT_NEEDS_ABORT);else if(e[a].status===g.SENT)(0,o.assert)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=g.SENT_NEEDS_ABORT,e[a].abortReason="set";else if((0,o.assert)(e[a].status===g.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var a=0;a<n.length;a++)(0,l.exceptionGuard)(n[a])}}},nVXb:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("/oeL"),o=function(){function t(){this.dismissible=!0,this.type="warning"}return t}();o.decorators=[{type:r.x}],o.ctorParameters=function(){return[]}},oQVo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamBridge=void 0;var r=n("wg5S"),o=function(){function t(t){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){(0,r.assert)(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){(0,r.assert)(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){(0,r.assert)(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){(0,r.assert)(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){(0,r.assert)(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){(0,r.assert)(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}();e.StreamBridge=o},oVda:function(t,e,n){"use strict";function r(t,e){return(0,i.nameCompare)(t.name,e.name)}function o(t,e){return(0,i.nameCompare)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NAME_ONLY_COMPARATOR=r,e.NAME_COMPARATOR=o;var i=n("sN0z")},oh70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseSnapshotTree=void 0;var r=n("y6vc"),o=n("GIDU"),i=n("YCrt"),a=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){return this.children_.get(e).find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new i.CountedSet);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var o=this.children_.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(o.PRIORITY_INDEX,function(t,e){n.remember(new r.Path(t),e)}),this.forget(t)}if(null!==this.children_){var i=t.getFront();if(t=t.popFront(),this.children_.contains(i)){this.children_.get(i).forget(t)&&this.children_.remove(i)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,o){var i=new r.Path(t.toString()+"/"+n);o.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}();e.SparseSnapshotTree=a},"pA7+":function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return h.RepoManager.getInstance().databaseFromApp(t,n)},{Reference:c.Reference,Query:u.Query,Database:s.Database,enableLogging:l.enableLogging,INTERNAL:f,ServerValue:s.Database.ServerValue,TEST_ACCESS:m},null,!0);(0,y.isNodeSdk)()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0}),e.registerDatabase=o;var i=n("2D4A"),a=function(t){return t&&t.__esModule?t:{default:t}}(i),s=n("xF0D"),u=n("5aJC"),c=n("fwA0"),l=n("sN0z"),h=n("6lYl"),p=n("ggxt"),f=r(p),d=n("wIMW"),m=r(d),y=n("97M5");o(a.default)},pRH8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Merge=void 0;var r=n("NE16"),o=n("Hgmi"),i=n("y6vc"),a=n("Iylt"),s=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=r.OperationType.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new i.Path(e));return n.isEmpty()?null:n.value?new o.Overwrite(this.source,i.Path.Empty,n.value):new t(this.source,i.Path.Empty,n)}return(0,a.assert)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();e.Merge=s},"pZ/q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnapshotVersion=void 0;var r=n("ygS9"),o=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6),o=e%1e6*1e3;return new t(new r.Timestamp(n,o))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.equals=function(t){return this.timestamp.equals(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new r.Timestamp(0,0)),t}();e.SnapshotVersion=o},pd7P:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT"}(r||(r={}))},pf8o:function(t,e,n){"use strict";function r(t){switch(t){case l.Code.OK:return(0,c.fail)("Treated status OK as error");case l.Code.CANCELLED:case l.Code.UNKNOWN:case l.Code.DEADLINE_EXCEEDED:case l.Code.RESOURCE_EXHAUSTED:case l.Code.INTERNAL:case l.Code.UNAVAILABLE:case l.Code.UNAUTHENTICATED:return!1;case l.Code.INVALID_ARGUMENT:case l.Code.NOT_FOUND:case l.Code.ALREADY_EXISTS:case l.Code.PERMISSION_DENIED:case l.Code.FAILED_PRECONDITION:case l.Code.ABORTED:case l.Code.OUT_OF_RANGE:case l.Code.UNIMPLEMENTED:case l.Code.DATA_LOSS:return!0;default:return(0,c.fail)("Unknown status code: "+t)}}function o(t){var e=u[t];if(void 0!==e)return i(e)}function i(t){switch(t){case u.OK:return l.Code.OK;case u.CANCELLED:return l.Code.CANCELLED;case u.UNKNOWN:return l.Code.UNKNOWN;case u.DEADLINE_EXCEEDED:return l.Code.DEADLINE_EXCEEDED;case u.RESOURCE_EXHAUSTED:return l.Code.RESOURCE_EXHAUSTED;case u.INTERNAL:return l.Code.INTERNAL;case u.UNAVAILABLE:return l.Code.UNAVAILABLE;case u.UNAUTHENTICATED:return l.Code.UNAUTHENTICATED;case u.INVALID_ARGUMENT:return l.Code.INVALID_ARGUMENT;case u.NOT_FOUND:return l.Code.NOT_FOUND;case u.ALREADY_EXISTS:return l.Code.ALREADY_EXISTS;case u.PERMISSION_DENIED:return l.Code.PERMISSION_DENIED;case u.FAILED_PRECONDITION:return l.Code.FAILED_PRECONDITION;case u.ABORTED:return l.Code.ABORTED;case u.OUT_OF_RANGE:return l.Code.OUT_OF_RANGE;case u.UNIMPLEMENTED:return l.Code.UNIMPLEMENTED;case u.DATA_LOSS:return l.Code.DATA_LOSS;default:return(0,c.fail)("Unknown status code: "+t)}}function a(t){if(void 0===t)return u.OK;switch(t){case l.Code.OK:return u.OK;case l.Code.CANCELLED:return u.CANCELLED;case l.Code.UNKNOWN:return u.UNKNOWN;case l.Code.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case l.Code.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case l.Code.INTERNAL:return u.INTERNAL;case l.Code.UNAVAILABLE:return u.UNAVAILABLE;case l.Code.UNAUTHENTICATED:return u.UNAUTHENTICATED;case l.Code.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case l.Code.NOT_FOUND:return u.NOT_FOUND;case l.Code.ALREADY_EXISTS:return u.ALREADY_EXISTS;case l.Code.PERMISSION_DENIED:return u.PERMISSION_DENIED;case l.Code.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case l.Code.ABORTED:return u.ABORTED;case l.Code.OUT_OF_RANGE:return u.OUT_OF_RANGE;case l.Code.UNIMPLEMENTED:return u.UNIMPLEMENTED;case l.Code.DATA_LOSS:return u.DATA_LOSS;default:return(0,c.fail)("Unknown status code: "+t)}}function s(t){switch(t){case 200:return l.Code.OK;case 400:return l.Code.INVALID_ARGUMENT;case 401:return l.Code.UNAUTHENTICATED;case 403:return l.Code.PERMISSION_DENIED;case 404:return l.Code.NOT_FOUND;case 409:return l.Code.ABORTED;case 416:return l.Code.OUT_OF_RANGE;case 429:return l.Code.RESOURCE_EXHAUSTED;case 499:return l.Code.CANCELLED;case 500:return l.Code.UNKNOWN;case 501:return l.Code.UNIMPLEMENTED;case 503:return l.Code.UNAVAILABLE;case 504:return l.Code.DEADLINE_EXCEEDED;default:return t>=200&&t<300?l.Code.OK:t>=400&&t<500?l.Code.FAILED_PRECONDITION:t>=500&&t<600?l.Code.INTERNAL:l.Code.UNKNOWN}}Object.defineProperty(e,"__esModule",{value:!0}),e.isPermanentError=r,e.mapCodeFromRpcStatus=o,e.mapCodeFromRpcCode=i,e.mapRpcCodeFromCode=a,e.mapCodeFromHttpStatus=s;var u,c=n("wg5S"),l=n("3vSt");!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(u||(u={}))},"pfc+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsManager=void 0;var r=n("6NMu"),o=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new r.StatsCollection),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}();e.StatsManager=o},qGYc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedDbPersistence=void 0;var r=n("wg5S"),o=n("3vSt"),i=n("0C8m"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),s=n("D1Ck"),u=n("U+HO"),c=n("ANvD"),l=n("FRRe"),h=n("LF8c"),p=n("abh2"),f=n("0kdl"),d=n("G3bM"),m=n("d6PS"),y="IndexedDbPersistence",g="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",v=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new f.LocalSerializer(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?((0,r.assert)(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,m.SimpleDb.openOrCreate(this.dbName,p.SCHEMA_VERSION,p.createOrUpgradeDb).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new o.FirestoreError(o.Code.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),u.PromiseImpl.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return(0,r.assert)(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return c.IndexedDbMutationQueue.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new l.IndexedDbQueryCache(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new h.IndexedDbRemoteDocumentCache(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?u.PromiseImpl.reject(this.persistenceError):(a.debug(y,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",p.ALL_STORES,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return m.SimpleDb.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[p.DbOwner.store],function(e){var n=e.store(p.DbOwner.store);return n.get("owner").next(function(e){if(t.validOwner(e))return a.debug(y,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new o.FirestoreError(o.Code.FAILED_PRECONDITION,g),d.PersistencePromise.reject(t.persistenceError);var r=new p.DbOwner(t.ownerId,Date.now());return a.debug(y,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[p.DbOwner.store],function(e){var n=e.store(p.DbOwner.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(a.debug(y,"Releasing owner lease."),n.delete("owner")):d.PersistencePromise.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(p.DbOwner.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new o.FirestoreError(o.Code.FAILED_PRECONDITION,g),d.PersistencePromise.reject(e.persistenceError)):d.PersistencePromise.resolve()})},t.prototype.validOwner=function(t){var e=Date.now(),n=e-5e3,r=e;return null!==t&&(!(t.leaseTimestampMs<n)&&(t.leaseTimestampMs>r?(a.error("Persistence owner-lease is in the future. Discarding.",t),!1):t.ownerId!==this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(p.DbOwner.store).put("owner",new p.DbOwner(t.ownerId,Date.now()))}).catch(function(e){a.error(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return a.debug(y,"Zombied ownerID from LocalStorage:",t),t}catch(t){return a.error(y,"Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){a.error(y,"Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return s.AutoId.newId()},t.MAIN_DATABASE="main",t}();e.IndexedDbPersistence=v},qbdv:function(t,e,n){"use strict";function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function o(t){return t.replace(/\/index.html$/,"")}function i(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function a(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),o=Math.floor(Math.abs(n)),i=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?z.One:z.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?z.One:z.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===o||1===n?z.One:z.Other;case"ar":return 0===n?z.Zero:1===n?z.One:2===n?z.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?z.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?z.Many:z.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===o&&0===i?z.One:z.Other;case"be":return n%10==1&&n%100!=11?z.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?z.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?z.Many:z.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?z.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?z.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?z.Few:0!==n&&n%1e6==0?z.Many:z.Other;case"bs":case"hr":case"sr":return 0===i&&o%10==1&&o%100!=11||a%10==1&&a%100!=11?z.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?z.Few:z.Other;case"cs":case"sk":return 1===o&&0===i?z.One:o===Math.floor(o)&&o>=2&&o<=4&&0===i?z.Few:0!==i?z.Many:z.Other;case"cy":return 0===n?z.Zero:1===n?z.One:2===n?z.Two:3===n?z.Few:6===n?z.Many:z.Other;case"da":return 1===n||0!==s&&(0===o||1===o)?z.One:z.Other;case"dsb":case"hsb":return 0===i&&o%100==1||a%100==1?z.One:0===i&&o%100==2||a%100==2?z.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?z.Few:z.Other;case"ff":case"fr":case"hy":case"kab":return 0===o||1===o?z.One:z.Other;case"fil":return 0===i&&(1===o||2===o||3===o)||0===i&&o%10!=4&&o%10!=6&&o%10!=9||0!==i&&a%10!=4&&a%10!=6&&a%10!=9?z.One:z.Other;case"ga":return 1===n?z.One:2===n?z.Two:n===Math.floor(n)&&n>=3&&n<=6?z.Few:n===Math.floor(n)&&n>=7&&n<=10?z.Many:z.Other;case"gd":return 1===n||11===n?z.One:2===n||12===n?z.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?z.Few:z.Other;case"gv":return 0===i&&o%10==1?z.One:0===i&&o%10==2?z.Two:0!==i||o%100!=0&&o%100!=20&&o%100!=40&&o%100!=60&&o%100!=80?0!==i?z.Many:z.Other:z.Few;case"he":return 1===o&&0===i?z.One:2===o&&0===i?z.Two:0!==i||n>=0&&n<=10||n%10!=0?z.Other:z.Many;case"is":return 0===s&&o%10==1&&o%100!=11||0!==s?z.One:z.Other;case"ksh":return 0===n?z.Zero:1===n?z.One:z.Other;case"kw":case"naq":case"se":case"smn":return 1===n?z.One:2===n?z.Two:z.Other;case"lag":return 0===n?z.Zero:0!==o&&1!==o||0===n?z.Other:z.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?z.Few:0!==a?z.Many:z.Other:z.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?z.Zero:n%10==1&&n%100!=11||2===i&&a%10==1&&a%100!=11||2!==i&&a%10==1?z.One:z.Other;case"mk":return 0===i&&o%10==1||a%10==1?z.One:z.Other;case"mt":return 1===n?z.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?z.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?z.Many:z.Other;case"pl":return 1===o&&0===i?z.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?z.Few:0===i&&1!==o&&o%10===Math.floor(o%10)&&o%10>=0&&o%10<=1||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=12&&o%100<=14?z.Many:z.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?z.One:z.Other;case"ro":return 1===o&&0===i?z.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?z.Few:z.Other;case"ru":case"uk":return 0===i&&o%10==1&&o%100!=11?z.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?z.Few:0===i&&o%10==0||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?z.Many:z.Other;case"shi":return 0===o||1===n?z.One:n===Math.floor(n)&&n>=2&&n<=10?z.Few:z.Other;case"si":return 0===n||1===n||0===o&&1===a?z.One:z.Other;case"sl":return 0===i&&o%100==1?z.One:0===i&&o%100==2?z.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||0!==i?z.Few:z.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?z.One:z.Other;default:return z.Other}}function s(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=o.indexOf("="),a=-1==i?[o,""]:[o.slice(0,i),o.slice(i+1)],s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}return null}function u(t){return t.name||typeof t}function c(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(A._40)(t)+"'")}function l(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function h(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function p(t){return function(e,n){return t(e,n).split(" ")[0]}}function f(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function d(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=f(t,n,e);return r?r.substring(3):""}}function m(t,e){return t.hour12=e,t}function y(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function g(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function v(t){return t.reduce(function(t,e){return Object.assign({},t,e)},{})}function _(t){return function(e,n){return f(e,n,t)}}function b(t,e,n){var r=dt[t];if(r)return r(e,n);var o=t,i=yt.get(o);if(!i){i=[];var a=void 0;ft.exec(t);for(var s=t;s;)a=ft.exec(s),a?(i=i.concat(a.slice(1)),s=i.pop()):(i.push(s),s=null);yt.set(o,i)}return i.reduce(function(t,r){var o=mt[r];return t+(o?o(e,n):w(r))},"")}function w(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function x(t,e,n,r,o,i,a){if(void 0===i&&(i=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&E(n)?+n:n))throw c(t,n);var s=void 0,u=void 0,l=void 0;if(r!==ht.Currency&&(s=1,u=0,l=3),o){var h=o.match(vt);if(null===h)throw new Error(o+" is not a valid digit info for number pipes");null!=h[1]&&(s=C(h[1])),null!=h[3]&&(u=C(h[3])),null!=h[5]&&(l=C(h[5]))}return pt.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:i,currencyAsSymbol:a})}function C(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function E(t){return!isNaN(t-parseFloat(t))}function S(t){return null==t||""===t}function T(t){return t instanceof Date&&!isNaN(t.valueOf())}function P(t){var e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=O(t[9]+t[10]),r=O(t[9]+t[11])),o.call(e,O(t[1]),O(t[2])-1,O(t[3]));var a=O(t[4]||"0")-n,s=O(t[5]||"0")-r,u=O(t[6]||"0"),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,a,s,u,c),e}function O(t){return parseInt(t,10)}n.d(e,"l",function(){return j}),n.d(e,"m",function(){return V}),n.d(e,"r",function(){return s}),n.d(e,"c",function(){return At}),n.d(e,"i",function(){return B}),n.d(e,"j",function(){return W}),n.d(e,"k",function(){return G}),n.d(e,"n",function(){return et}),n.d(e,"d",function(){return Dt}),n.d(e,"b",function(){return st}),n.d(e,"q",function(){return Rt}),n.d(e,"p",function(){return k}),n.d(e,"f",function(){return D}),n.d(e,"h",function(){return R}),n.d(e,"a",function(){return M}),n.d(e,"e",function(){return L}),n.d(e,"o",function(){return F}),n.d(e,"g",function(){return N});var I=n("6Xbx"),A=n("/oeL"),k=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},t.prototype.pathname=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),D=new A.y("Location Initialized"),R=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),M=new A.y("appBaseHref"),N=function(){function t(e){var n=this;this._subject=new A.s,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(o(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,o(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-("/"===t[n-1]?1:0);return t.slice(0,r)+t.slice(n)},t}();N.decorators=[{type:A.x}],N.ctorParameters=function(){return[{type:R}]};var L=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return I.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=N.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+N.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+N.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(R);L.decorators=[{type:A.x}],L.ctorParameters=function(){return[{type:k},{type:void 0,decorators:[{type:A.K},{type:A.w,args:[M]}]}]};var F=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return I.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return N.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+N.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+N.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+N.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(R);F.decorators=[{type:A.x}],F.ctorParameters=function(){return[{type:k},{type:void 0,decorators:[{type:A.K},{type:A.w,args:[M]}]}]};var V=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),j=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return I.a(e,t),e.prototype.getPluralCategory=function(t){switch(a(this.locale,t)){case z.Zero:return"zero";case z.One:return"one";case z.Two:return"two";case z.Few:return"few";case z.Many:return"many";default:return"other"}},e}(V);j.decorators=[{type:A.x}],j.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.w,args:[A.D]}]}]};var z={};z.Zero=0,z.One=1,z.Two=2,z.Few=3,z.Many=4,z.Other=5,z[z.Zero]="Zero",z[z.One]="One",z[z.Two]="Two",z[z.Few]="Few",z[z.Many]="Many",z[z.Other]="Other";var B=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(A._25)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(A._40)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();B.decorators=[{type:A.p,args:[{selector:"[ngClass]"}]}],B.ctorParameters=function(){return[{type:A.B},{type:A.C},{type:A.q},{type:A.Q}]},B.propDecorators={klass:[{type:A.A,args:["class"]}],ngClass:[{type:A.A}]};var U=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(A.H);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(A.m),o=r.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();U.decorators=[{type:A.p,args:[{selector:"[ngComponentOutlet]"}]}],U.ctorParameters=function(){return[{type:A._3}]},U.propDecorators={ngComponentOutlet:[{type:A.A}],ngComponentOutletInjector:[{type:A.A}],ngComponentOutletContent:[{type:A.A}],ngComponentOutletNgModuleFactory:[{type:A.A}]};var q=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),W=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(A._10)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+u(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new q(null,e.ngForOf,-1,-1),o),a=new H(t,i);n.push(a)}else if(null==o)e._viewContainer.remove(r);else{var i=e._viewContainer.get(r);e._viewContainer.move(i,o);var a=new H(t,i);n.push(a)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();W.decorators=[{type:A.p,args:[{selector:"[ngFor][ngForOf]"}]}],W.ctorParameters=function(){return[{type:A._3},{type:A._0},{type:A.B}]},W.propDecorators={ngForOf:[{type:A.A}],ngForTrackBy:[{type:A.A}],ngForTemplate:[{type:A.A}]};var H=function(){function t(t,e){this.record=t,this.view=e}return t}(),G=function(){function t(t,e){this._viewContainer=t,this._context=new K,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();G.decorators=[{type:A.p,args:[{selector:"[ngIf]"}]}],G.ctorParameters=function(){return[{type:A._3},{type:A._0}]},G.propDecorators={ngIf:[{type:A.A}],ngIfThen:[{type:A.A}],ngIfElse:[{type:A.A}]};var K=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),Q=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),X=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();X.decorators=[{type:A.p,args:[{selector:"[ngSwitch]"}]}],X.ctorParameters=function(){return[]},X.propDecorators={ngSwitch:[{type:A.A}]};var Z=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Q(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();Z.decorators=[{type:A.p,args:[{selector:"[ngSwitchCase]"}]}],Z.ctorParameters=function(){return[{type:A._3},{type:A._0},{type:X,decorators:[{type:A.t}]}]},Z.propDecorators={ngSwitchCase:[{type:A.A}]};var Y=function(){function t(t,e,n){n._addDefault(new Q(t,e))}return t}();Y.decorators=[{type:A.p,args:[{selector:"[ngSwitchDefault]"}]}],Y.ctorParameters=function(){return[{type:A._3},{type:A._0},{type:X,decorators:[{type:A.t}]}]};var J=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=i(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();J.decorators=[{type:A.p,args:[{selector:"[ngPlural]"}]}],J.ctorParameters=function(){return[{type:V}]},J.propDecorators={ngPlural:[{type:A.A}]};var $=function(){function t(t,e,n,r){this.value=t;var o=!isNaN(Number(t));r.addCase(o?"="+t:t,new Q(n,e))}return t}();$.decorators=[{type:A.p,args:[{selector:"[ngPluralCase]"}]}],$.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.h,args:["ngPluralCase"]}]},{type:A._0},{type:A._3},{type:J,decorators:[{type:A.t}]}]};var tt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],o=n[1];e=null!=e&&o?""+e+o:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t}();tt.decorators=[{type:A.p,args:[{selector:"[ngStyle]"}]}],tt.ctorParameters=function(){return[{type:A.C},{type:A.q},{type:A.Q}]},tt.propDecorators={ngStyle:[{type:A.A}]};var et=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();et.decorators=[{type:A.p,args:[{selector:"[ngTemplateOutlet]"}]}],et.ctorParameters=function(){return[{type:A._3}]},et.propDecorators={ngTemplateOutletContext:[{type:A.A}],ngTemplateOutlet:[{type:A.A}],ngOutletContext:[{type:A.A}]};var nt=[B,U,W,G,et,tt,X,Z,Y,J,$],rt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ot=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),it=new ot,at=new rt,st=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,A._5.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(A._27)(e))return it;if(Object(A._26)(e))return at;throw c(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();st.decorators=[{type:A.O,args:[{name:"async",pure:!1}]}],st.ctorParameters=function(){return[{type:A.j}]};var ut=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.toLowerCase()},t}();ut.decorators=[{type:A.O,args:[{name:"lowercase"}]}],ut.ctorParameters=function(){return[]};var ct=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.split(/\b/g).map(function(t){return l(t)}).join("")},t}();ct.decorators=[{type:A.O,args:[{name:"titlecase"}]}],ct.ctorParameters=function(){return[]};var lt=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw c(t,e);return e.toUpperCase()},t}();lt.decorators=[{type:A.O,args:[{name:"uppercase"}]}],lt.ctorParameters=function(){return[]};var ht={};ht.Decimal=0,ht.Percent=1,ht.Currency=2,ht[ht.Decimal]="Decimal",ht[ht.Percent]="Percent",ht[ht.Currency]="Currency";var pt=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var o=r.minimumIntegerDigits,i=r.minimumFractionDigits,a=r.maximumFractionDigits,s=r.currency,u=r.currencyAsSymbol,c=void 0!==u&&u,l={minimumIntegerDigits:o,minimumFractionDigits:i,maximumFractionDigits:a,style:ht[n].toLowerCase()};return n==ht.Currency&&(l.currency="string"==typeof s?s:void 0,l.currencyDisplay=c?"symbol":"code"),new Intl.NumberFormat(e,l).format(t)},t}(),ft=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,dt={yMMMdjms:_(v([y("year",1),g("month",3),y("day",1),y("hour",1),y("minute",1),y("second",1)])),yMdjm:_(v([y("year",1),y("month",1),y("day",1),y("hour",1),y("minute",1)])),yMMMMEEEEd:_(v([y("year",1),g("month",4),g("weekday",4),y("day",1)])),yMMMMd:_(v([y("year",1),g("month",4),y("day",1)])),yMMMd:_(v([y("year",1),g("month",3),y("day",1)])),yMd:_(v([y("year",1),y("month",1),y("day",1)])),jms:_(v([y("hour",1),y("second",1),y("minute",1)])),jm:_(v([y("hour",1),y("minute",1)]))},mt={yyyy:_(y("year",4)),yy:_(y("year",2)),y:_(y("year",1)),MMMM:_(g("month",4)),MMM:_(g("month",3)),MM:_(y("month",2)),M:_(y("month",1)),LLLL:_(g("month",4)),L:_(g("month",1)),dd:_(y("day",2)),d:_(y("day",1)),HH:h(p(_(m(y("hour",2),!1)))),H:p(_(m(y("hour",1),!1))),hh:h(p(_(m(y("hour",2),!0)))),h:p(_(m(y("hour",1),!0))),jj:_(y("hour",2)),j:_(y("hour",1)),mm:h(_(y("minute",2))),m:_(y("minute",1)),ss:h(_(y("second",2))),s:_(y("second",1)),sss:_(y("second",3)),EEEE:_(g("weekday",4)),EEE:_(g("weekday",3)),EE:_(g("weekday",2)),E:_(g("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(_(m(y("hour",1),!0))),Z:d("short"),z:d("long"),ww:_({}),w:_({}),G:_(g("era",1)),GG:_(g("era",2)),GGG:_(g("era",3)),GGGG:_(g("era",4))},yt=new Map,gt=function(){function t(){}return t.format=function(t,e,n){return b(n,t,e)},t}(),vt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_t=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return x(t,this._locale,e,ht.Decimal,n)},t}();_t.decorators=[{type:A.O,args:[{name:"number"}]}],_t.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.w,args:[A.D]}]}]};var bt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return x(t,this._locale,e,ht.Percent,n)},t}();bt.decorators=[{type:A.O,args:[{name:"percent"}]}],bt.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.w,args:[A.D]}]}]};var wt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,o){return void 0===n&&(n="USD"),void 0===r&&(r=!1),x(t,this._locale,e,ht.Currency,o,n,r)},t}();wt.decorators=[{type:A.O,args:[{name:"currency"}]}],wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.w,args:[A.D]}]}]};var xt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ct=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var r;if(S(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),T(e))r=e;else if(E(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var o=e.split("-").map(function(t){return parseInt(t,10)}),i=o[0],a=o[1],s=o[2];r=new Date(i,a-1,s)}else r=new Date(e);if(!T(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(xt)))throw c(t,e);r=P(u)}return gt.format(r,this._locale,t._ALIASES[n]||n)},t}();Ct._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Ct.decorators=[{type:A.O,args:[{name:"date",pure:!0}]}],Ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:A.w,args:[A.D]}]}]};var Et=/#/g,St=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw c(t,n);return n[i(e,Object.keys(n),this._localization)].replace(Et,e.toString())},t}();St.decorators=[{type:A.O,args:[{name:"i18nPlural",pure:!0}]}],St.ctorParameters=function(){return[{type:V}]};var Tt=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw c(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();Tt.decorators=[{type:A.O,args:[{name:"i18nSelect",pure:!0}]}],Tt.ctorParameters=function(){return[]};var Pt=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();Pt.decorators=[{type:A.O,args:[{name:"json",pure:!1}]}],Pt.ctorParameters=function(){return[]};var Ot=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw c(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();Ot.decorators=[{type:A.O,args:[{name:"slice",pure:!1}]}],Ot.ctorParameters=function(){return[]};var It=[st,lt,ut,Pt,Ot,_t,bt,ct,wt,Ct,St,Tt],At=function(){function t(){}return t}();At.decorators=[{type:A.E,args:[{declarations:[nt,It],exports:[nt,It],providers:[{provide:V,useClass:j}]}]}],At.ctorParameters=function(){return[]};var kt=function(){function t(){}return t}();kt.decorators=[{type:A.E,args:[{declarations:[],exports:[]}]}],kt.ctorParameters=function(){return[]};var Dt=new A.y("DocumentToken"),Rt="browser";new A._2("4.4.4")},"qm+V":function(t,e,n){"use strict";var r=n("bKpL"),o=n("CE6k");r.Observable.prototype.share=o.share},quFp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewProcessor=e.ProcessorResult=void 0;var r=n("NE16"),o=n("Iylt"),i=n("1iF1"),a=n("VhRD"),s=n("VBxt"),u=n("JvZA"),c=n("R/Oc"),l=n("y6vc"),h=n("a8sZ"),p=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}();e.ProcessorResult=p;var f=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){(0,o.assert)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),(0,o.assert)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,a,s){var u,c,l=new i.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(e,h.path,h.snap,a,s,l):((0,o.assert)(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(e,h.path,h.snap,a,s,c,l))}else if(n.type===r.OperationType.MERGE){var f=n;f.source.fromUser?u=this.applyUserMerge_(e,f.path,f.children,a,s,l):((0,o.assert)(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.getServerCache().isFiltered(),u=this.applyServerMerge_(e,f.path,f.children,a,s,c,l))}else if(n.type===r.OperationType.ACK_USER_WRITE){var d=n;u=d.revert?this.revertUserWrite_(e,d.path,a,s,l):this.ackUserWrite_(e,d.path,d.affectedTree,a,s,l)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);u=this.listenComplete_(e,n.path,a,l)}var m=l.getChanges();return t.maybeAddValueEvent_(e,u,m),new p(u,m)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(a.Change.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var u=void 0,c=void 0;if(e.isEmpty())if((0,o.assert)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),h=l instanceof s.ChildrenNode?l:s.ChildrenNode.EMPTY_NODE,p=n.calcCompleteEventChildren(h);u=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());u=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var d=e.getFront();if(".priority"==d){(0,o.assert)(1==e.getLength(),"Can't have a priority with additional path components");var m=a.getNode();c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,m,c);u=null!=y?this.filter_.updatePriority(m,y):a.getNode()}else{var g=e.popFront(),v=void 0;if(a.isCompleteForChild(d)){c=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),c);v=null!=_?a.getNode().getImmediateChild(d).updateChild(g,_):a.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());u=null!=v?this.filter_.updateChild(a.getNode(),d,v,g,r,i):a.getNode()}}return t.updateEventSnap(u,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,a){var s,u=t.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var p=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(p),m=d.updateChild(f,n);s=".priority"==p?c.updatePriority(u.getNode(),m):c.updateChild(u.getNode(),p,m,f,h.NO_COMPLETE_CHILD_SOURCE,null)}var y=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new h.WriteTreeCompleteChildSource(r,y,o);return this.generateEventCacheAfterServerEvent_(y,e,r,g,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var a,u,c=t.getEventCache(),l=new h.WriteTreeCompleteChildSource(r,t,o);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),a=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var p=e.getFront();if(".priority"===p)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(u,c.isFullyInitialized(),c.isFiltered());else{var f=e.popFront(),d=c.getNode().getImmediateChild(p),m=void 0;if(f.isEmpty())m=n;else{var y=l.getCompleteChild(p);m=null!=y?".priority"===f.getBack()&&y.getChild(f.parent()).isEmpty()?y:y.updateChild(f,n):s.ChildrenNode.EMPTY_NODE}if(d.equals(m))a=t;else{var g=this.filter_.updateChild(c.getNode(),p,m,f,l,i);a=t.updateEventSnap(g,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,o,i,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,o,i,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,h=t;u=e.isEmpty()?n:c.ImmutableTree.Empty.setTree(e,n);var p=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(p.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),c=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new l.Path(e),c,r,o,i,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!p.hasChild(e)&&!u){var c=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(c,n);h=s.applyServerOverwrite_(h,new l.Path(e),f,r,o,i,a)}}),h},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,o,a,i);if(e.isEmpty()){var h=c.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(t,e){h=h.set(new l.Path(t),e)}),this.applyServerMerge_(t,e,h,r,o,a,i)}return t}var p=c.ImmutableTree.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(p=p.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,p,r,o,a,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,h.NO_COMPLETE_CHILD_SOURCE,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var u=new h.WriteTreeCompleteChildSource(n,t,r),c=t.getEventCache().getNode(),p=void 0;if(e.isEmpty()||".priority"===e.getFront()){var f=void 0;if(t.getServerCache().isFullyInitialized())f=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var d=t.getServerCache().getNode();(0,o.assert)(d instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),f=n.calcCompleteEventChildren(d)}f=f,p=this.filter_.updateFullNode(c,f,i)}else{var m=e.getFront(),y=n.calcCompleteChild(m,t.getServerCache());null==y&&t.getServerCache().isCompleteForChild(m)&&(y=c.getImmediateChild(m)),p=null!=y?this.filter_.updateChild(c,m,y,e.popFront(),u,i):t.getEventCache().getNode().hasChild(m)?this.filter_.updateChild(c,m,s.ChildrenNode.EMPTY_NODE,e.popFront(),u,i):c,p.isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap()),a.isLeafNode()&&(p=this.filter_.updateFullNode(p,a,i)))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),t.updateEventSnap(p,a,this.filter_.filtersNodes())},t}();e.ViewProcessor=f},rDIt:function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("T14+");e._do=r;var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,o){t.call(this,e);var a=new i.Subscriber(n,r,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return o(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},rf3q:function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof o.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new o.Subscriber(t,e,n):new o.Subscriber(a.empty)}var o=n("T14+"),i=n("dkwD"),a=n("LiYJ");e.toSubscriber=r},rlar:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("T14+"),a=n("xFbG"),s=n("Lhvy"),u=n("g0Kb"),c=n("dkwD"),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(i.Subscriber);e.SubjectSubscriber=l;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(o.Observable);e.Subject=h;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},rwiY:function(t,e,n){"use strict";function r(){return l}function o(){return h}function i(){return p}function a(){return f}Object.defineProperty(e,"__esModule",{value:!0}),e.maybeDocumentMap=r,e.documentMap=o,e.documentVersionMap=i,e.documentKeySet=a;var s=n("3wYX"),u=n("2nEU"),c=n("V2Ax"),l=new s.SortedMap(c.DocumentKey.comparator),h=new s.SortedMap(c.DocumentKey.comparator),p=new s.SortedMap(c.DocumentKey.comparator),f=new u.SortedSet(c.DocumentKey.comparator)},sD2c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PacketReceiver=void 0;var r=n("sN0z"),o=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var o=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&(0,r.exceptionGuard)(function(){n.onMessage_(t[e])})}(e);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++}())break}},t}();e.PacketReceiver=o},sN0z:function(t,e,n){"use strict";function r(t){i=t}Object.defineProperty(e,"__esModule",{value:!0}),e.setTimeoutNonBlocking=e.exportPropGetter=e.beingCrawled=e.callUserCallback=e.exceptionGuard=e.tryParseInt=e.INTEGER_REGEXP_=e.errorForServerCode=e.isWindowsStoreApp=e.isChromeExtensionContentScript=e.doubleToIEEE754String=e.bindCallback=e.each=e.splitStringBySize=e.ObjectToUniqueKey=e.requireKey=e.stringCompare=e.nameCompare=e.MAX_NAME=e.MIN_NAME=e.executeWhenDOMReady=e.isInvalidJSONNumber=e.warnAboutUnsupportedMethod=e.warnIfPageIsSecure=e.warn=e.fatal=e.error=e.logWrapper=e.log=e.enableLogging=e.logger=e.sha1=e.base64Decode=e.base64Encode=e.LUIDGenerator=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.setBufferImpl=r;var i,a=n("Iylt"),s=n("dSvz"),u=n("abM3"),c=n("1Fi6"),l=n("3/38"),h=n("xrQA"),p=n("7AyI"),f=n("97M5"),d=(e.LUIDGenerator=function(){var t=1;return function(){return t++}}(),e.base64Encode=function(t){var e=(0,l.stringToByteArray)(t);return u.base64.encodeByteArray(e,!0)},e.base64Decode=function(t){try{return i?new i(t,"base64").toString("utf8"):u.base64.decodeString(t,!0)}catch(t){v("base64Decode failed: ",t)}return null},e.sha1=function(t){var e=(0,l.stringToByteArray)(t),n=new c.Sha1;n.update(e);var r=n.digest();return u.base64.encodeByteArray(r)},function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++)Array.isArray(e[i])||e[i]&&"object"===o(e[i])&&"number"==typeof e[i].length?r+=t.apply(null,e[i]):"object"===o(e[i])?r+=(0,h.stringify)(e[i]):r+=e[i],r+=" ";return r}),m=e.logger=null,y=!0,g=e.enableLogging=function(t,n){(0,a.assert)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?e.logger=m=console.log.bind(console):"object"===o(console.log)&&(e.logger=m=function(t){console.log(t)})),n&&p.SessionStorage.set("logging_enabled",!0)):"function"==typeof t?e.logger=m=t:(e.logger=m=null,p.SessionStorage.remove("logging_enabled"))},v=e.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===y&&(y=!1,null===m&&!0===p.SessionStorage.get("logging_enabled")&&g(!0)),m){var n=d.apply(null,t);m(n)}},_=(e.logWrapper=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];v.apply(void 0,[t].concat(e))}},e.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+d.apply(void 0,t);void 0!==console.error?console.error(n):console.log(n)}},e.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=d.apply(void 0,t);throw new Error("FIREBASE FATAL ERROR: "+n)},e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+d.apply(void 0,t);void 0!==console.warn?console.warn(n):console.log(n)}}),b=(e.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},e.warnAboutUnsupportedMethod=function(t){_(t+" is unsupported and will likely change soon.  Please do not use.")},e.isInvalidJSONNumber=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}),w=(e.executeWhenDOMReady=function(t){if((0,f.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},e.MIN_NAME="[MIN_NAME]"),x=e.MAX_NAME="[MAX_NAME]",C=(e.nameCompare=function(t,e){if(t===e)return 0;if(t===w||e===x)return-1;if(e===w||t===x)return 1;var n=E(t),r=E(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},e.stringCompare=function(t,e){return t===e?0:t<e?-1:1},e.requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,h.stringify)(e))},e.ObjectToUniqueKey=function t(e){if("object"!==(void 0===e?"undefined":o(e))||null===e)return(0,h.stringify)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,h.stringify)(n[a]),i+=":",i+=t(e[n[a]]);return i+="}"},e.splitStringBySize=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r},e.each=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else(0,s.forEach)(t,function(t,n){return e(n,t)})},e.bindCallback=function(t,e){return e?t.bind(e):t},e.doubleToIEEE754String=function(t){(0,a.assert)(!b(t),"Invalid JSON number");var e,n,r,o,i,s,u;for(0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=o+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),s=[],i=52;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),u=s.join("");var c="";for(i=0;i<64;i+=8){var l=parseInt(u.substr(i,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},e.isChromeExtensionContentScript=function(){return!("object"!==("undefined"==typeof window?"undefined":o(window))||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},e.isWindowsStoreApp=function(){return"object"===("undefined"==typeof Windows?"undefined":o(Windows))&&"object"===o(Windows.UI)},e.errorForServerCode=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},e.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$")),E=e.tryParseInt=function(t){if(C.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},S=e.exceptionGuard=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw _("Exception was thrown by user callback.",e),t},Math.floor(0))}};e.callUserCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"function"==typeof t&&S(function(){t.apply(void 0,e)})},e.beingCrawled=function(){return("object"===("undefined"==typeof window?"undefined":o(window))&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},e.exportPropGetter=function(t,e,n){Object.defineProperty(t,e,{get:n})},e.setTimeoutNonBlocking=function(t,e){var n=setTimeout(t,e);return"object"===(void 0===n?"undefined":o(n))&&n.unref&&n.unref(),n}},sUxk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangedFilter=void 0;var r=n("NzIo"),o=n("GIDU"),i=n("Rmqq"),a=n("VBxt"),s=function(){function t(e){this.indexedFilter_=new r.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,s){return this.matches(new i.NamedNode(e,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=a.ChildrenNode.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return e.forEachChild(o.PRIORITY_INDEX,function(t,e){s.matches(new i.NamedNode(t,e))||(r=r.updateImmediateChild(t,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}();e.RangedFilter=s},sdUa:function(t,e,n){"use strict";function r(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new o.FirestoreError(o.Code.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.makeConstructorPrivate=r;var o=n("3vSt")},slqE:function(t,e,n){"use strict";function r(){function t(t){m(g[t],"delete"),delete g[t]}function e(t){return t=t||l,c(g,t)||o("no-app",{name:t}),g[t]}function n(t,e){void 0===e?e=l:"string"==typeof e&&""!==e||o("bad-app-name",{name:e+""}),c(g,e)&&o("duplicate-app",{name:e});var n=new p(t,e,b);return g[e]=n,m(n,"create"),n}function h(){return Object.keys(g).map(function(t){return g[t]})}function f(t,n,r,i,a){v[t]&&o("duplicate-service",{name:t}),v[t]=n,i&&(_[t]=i,h().forEach(function(t){i("create",t)}));var s=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&o("invalid-app-argument",{name:t}),n[t]()};return void 0!==r&&(0,u.deepExtend)(s,r),b[t]=s,p.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,a?e:[])},s}function d(t){(0,u.deepExtend)(b,t)}function m(t,e){Object.keys(v).forEach(function(n){var r=y(t,n);null!==r&&_[r]&&_[r](e,t)})}function y(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var g={},v={},_={},b={__esModule:!0,initializeApp:n,app:e,apps:null,Promise:s.PromiseImpl,SDK_VERSION:"4.5.0",INTERNAL:{registerService:f,createFirebaseNamespace:r,extendNamespace:d,createSubscribe:i.createSubscribe,ErrorFactory:a.ErrorFactory,removeApp:t,factories:v,useAsService:y,Promise:s.PromiseImpl,deepExtend:u.deepExtend}};return(0,u.patchProperty)(b,"default",b),Object.defineProperty(b,"apps",{get:h}),(0,u.patchProperty)(e,"App",p),b}function o(t,e){throw d.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createFirebaseNamespace=r;var i=n("B9pV"),a=n("tKWa"),s=n("U+HO"),u=n("SiZc"),c=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l="[DEFAULT]",h=[],p=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=(0,u.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return s.PromiseImpl.resolve(null)},addAuthTokenListener:function(t){h.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){h=h.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new s.PromiseImpl(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),s.PromiseImpl.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=l),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==l?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;(0,u.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(h.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),h=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&o("app-deleted",{name:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},d=new a.ErrorFactory("app","Firebase",f)},tBQh:function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=i.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("IhB/"),a=n("6jp4"),s=n("T14+"),u=n("3lsR");e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return o(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(s.Subscriber),h=function(){function t(t,e){this.time=t,this.notification=e}return t}()},tKWa:function(t,e,n){"use strict";function r(t){var e=i;return i=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.patchCapture=r;var o="FirebaseError",i=Error.captureStackTrace,a=function(){function t(t,e){this.code=t,this.message=e;if(i)i(this,s.prototype.create);else{var n=Error.apply(this,arguments);this.name=o,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();e.FirebaseError=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name=o;var s=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+o+").";var i=new a(o,n);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(i[s]=e[s]);return i},t}();e.ErrorFactory=s},tzcA:function(t,e,n){"use strict";var r=n("/oeL"),o=function(){function t(){}return t}();o.decorators=[{type:r.p,args:[{selector:"[ngbButtonLabel]",host:{"[class.btn]":"true","[class.active]":"active","[class.disabled]":"disabled","[class.focus]":"focused"}}]}],o.ctorParameters=function(){return[]};var i=n("bm2B"),a={provide:i.c,useExisting:Object(r._8)(function(){return s}),multi:!0},s=function(){function t(t){this._label=t,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"focused",{set:function(t){this._label.focused=t,t||this.onTouched()},enumerable:!0,configurable:!0}),t.prototype.onInputChange=function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t,this._label.disabled=t},t.prototype.writeValue=function(t){this.checked=t===this.valueChecked,this._label.active=this.checked},t}();s.decorators=[{type:r.p,args:[{selector:"[ngbButton][type=checkbox]",host:{autocomplete:"off","[checked]":"checked","[disabled]":"disabled","(change)":"onInputChange($event)","(focus)":"focused = true","(blur)":"focused = false"},providers:[a]}]}],s.ctorParameters=function(){return[{type:o}]},s.propDecorators={disabled:[{type:r.A}],valueChecked:[{type:r.A}],valueUnChecked:[{type:r.A}]};var u={provide:i.c,useExisting:Object(r._8)(function(){return l}),multi:!0},c=0,l=function(){function t(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+c++,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),t.prototype.onRadioChange=function(t){this.writeValue(t.value),this.onChange(t.value)},t.prototype.onRadioValueUpdate=function(){this._updateRadiosValue()},t.prototype.register=function(t){this._radios.add(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._disabled=t,this._updateRadiosDisabled()},t.prototype.unregister=function(t){this._radios.delete(t)},t.prototype.writeValue=function(t){this._value=t,this._updateRadiosValue()},t.prototype._updateRadiosValue=function(){var t=this;this._radios.forEach(function(e){return e.updateValue(t._value)})},t.prototype._updateRadiosDisabled=function(){this._radios.forEach(function(t){return t.updateDisabled()})},t}();l.decorators=[{type:r.p,args:[{selector:"[ngbRadioGroup]",host:{"data-toggle":"buttons",role:"group"},providers:[u]}]}],l.ctorParameters=function(){return[]},l.propDecorators={name:[{type:r.A}]};var h=function(){function t(t,e,n,r){this._group=t,this._label=e,this._renderer=n,this._element=r,this._value=null,this._group.register(this)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t;var e=t?t.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",e),this._group.onRadioValueUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._group.disabled||this._disabled},set:function(t){this._disabled=!1!==t,this.updateDisabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{set:function(t){this._label&&(this._label.focused=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameAttr",{get:function(){return this.name||this._group.name},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._group.unregister(this)},t.prototype.onChange=function(){this._group.onRadioChange(this)},t.prototype.updateValue=function(t){this._checked=this.value===t,this._label.active=this._checked},t.prototype.updateDisabled=function(){this._label.disabled=this.disabled},t}();h.decorators=[{type:r.p,args:[{selector:"[ngbButton][type=radio]",host:{"[checked]":"checked","[disabled]":"disabled","[name]":"nameAttr","(change)":"onChange()","(focus)":"focused = true","(blur)":"focused = false"}}]}],h.ctorParameters=function(){return[{type:l},{type:o},{type:r.R},{type:r.q}]},h.propDecorators={name:[{type:r.A}],value:[{type:r.A,args:["value"]}],disabled:[{type:r.A,args:["disabled"]}]},n.d(e,"a",function(){return f}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return l});var p=[o,s,l,h],f=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}();f.decorators=[{type:r.E,args:[{declarations:p,exports:p}]}],f.ctorParameters=function(){return[]}},uJci:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("/oeL"),o=function(){function t(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}return t}(),i=function(){function t(t,e,n,r,o){this._injector=e,this._viewContainerRef=n,this._renderer=r,this._windowFactory=o.resolveComponentFactory(t)}return t.prototype.open=function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._windowFactory,0,this._injector,this._contentRef.nodes)),this._windowRef},t.prototype.close=function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null))},t.prototype._getContentRef=function(t,e){if(t){if(t instanceof r._0){var n=this._viewContainerRef.createEmbeddedView(t,e);return new o([n.rootNodes],n)}return new o([[this._renderer.createText(""+t)]])}return new o([])},t}()},ueUM:function(t,e,n){"use strict";function r(t){var e=new s(t),n=this.lift(e);return e.caught=n}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("yW9Z"),a=n("ktfo");e._catch=r;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,n))}},e}(i.OuterSubscriber)},v3x7:function(t,e,n){"use strict";function r(){return i.getPlatform().emptyByteString}Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformSupport=void 0,e.emptyByteString=r;var o=n("wg5S"),i=function(){function t(){}return t.setPlatform=function(e){t.platform&&(0,o.fail)("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||(0,o.fail)("Platform not set"),t.platform},t}();e.PlatformSupport=i},vEYP:function(module,exports,__webpack_require__){(function(){function l(t){return"string"==typeof t}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function n(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha,r.apply(null,arguments)}function ia(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bb=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function ja(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function ka(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function ma(t,e){return t<e?-1:t>e?1:0}function na(t,e){e.unshift(t),ja.call(this,ka.apply(null,e)),e.shift()}function oa(t,e){throw new na("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.v=this.v}function ua(t){t:{for(var e=va,n=t.length,r=l(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function wa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function xa(t){return Array.prototype.concat.apply([],arguments)}function ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function y(t){return-1!=x.indexOf(t)}function Ba(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ca(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Ea(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ga(t,e){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(var i=0;i<Fa.length;i++)n=Fa[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}function Ia(t,e){var n=Ja;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Oa(){var t=k.document;return t?t.documentMode:void 0}function Ua(t){return Ia(t,function(){for(var e=0,n=la(String(Pa)).split("."),r=la(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Qa=!0}function ab(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ma){t:{try{Ha(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:bb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function db(t){return!(!t||!t[cb])}function fb(t,e,n,r,o){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.da=o,this.key=++eb,this.X=this.ba=!1}function gb(t){t.X=!0,t.listener=null,t.a=null,t.src=null,t.da=null}function hb(t){this.src=t,this.a={},this.b=0}function ib(t,e,n,r,o,i){var a=e.toString();(e=t.a[a])||(e=t.a[a]=[],t.b++);var s=jb(e,n,o,i);return-1<s?(t=e[s],r||(t.ba=!1)):(t=new fb(n,t.src,a,!!o,i),t.ba=r,e.push(t)),t}function kb(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=sa(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lb(t,e,n,r,o){return t=t.a[e.toString()],e=-1,t&&(e=jb(t,n,r,o)),-1<e?t[e]:null}function jb(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.X&&i.listener==e&&i.capture==!!n&&i.da==r)return o}return-1}function pb(t,e,r,o,i){if(o&&o.once)return qb(t,e,r,o,i);if(n(e)){for(var a=0;a<e.length;a++)pb(t,e[a],r,o,i);return null}return r=rb(r),db(t)?t.$(e,r,p(o)?!!o.capture:!!o,i):sb(t,e,r,!1,o,i)}function sb(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=p(o)?!!o.capture:!!o,s=tb(t);if(s||(t[mb]=s=new hb(t)),n=ib(s,e,n,r,a,i),n.a)return n;if(r=ub(),n.a=r,r.src=t,r.listener=n,t.addEventListener)$a||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(vb(e.toString()),r)}return ob++,n}function ub(){var t=wb,e=Ya?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function qb(t,e,r,o,i){if(n(e)){for(var a=0;a<e.length;a++)qb(t,e[a],r,o,i);return null}return r=rb(r),db(t)?t.Ia(e,r,p(o)?!!o.capture:!!o,i):sb(t,e,r,!0,o,i)}function xb(t,e,r,o,i){if(n(e))for(var a=0;a<e.length;a++)xb(t,e[a],r,o,i);else o=p(o)?!!o.capture:!!o,r=rb(r),db(t)?t.xa(e,r,o,i):t&&(t=tb(t))&&(e=lb(t,e,r,o,i))&&yb(e)}function yb(t){if("number"!=typeof t&&t&&!t.X){var e=t.src;if(db(e))kb(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(vb(n),r),ob--,(n=tb(e))?(kb(n,t),0==n.b&&(n.src=null,e[mb]=null)):gb(t)}}}function vb(t){return t in nb?nb[t]:nb[t]="on"+t}function zb(t,e,n,r){var o=!0;if((t=tb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.X&&(i=Ab(i,r),o=o&&!1!==i)}return o}function Ab(t,e){var n=t.listener,r=t.da||t.src;return t.ba&&yb(t),n.call(r,e)}function wb(t,e){if(t.X)return!0;if(!Ya){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new ab(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var i=zb(r[o],t,!0,e);n=n&&i}for(o=0;o<r.length;o++)e.a=r[o],i=zb(r[o],t,!1,e),n=n&&i}return n}return Ab(t,new ab(e,this))}function tb(t){return t=t[mb],t instanceof hb?t:null}function rb(t){return da(t)?t:(t[Bb]||(t[Bb]=function(e){return t.handleEvent(e)}),t[Bb])}function B(){w.call(this),this.c=new hb(this),this.P=this,this.J=null}function Cb(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.ba&&kb(t.c,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Qa}function Db(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Eb(a){if(a=String(a),Db(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Fb(t){var e=[];return Gb(new Hb,t,e),e.join("")}function Hb(){}function Gb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var o=e;e=o.length,r.push("[");for(var i="",a=0;a<e;a++)r.push(i),Gb(t,o[a],r),i=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){r.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&"function"!=typeof(a=e[o])&&(r.push(i),Ib(o,r),r.push(":"),Gb(t,a,r),i=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ib(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":r.push(String(e));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Ib(t,e){e.push('"',t.replace(Lb,function(t){var e=Jb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Jb[t]=e),e}),'"')}function Mb(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),o="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=o&&t.origin!=o||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,o)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},o=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Ca;n.Ca=null,t()}},function(t){o.next={Ca:t},o=o.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}C.g(t),C.b<C.f&&(C.b++,t.next=C.a,C.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.jb,this),this.g=t()}function Yb(t){t.Z=!1,t.K&&(t.a.clearTimeout(t.K),t.K=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.cb,this),this.a=[]}function ac(t){t.W=Zb(t.b,t.c),t.f.apply(null,t.a)}function D(t){w.call(this),this.b=t,this.a={}}function cc(t){Ba(t.a,function(t,e){this.a.hasOwnProperty(e)&&yb(t)},t),t.a={}}function dc(t,e,n,r,o){this.reset(t,e,n,r,o)}function fc(t){this.f=t,this.b=this.c=this.a=null}function E(t,e){this.name=t,this.value=e}function lc(t){return t.c?t.c:t.a?lc(t.a):(oa("Root logger has no level set."),null)}function F(t,e){t.log(gc,e,void 0)}function G(t,e){t.log(hc,e,void 0)}function oc(t){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var e;if(!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=oc(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function pc(t,e){t&&t.log(ic,e,void 0)}function H(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug")}function rc(t,e,r,o){if(r)try{var i=JSON.parse(r);if(i)for(var a=0;a<i.length;a++)if(n(i[a])){var s=i[a];if(!(2>s.length)){var u=s[1];if(n(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<u.length;l++)u[l]=""}}}var h=Fb(i)}catch(e){I(t,"Exception parsing expected JS array - probably was not JS"),h=r}else h=null;I(t,"XMLHTTP TEXT ("+e+"): "+h+(o?" "+o:""))}function sc(t,e,n){(t=t.a)&&F(t,(n||"Exception")+e)}function I(t,e){pc(t.a,e)}function tc(t){A.call(this,"serverreachability",t)}function uc(){J.dispatchEvent(new tc(J))}function vc(t){A.call(this,"statevent",t)}function K(){J.dispatchEvent(new vc(J))}function wc(t){A.call(this,"timingevent",t)}function xc(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Ac(){}function Bc(t){var e;return(e=t.a)||(e={},Cc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Ec(){}function Fc(t){return(t=Cc(t))?new ActiveXObject(t):new XMLHttpRequest}function Cc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r,o){this.m=t,this.b=e,this.f=r,this.S=o||1,this.M=new D(this),this.P=Gc,t=this.F=new Xb,t.b=Hc,t.K&&t.Z?(Yb(t),t.start()):t.K&&Yb(t),this.h=null,this.c=!1,this.a=this.B=this.g=this.l=this.I=this.H=this.T=this.o=null,this.C=0,this.i=this.j=null,this.v=-1,this.s=!1,this.N=0,this.G=null,this.J=!1}function Ic(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Lc(t,e,n){t.I=1,t.l=Mc(M(e)),t.B=n,t.J=!0,Nc(t,null)}function Oc(t,e,n,r){t.I=1,t.l=Mc(M(e)),t.B=null,t.J=n,Nc(t,r)}function Nc(e,n){e.H=t(),Pc(e),e.g=M(e.l),Qc(e.g,"t",e.S),e.C=0,e.a=e.m.ra(e.m.fa()?n:null),0<e.N&&(e.G=new $b(r(e.Ra,e,e.a),e.N)),e.M.$(e.a,"readystatechange",e.gb),n=e.h?Ea(e.h):{},e.B?(e.j||(e.j="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.ta(e.g,e.j,e.B,n)):(e.j="GET",e.a.ta(e.g,e.j,null,n)),uc();var o=e.B;if(o){n="",o=o.split("&");for(var i=0;i<o.length;i++){var a=o[i].split("=");if(1<a.length){var s=a[0];a=a[1];var u=s.split("_");n=2<=u.length&&"type"==u[1]?n+(s+"=")+a+"&":n+(s+"=redacted&")}}}else n=null;I(e.b,"XMLHTTP REQ ("+e.f+") [attempt "+e.S+"]: "+e.j+"\n"+e.g+"\n"+n)}function Sc(t,e,n){for(var r=!0;!t.s&&t.C<n.length;){var o=Wc(t,n);if(o==Kc){4==e&&(t.i=4,K(),r=!1),rc(t.b,t.f,null,"[Incomplete Response]");break}if(o==Jc){t.i=4,K(),rc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}rc(t.b,t.f,o,null),Tc(t,o)}4==e&&0==n.length&&(t.i=1,K(),r=!1),t.c=t.c&&r,r||(rc(t.b,t.f,n,"[Invalid Chunked Response]"),Uc(t),Vc(t))}function Wc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Kc:(n=Number(e.substring(n,r)),isNaN(n)?Jc:(r+=1)+n>e.length?Kc:(e=e.substr(r,n),t.C=r+n,e))}function Pc(e){e.T=t()+e.P,Xc(e,e.P)}function Xc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=xc(r(t.eb,t),e)}function Rc(t){t.o&&(k.clearTimeout(t.o),t.o=null)}function Vc(t){t.m.Ka()||t.s||t.m.wa(t)}function Uc(t){Rc(t);var e=t.G;e&&"function"==typeof e.Y&&e.Y(),t.G=null,Yb(t.F),cc(t.M),t.a&&(e=t.a,t.a=null,e.abort(),e.Y())}function Tc(t,e){try{t.m.Na(t,e),uc()}catch(e){sc(t.b,e,"Error in httprequest callback")}}function Yc(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Ca(t)}function Zc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ta(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else n=Da(t);r=Yc(t),o=r.length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof O?(n=t.O(),r=t.A()):(n=Da(t),r=Ca(t));for(var o=0;o<n.length;o++)this.set(n[o],r[o])}}function ad(t){t.b={},t.a.length=0,t.c=0}function bd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$c(t),!0)}function $c(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)r=t.a[e],P(o,r)||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Q(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof Q?(this.h=void 0!==e?e:t.h,ed(this,t.f),this.j=t.j,fd(this,t.b),gd(this,t.i),this.a=t.a,hd(this,id(t.c)),this.g=t.g):t&&(n=String(t).match(cd))?(this.h=!!e,ed(this,n[1]||"",!0),this.j=jd(n[2]||""),fd(this,n[3]||"",!0),gd(this,n[4]),this.a=jd(n[5]||"",!0),hd(this,n[6]||"",!0),this.g=jd(n[7]||"")):(this.h=!!e,this.c=new kd(null,0,this.h))}function M(t){return new Q(t)}function ed(t,e,n){t.f=n?jd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fd(t,e,n){t.b=n?jd(e,!0):e}function gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function hd(t,e,n){e instanceof kd?(t.c=e,qd(t.c,t.h)):(n||(e=ld(e,rd)),t.c=new kd(e,0,t.h))}function R(t,e,n){t.c.set(e,n)}function Qc(t,e,r){n(r)||(r=[String(r)]),sd(t.c,e,r)}function Mc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function td(t){return t instanceof Q?M(t):new Q(t,void 0)}function ud(t,e,n,r){var o=new Q(null,void 0);return t&&ed(o,t),e&&fd(o,e),n&&gd(o,n),r&&(o.a=r),o}function jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ld(t,e,n){return l(t)?(t=encodeURI(t).replace(e,vd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vd(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function kd(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function S(t){t.a||(t.a=new O,t.b=0,t.c&&dd(t.c,function(e,n){e=decodeURIComponent(e.replace(/\+/g," ")),S(t),t.c=null,e=wd(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}))}function xd(t,e){S(t),e=wd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,bd(t.a,e))}function yd(t,e){return S(t),e=wd(t,e),P(t.a.b,e)}function sd(t,e,n){xd(t,e),0<n.length&&(t.c=null,t.a.set(wd(t,e),ya(n)),t.b+=n.length)}function id(t){var e=new kd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function wd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function qd(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xd(this,e),sd(this,n,t))},t)),t.f=e}function zd(){this.a=t()}function Bd(){Ad||(Ad=new zd)}function Cd(){Ad||(Ad=new zd)}function Dd(){}function Fd(){A.call(this,"d")}function Gd(){A.call(this,"c")}function Hd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Id(t){I(t.b,"TestConnection: starting stage 2");var e=t.a.J.a;if(null!=e)I(t.b,"Buffered"),K(),e?(K(),Jd(t.a,t,!1)):(K(),Jd(t.a,t,!0));else{t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,e=Kd(t.a,t.g,t.l),K(),Qc(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.N;n&&r&&R(e,n,r),Oc(t.c,e,!1,t.g)}}function Md(){this.a=this.b=null}function Nd(t){if(this.a=new O,t){t=Yc(t);for(var e=t.length,n=0;n<e;n++){var r=t[n];this.a.set(T(r),r)}}}function T(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++ea)):e.charAt(0)+t}function Od(t){this.f=t||Pd,this.c=k.pa&&k.pa.La&&k.pa.La()&&k.pa.La().Cb?this.f:1,this.a=null,1<this.c&&(this.a=new Nd),this.b=null}function Qd(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.c=t.f,t.a=new Nd,t.b&&(Rd(t,t.b),t.b=null))}function Sd(t){return!!t.b||!!t.a&&t.a.u()>=t.c}function Td(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function Rd(t,e){t.a?t.a.a.set(T(e),e):t.b=e}function Ud(t,e){this.a=t,this.b=e}function Vd(t,e){this.a=t,this.b=e}function Wd(){this.a=new Vd}function Xd(t,e,n){var r=n||"";try{Zc(t,function(t,n){var o=t;p(t)&&(o=Fb(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Yd(t,e){var n=new qc;I(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ia(Zd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ia(Zd,n,r,"TestLoadImage: error",!1,e),r.onabort=ia(Zd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ia(Zd,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function Zd(t,e,n,r,o){try{I(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(e){sc(t,e)}}function U(t){B.call(this),this.headers=new O,this.G=t||null,this.f=!1,this.F=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=$d,this.C=this.m=!1}function ee(t){return z&&Ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function va(t){return"content-type"==t.toLowerCase()}function ce(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,fe(t),ge(t)}function fe(t){t.H||(t.H=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function he(t){if(t.f&&void 0!==goog)if(t.F[1]&&4==N(t)&&2==t.V())H(t.b,V(t,"Local request error detected and ignored"));else if(t.o&&4==N(t))Zb(t.Ma,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){H(t.b,V(t,"Request complete")),t.f=!1;try{var e=t.V();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var o;if(o=0===e){var i=String(t.s).match(cd)[1]||null;if(!i&&k.self&&k.self.location){var a=k.self.location.protocol;i=a.substr(0,a.length-1)}o=!ae.test(i?i.toLowerCase():"")}r=o}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.V()+"]",fe(t))}finally{ge(t)}}}function ge(t,e){if(t.a){de(t);var n=t.a,r=t.F[0]?aa:null;t.a=null,t.F=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&F(t,"Problem encountered resetting onreadystatechange: "+e.message)}}}function de(t){t.a&&t.C&&(t.a.ontimeout=null),"number"==typeof t.B&&(k.clearTimeout(t.B),t.B=null)}function N(t){return t.a?t.a.readyState:0}function V(t,e){return e+" ["+t.M+" "+t.s+" "+t.V()+"]"}function ie(t){var e="";return Ba(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ie(n),l(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(n=t.indexOf("#"),0>n&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);t=[t.substr(0,r),o,t.substr(n)],n=t[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ke(t,e,n){this.za=e||0,this.Ba=0,this.h=[],this.l=[],this.a=new qc,this.J=n||new Md,this.ia=this.ya=this.H=this.ja=this.b=this.N=this.j=this.ha=this.f=this.P=this.i=null,this.Va=this.I=0,this.ka=this.C=this.s=this.m=this.o=this.c=null,this.v=this.Aa=this.S=-1,this.ga=this.B=this.G=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.M="",this.g=new Od(t&&t.concurrentRequestLimit),this.la=new Wd,this.F=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ua=t&&t.fastHandshake||!1}function le(e){if(I(e.a,"disconnect()"),me(e),3==e.D){var n=e.I++,r=M(e.H);R(r,"SID",e.M),R(r,"RID",n),R(r,"TYPE","terminate"),ne(e,r),n=new L(e,e.a,0,n,void 0),n.I=2,n.l=Mc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.l.toString(),"")),r||((new Image).src=n.l),n.H=t(),Pc(n)}oe(e)}function me(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),pe(t),t.g.cancel(),t.o&&(k.clearTimeout(t.o),t.o=null)}function qe(t,e){if(1e3==t.h.length){var n="Already have 1000 queued maps upon queueing "+Fb(e),r=t.a.a;r&&F(r,n)}t.h.push(new Ud(t.Va++,e)),3==t.D&&re(t)}function re(t){Sd(t.g)||t.o||(t.o=xc(r(t.Pa,t),0),t.G=0)}function te(t,e){if(e){t.h=t.l.concat(t.h),t.l.length=0;var n=t.I-1}else n=t.I++;e=se(t);var r=M(t.H);R(r,"SID",t.M),R(r,"RID",n),R(r,"AID",t.S),ne(t,r),t.f&&t.i&&je(r,t.f,t.i),n=new L(t,t.a,0,n,t.G+1),null===t.f&&(n.h=t.i),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),Rd(t.g,n),Lc(n,r,e)}function ne(t,e){t.c&&Zc({},function(t,n){R(e,n,t)})}function se(t){var e=Math.min(t.h.length,1e3),n=t.c?r(t.c.Wa,t.c,t):null,o=t.h,i=["count="+e];if(0<e){var a=o[0].a;i.push("ofs="+a)}else a=0;for(var s=0;s<e;s++){var u=o[s].a,c=o[s].b;u-=a;try{Xd(c,i,"req"+u+"_")}catch(t){n&&n(c)}}return n=i.join("&"),t.l=t.l.concat(t.h.splice(0,e)),n}function ue(t){if(!t.b&&!t.m){t.ga=1;var e=t.Oa;Tb||Ub(),Wb||(Tb(),Wb=!0);var n=Pb,r=C.get();r.set(e,t),n.b?n.b.next=r:n.a=r,n.b=r,t.B=0}}function ve(t){return t.b||t.m?((t=t.a.a)&&F(t,"Request already in progress"),!1):!(3<=t.B)&&(I(t.a,"Going to retry GET"),t.ga++,t.m=xc(r(t.Oa,t),we(t,t.B)),t.B++,!0)}function Jd(t,e,n){I(t.a,"Test Connection Finished");var r=e.m;r&&Qd(t.g,r),t.ka=n,t.v=e.f,I(t.a,"connectChannel_()"),t.H=xe(t,t.ja),re(t)}function Ld(t,e){I(t.a,"Test Connection Failed"),t.v=e.f,W(t,2)}function pe(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function we(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.sa()||(I(t.a,"Inactive channel"),n*=2),n*e}function W(t,e){if(I(t.a,"Error code "+e),2==e){var n=null;t.c&&(n=null);var o=r(t.ib,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||ed(n,"https"),Mc(n)),Yd(n.toString(),o)}else K();I(t.a,"HttpChannel: error - "+e),t.D=0,t.c&&t.c.Da(t,e),oe(t),me(t)}function oe(t){if(t.D=0,t.v=-1,t.c)if(0==t.l.length&&0==t.h.length)t.c.na(t);else{I(t.a,"Number of undelivered maps, pending: "+t.l.length+", outgoing: "+t.h.length);var e=ya(t.l),n=ya(t.h);t.l.length=0,t.h.length=0,t.c.na(t,e,n)}}function xe(t,e){return e=ye(t,null,e),I(t.a,"GetForwardChannelUri: "+e),e}function Kd(t,e,n){return e=ye(t,t.fa()?e:null,n),I(t.a,"GetBackChannelUri: "+e),e}function ye(t,e,n){var r=td(n);if(""!=r.b)e&&fd(r,e+"."+r.b),gd(r,r.i);else{var o,i=k.location;o=e?e+"."+i.hostname:i.hostname,r=ud(i.protocol,o,i.port,n)}return t.ha&&Ba(t.ha,function(t,e){R(r,e,t)}),e=t.j,n=t.N,e&&n&&R(r,e,n),R(r,"VER",t.oa),ne(t,r),r}function ze(){}function Ae(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var o;(o=""==e)||(o=e.length-1,o=0<=o&&e.indexOf("/",o)==o),e+=o?r:"/"+r}}return e}function Be(){if(z&&!(10<=Number(Va)))throw Error("Environmental error: no available transport.")}function X(t,e){B.call(this),this.a=new ke(e,20),this.b=t,this.s=e&&e.testUrl?e.testUrl:Ae(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,this.a.P=e&&e.initMessageHeaders||null,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.f=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(t=this.g,e in t&&delete t[e],(t=this.f)&&G(t,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Ce(this)}function De(t){Fd.call(this),this.data=t}function Ee(){Gd.call(this),this.status=1}function Ce(t){this.a=t}function Ge(){this.b=[],this.a=[]}function He(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ie(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Je);this.a=new Ge,this.b=new Nd,this.g=null,this.aa()}function Ke(t){if("function"==typeof t.Y)t.Y();else for(var e in t)t[e]=null}function Le(t,e){this.a=t,this.b=e}function Me(t){if(this.a=[],t)t:{if(t instanceof Me){var e=t.O();if(t=t.A(),0>=this.u()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Le(e[r],t[r]));break t}}else e=Da(t),t=Ca(t);for(r=0;r<e.length;r++)Ne(this,e[r],t[r])}}function Ne(t,e,n){var r=t.a;for(r.push(new Le(e,n)),e=r.length-1,t=t.a,n=t[e];0<e&&(r=e-1>>1,t[r].a>n.a);)t[e]=t[r],e=r;t[e]=n}function Oe(){Me.call(this)}function Y(t,e){this.f=new Oe,Ie.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),ea=0,t=Date.now||function(){return+new Date};u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Y=function(){if(!this.i&&(this.i=!0,this.w(),0!=qa)){var t=this[q]||(this[q]=++ea);delete ra[t]}},w.prototype.w=function(){if(this.v)for(;this.v.length;)this.v.shift()()};var sa=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,l(t))return l(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=l(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)},x;t:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break t}}x=""}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;t:{var Qa="",Sa=function(){var t=x;return Ma?/rv\:([^\);]+)(\)|;)/.exec(t):La?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Na?/WebKit\/(\S+)/.exec(t):Ka?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Sa&&(Qa=Sa?Sa[1]:""),z){var Ta=Oa();if(null!=Ta&&Ta>parseFloat(Qa)){Pa=String(Ta);break t}}Pa=Qa}var Ja={},Va,Wa=k.document;Va=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;var Xa=Object.freeze||function(t){return t},Ya=!z||9<=Number(Va),Za=z&&!Ua("9"),$a=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();A.prototype.b=function(){this.Qa=!1},u(ab,A);var bb=Xa({2:"touch",3:"pen",4:"mouse"});ab.prototype.b=function(){ab.L.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Za)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var cb="closure_listenable_"+(1e6*Math.random()|0),eb=0,mb="closure_lm_"+(1e6*Math.random()|0),nb={},ob=0,Bb="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[cb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){pb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){xb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var o=t;t=new A(r,n),Ga(t,o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var a=t.a=e[i];o=Cb(a,r,!0,t)&&o}if(a=t.a=n,o=Cb(a,r,!0,t)&&o,o=Cb(a,r,!1,t)&&o,e)for(i=0;i<e.length;i++)a=t.a=e[i],o=Cb(a,r,!1,t)&&o;return o},g.w=function(){if(B.L.w.call(this),this.c){var t,e=this.c,n=0;for(t in e.a){for(var r=e.a[t],o=0;o<r.length;o++)++n,gb(r[o]);delete e.a[t],e.b--}}this.J=null},g.$=function(t,e,n,r){return ib(this.c,String(t),e,!1,n,r)},g.Ia=function(t,e,n,r){return ib(this.c,String(t),e,!0,n,r)},g.xa=function(t,e,n,r){var o=this.c;if((t=String(t).toString())in o.a){var i=o.a[t];e=jb(i,e,n,r),-1<e?(gb(i[e]),Array.prototype.splice.call(i,e,1),0==i.length&&(delete o.a[t],o.b--),o=!0):o=!1}else o=!1;return o};var Jb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Lb=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;Mb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var C=new Mb(function(){return new Nb},function(t){t.reset()},100);Nb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new function(){this.b=this.a=null};u(Xb,B),g=Xb.prototype,g.Z=!1,g.K=null,g.jb=function(){if(this.Z){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.Z&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.Z=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.w=function(){Xb.L.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ea=!1,g.W=null,g.Ya=function(t){this.a=arguments,this.W?this.ea=!0:ac(this)},g.w=function(){$b.L.w.call(this),this.W&&(k.clearTimeout(this.W),this.W=null,this.ea=!1,this.a=[])},g.cb=function(){this.W=null,this.ea&&(this.ea=!1,ac(this))},u(D,w);var bc=[];D.prototype.$=function(t,e,r,o){n(e)||(e&&(bc[0]=e.toString()),e=bc);for(var i=0;i<e.length;i++){var a=pb(t,e[i],r||this.handleEvent,o||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},D.prototype.xa=function(t,e,r,o,i){if(n(e))for(var a=0;a<e.length;a++)this.xa(t,e[a],r,o,i);else r=r||this.handleEvent,o=p(o)?!!o.capture:!!o,i=i||this.b||this,r=rb(r),o=!!o,(e=db(t)?lb(t.c,String(e),r,o,i):t&&(t=tb(t))?lb(t,e,r,o,i):null)&&(yb(e),delete this.a[e.key]);return this},D.prototype.w=function(){D.L.w.call(this),cc(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,o,i){"number"==typeof i||ec++,o||t(),this.b=n,delete this.a},E.prototype.toString=function(){return this.name};var gc=new E("SEVERE",1e3),hc=new E("WARNING",900),ic=new E("INFO",800),jc=new E("CONFIG",700),kc=new E("FINE",500);fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(da(e)&&(e=e()),t=new dc(t,String(e),this.f),n&&(t.a=n),n="log:"+t.b,(t=k.console)&&t.timeStamp&&t.timeStamp(n),(t=k.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var mc={},nc=null,J=new B;u(tc,A),u(vc,A),u(wc,A);var yc={NO_ERROR:0,kb:1,rb:2,qb:3,nb:4,pb:5,sb:6,Sa:7,TIMEOUT:8,vb:9},zc={mb:"complete",zb:"success",Ta:"error",Sa:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",tb:"incrementaldata",wb:"progress",ob:"downloadprogress",Ab:"uploadprogress"};Ac.prototype.a=null;var Dc;u(Ec,Ac),Dc=new Ec;var Gc=45e3,Hc=250,Jc={},Kc={};g=L.prototype,g.setTimeout=function(t){this.P=t},g.gb=function(t){t=t.target;var e=this.G;e&&3==N(t)?(I(this.b,"Throttling readystatechange."),e.Ya()):this.Ra(t)},g.Ra=function(t){try{if(t==this.a){var e=N(this.a),n=this.a.Ga();if(!(3>e||3==e&&!Ka&&!this.a.U())){this.s||4!=e||7==n||uc(),Rc(this);var r=this.a.V();this.v=r;var o=this.a.U();if(o||I(this.b,"No response text for uri "+this.g+" status "+r),this.c=200==r,I(this.b,"XMLHTTP RESP ("+this.f+") [ attempt "+this.S+"]: "+this.j+"\n"+this.g+"\n"+e+" "+r),this.c)this.J?(Sc(this,e,o),Ka&&this.c&&3==e&&(this.M.$(this.F,"tick",this.fb),this.F.start())):(rc(this.b,this.f,o,null),Tc(this,o)),4==e&&Uc(this),this.c&&!this.s&&(4==e?this.m.wa(this):(this.c=!1,Pc(this)));else{if(400==r&&0<o.indexOf("Unknown SID")){this.i=3,K();var i=this.b.a;i&&G(i,"XMLHTTP Unknown SID ("+this.f+")")}else{this.i=0,K();var a=this.b.a;a&&G(a,"XMLHTTP Bad status "+r+" ("+this.f+")")}Uc(this),Vc(this)}}}else{var s=this.b.a;s&&G(s,"Called back with an unexpected xmlhttp")}}catch(t){I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.U()?sc(this.b,t,"ResponseText: "+this.a.U()):sc(this.b,t,"No response text")}},g.fb=function(){var t=N(this.a),e=this.a.U();this.C<e.length&&(Rc(this),Sc(this,t,e),this.c&&4!=t&&Pc(this))},g.cancel=function(){this.s=!0,Uc(this)},g.eb=function(){this.o=null;var e=t();if(0<=e-this.T)this.c&&(e=this.b.a)&&F(e,"Received watchdog timeout even though request loaded successfully"),I(this.b,"TIMEOUT: "+this.g),2!=this.I&&(uc(),K()),Uc(this),this.i=2,Vc(this);else{var n=this.b.a;n&&G(n,"WatchDog timer called too early"),Xc(this,this.T-e)}},g=O.prototype,g.u=function(){return this.c},g.A=function(){$c(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return $c(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var cd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ld(e,md,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ld(e,md,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ld(n,"/"==n.charAt(0)?nd:od,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ld(n,pd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?ed(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?fd(e,t.b):n=null!=t.i;var r=t.a;if(n)gd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=e.a.lastIndexOf("/");-1!=o&&(r=e.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?e.a=r:n=""!==t.c.toString(),n?hd(e,id(t.c)):n=!!t.g,n&&(e.g=t.g),e};var md=/[#\/\?@]/g,od=/[\#\?:]/g,nd=/[\#\?]/g,rd=/[\#\?@]/g,pd=/#/g;g=kd.prototype,g.u=function(){return S(this),this.b},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ta(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){S(this);for(var t=this.a.A(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))yd(this,t)&&(e=xa(e,this.a.get(wd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=xa(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,t=wd(this,t),yd(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return t=t?this.A(t):[],0<t.length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.A(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")};var Ad=null;zd.prototype.set=function(t){this.a=t},zd.prototype.reset=function(){this.set(t())},zd.prototype.get=function(){return this.a},u(Cd,Bd);var Ed={OPEN:"a",lb:"b",Ta:"c",ub:"d"};u(Fd,A),u(Gd,A),g=Hd.prototype,g.R=null,g.ra=function(t){return this.a.ra(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ka=function(){return!1},g.Na=function(t,e){if(this.f=t.v,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.F&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.N=t:(t=this.b.a)&&G(t,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return sc(this.b,t),void Ld(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ld(this.a,this)}else 1==this.R&&(this.h?K():"11111"==e?(K(),this.h=!0,(!z||10<=Number(Va))&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0))):(K(),this.h=!1))},g.wa=function(){this.f=this.c.v,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Id(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),K(),Jd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?K():1==this.R&&K(),Ld(this.a,this))},g.fa=function(){return this.a.fa()},g.sa=function(){return this.a.sa()},Nd.prototype.u=function(){return this.a.u()},Nd.prototype.contains=function(t){return t=T(t),P(this.a.b,t)},Nd.prototype.A=function(){return this.a.A()};var Pd=10;Od.prototype.cancel=function(){this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.A(),function(t){t.cancel()}),ad(this.a.a))},Vd.prototype.stringify=function(t){return k.JSON.stringify(t,this.a)},Vd.prototype.parse=function(t){return k.JSON.parse(t,this.b)},u(U,B);var $d="";U.prototype.b=oc("goog.net.XhrIo");var ae=/^https?$/i,be=["POST","PUT"];g=U.prototype,g.ta=function(t,e,n,o){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+t);e=e?e.toUpperCase():"GET",this.s=t,this.g="",this.j=0,this.M=e,this.H=!1,this.f=!0,this.a=Fc(this.G?this.G:Dc),this.F=Bc(this.G?this.G:Dc),this.a.onreadystatechange=r(this.Ma,this);try{H(this.b,V(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return H(this.b,V(this,"Error opening Xhr: "+t.message)),void ce(this,t)}t=n||"";var i=new O(this.headers);o&&Zc(o,function(t,e){i.set(e,t)}),o=ua(i.O()),n=k.FormData&&t instanceof k.FormData,!(0<=sa(be,e))||o||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{de(this),0<this.l&&(this.C=ee(this.a),H(this.b,V(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ja,this)):this.B=Zb(this.Ja,this.l,this)),H(this.b,V(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){H(this.b,V(this,"Send error: "+t.message)),ce(this,t)}},g.Ja=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,H(this.b,V(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(H(this.b,V(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ge(this))},g.w=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),ge(this,!0)),U.L.w.call(this)},g.Ma=function(){this.i||(this.I||this.o||this.h?he(this):this.bb())},g.bb=function(){he(this)},g.V=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return H(this.b,"Can not get status: "+t.message),""}},g.U=function(){try{return this.a?this.a.responseText:""}catch(t){return H(this.b,"Can not get responseText: "+t.message),""}},g.Za=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Eb(t)}return n}},g.Ga=function(){return this.j},g.$a=function(){return l(this.g)?this.g:String(this.g)},g=ke.prototype,g.oa=8,g.D=1,g.Ka=function(){return 0==this.D},g.Pa=function(t){if(this.o=null,I(this.a,"startForwardChannel_"),1==this.D)if(t)(t=this.a.a)&&F(t,"Not supposed to retry the open");else{I(this.a,"open_()"),this.I=Math.floor(1e5*Math.random()),t=this.I++;var e=new L(this,this.a,0,t,void 0),n=this.i;this.P&&(n?(n=Ea(n),Ga(n,this.P)):n=this.P),null===this.f&&(e.h=n);var r=se(this),o=M(this.H);R(o,"RID",t),0<this.za&&R(o,"CVER",this.za),this.F&&this.j&&R(o,"X-HTTP-Session-Id",this.j),ne(this,o),this.f&&n&&je(o,this.f,n),Rd(this.g,e),this.Ua?(R(o,"$req",r),Lc(e,o,null)):Lc(e,o,r),this.D=2}else 3==this.D&&(t?te(this,t):0==this.h.length?I(this.a,"startForwardChannel_ returned: nothing to send"):Sd(this.g)?(t=this.a.a)&&F(t,"startForwardChannel_ returned: connection already in progress"):(te(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Oa=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,0,"rpc",this.ga),null===this.f&&(this.b.h=this.i),this.b.N=0;var t=M(this.ya);R(t,"RID","rpc"),R(t,"SID",this.M),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.S),ne(this,t),R(t,"TYPE","xmlhttp"),this.f&&this.i&&je(t,this.f,this.i),Oc(this.b,t,!0,this.ia),I(this.a,"New Request created")},g.Na=function(t,e){if(0!=this.D&&(this.b==t||Td(this.g,t)))if(this.v=t.v,Td(this.g,t)&&3==this.D){try{var o=this.la.a.parse(e)}catch(t){o=null}if(n(o)&&3==o.length)if(e=o,0==e[0])t:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.H+3e3<t.H))break t;pe(this),this.b.cancel(),this.b=null}else(t=this.a.a)&&G(t,"We do not have a BackChannel established");ve(this),K()}else this.Aa=e[1],0<(t=this.Aa-this.S)&&(e=e[2],I(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=xc(r(this.ab,this),6e3)));else I(this.a,"Bad POST response data returned"),W(this,11)}else if(this.b==t&&pe(this),!/^[\s\xa0]*$/.test(e))for(e=o=this.la.a.parse(e),o=0;o<e.length;o++){var i=e[o];if(this.S=i[0],i=i[1],2==this.D)if("c"==i[0]){this.M=i[1],this.ia=i[2];var a=i[3];null!=a&&(this.oa=a,I(this.a,"VER="+this.oa)),i=i[4],null!=i&&(this.Ba=i,I(this.a,"SVER="+this.Ba)),this.F&&(i=t.a)&&((a=i.a?i.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&Qd(this.g,a),this.j&&((i=i.a?i.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.N=i,R(this.H,this.j,i)):(i=this.a.a)&&G(i,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.D=3,this.c&&this.c.Fa(this),this.ya=Kd(this,this.ia,this.ja),ue(this)}else"stop"!=i[0]&&"close"!=i[0]||W(this,7);else 3==this.D&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?W(this,7):le(this):"noop"!=i[0]&&this.c&&this.c.Ea(this,i),this.B=0)}},g.ab=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,ve(this),K())},g.wa=function(e){if(I(this.a,"Request complete"),this.b==e){pe(this),this.b=null;var n=2}else{if(!Td(this.g,e))return;n=this.g,n.b&&n.b==e?n.b=null:n.a&&n.a.contains(e)&&bd(n.a.a,T(e)),n=1}if(this.v=e.v,0!=this.D)if(e.c)1==n?(t(),J.dispatchEvent(new wc(J)),re(this),this.l.length=0):ue(this);else{var o=e.i;if(3==o||0==o&&0<this.v)I(this.a,"Not retrying due to error type");else{I(this.a,"Maybe retrying, last error: "+Ic(o,this.v));var i;if((i=1==n)&&(Sd(this.g)||this.o?((e=this.a.a)&&F(e,"Request already in progress"),i=!1):1==this.D||2==this.D||2<=this.G?i=!1:(I(this.a,"Going to retry POST"),this.o=xc(r(this.Pa,this,e),we(this,this.G)),this.G++,i=!0)),i||2==n&&ve(this))return;I(this.a,"Exceeded max number of retries")}switch(I(this.a,"Error: HTTP request failed"),o){case 1:W(this,5);break;case 4:W(this,10);break;case 3:W(this,6);break;default:W(this,2)}}},g.ib=function(t){t?I(this.a,"Successfully pinged google.com"):I(this.a,"Failed to ping google.com"),K()},g.ra=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return t=new U,t.m=this.T,t},g.sa=function(){return!!this.c&&!0},g.fa=function(){return this.T},new Cd,g=ze.prototype,g.Fa=function(){},g.Ea=function(){},g.Da=function(){},g.na=function(){},g.Wa=function(){},Be.prototype.a=function(t,e){return new X(t,e)},u(X,B),X.prototype.j=function(){this.a.c=this.h,this.o&&(this.a.T=!0);var t=this.a,e=this.s,n=this.b,r=this.g||void 0;I(t.a,"connect()"),K(),t.ja=n,t.ha=r||{},t.F&&(I(t.a,"connect() bypassed channel-test."),t.J.b=[],t.J.a=!1),I(t.a,"connectTest_()"),t.C=new Hd(t,t.a),null===t.f&&(t.C.i=t.i),n=e,t.f&&t.i&&(n=je(e,t.f,t.i)),t=t.C,t.l=n,e=xe(t.a,t.l),K(),(n=t.a.J.b)?(t.g=n[0],t.R=1,Id(t)):(Qc(e,"MODE","init"),!t.a.F&&t.a.j&&Qc(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,Oc(t.c,e,!1,null),t.R=0)},X.prototype.close=function(){le(this.a)},X.prototype.l=function(t){if(this.m){var e={};e.__data__=Fb(t),qe(this.a,e)}else qe(this.a,t)},X.prototype.w=function(){this.a.c=null,delete this.h,le(this.a),delete this.a,X.L.w.call(this)},u(De,Fd),u(Ee,Gd),u(Ce,ze),Ce.prototype.Fa=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Ce.prototype.Ea=function(t,e){this.a.dispatchEvent(new De(e))},Ce.prototype.Da=function(t,e){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Ee)},Ce.prototype.na=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Fe=ia(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Be);Ge.prototype.u=function(){return this.b.length+this.a.length},Ge.prototype.contains=function(t){return 0<=sa(this.b,t)||0<=sa(this.a,t)},Ge.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ie,w);var Je="[goog.structs.Pool] Min can not be greater than max";g=Ie.prototype,g.ca=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=He(this.a),!this.va(n));)this.aa();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.a.set(T(n),n)),n}},g.hb=function(t){return!!bd(this.b.a,T(t))&&(this.ma(t),!0)},g.ma=function(t){bd(this.b.a,T(t)),this.va(t)&&this.u()<this.c?this.a.a.push(t):Ke(t)},g.aa=function(){for(var t=this.a;this.u()<this.h;){var e=this.qa();t.a.push(e)}for(;this.u()>this.c&&0<this.a.u();)Ke(He(t))},g.qa=function(){return{}},g.va=function(t){return"function"!=typeof t.Xa||t.Xa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.u=function(){return this.a.u()+this.b.u()},g.w=function(){if(Ie.L.w.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Ke(He(t));delete this.a},Me.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Me.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Me.prototype.u=function(){return this.a.length},u(Oe,Me),u(Y,Ie),g=Y.prototype,g.ca=function(t,e){if(!t)return Y.L.ca.call(this);Ne(this.f,void 0!==e?e:100,t),this.ua()},g.ua=function(){for(var t=this.f;0<t.u();){var e=this.ca();if(!e)break;var n=t,r=n.a,o=r.length,i=r[0];if(0>=o)i=void 0;else{if(1==o)wa(r);else{r[0]=r.pop(),r=0,n=n.a,o=n.length;for(var a=n[r];r<o>>1;){var s=2*r+1,u=2*r+2;if(s=u<o&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}i=i.b}i.apply(this,[e])}},g.ma=function(t){Y.L.ma.call(this,t),this.ua()},g.aa=function(){Y.L.aa.call(this),this.ua()},g.w=function(){Y.L.w.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Z,Y),Z.prototype.qa=function(){var t=new U,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Z.prototype.va=function(t){return!t.i&&!t.a},Be.prototype.createWebChannel=Be.prototype.a,X.prototype.send=X.prototype.l,X.prototype.open=X.prototype.j,X.prototype.close=X.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,zc.COMPLETE="complete",Dd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",B.prototype.listen=B.prototype.$,Z.prototype.getObject=Z.prototype.ca,Z.prototype.releaseObject=Z.prototype.hb,U.prototype.listenOnce=U.prototype.Ia,U.prototype.getLastError=U.prototype.$a,U.prototype.getLastErrorCode=U.prototype.Ga,U.prototype.getStatus=U.prototype.V,U.prototype.getStatusText=U.prototype.Ha,U.prototype.getResponseJson=U.prototype.Za,U.prototype.getResponseText=U.prototype.U,U.prototype.getResponseText=U.prototype.U,U.prototype.send=U.prototype.ta,module.exports={createWebChannelTransport:Fe,ErrorCode:yc,EventType:zc,WebChannel:Dd,XhrIoPool:Z}}).call("undefined"!=typeof window?window:this)},vaJ0:function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=null),null===t)return i.ChildrenNode.EMPTY_NODE;if("object"===(void 0===t?"undefined":o(t))&&".priority"in t&&(e=t[".priority"]),(0,c.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"===(void 0===e?"undefined":o(e))&&".sv"in e,"Invalid priority type found: "+(void 0===e?"undefined":o(e))),"object"===(void 0===t?"undefined":o(t))&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==(void 0===t?"undefined":o(t))||".sv"in t){var n=t;return new a.LeafNode(n,r(e))}if(t instanceof Array||!d){var m=i.ChildrenNode.EMPTY_NODE,y=t;return(0,u.forEach)(y,function(t,e){if((0,u.contains)(y,t)&&"."!==t.substring(0,1)){var n=r(e);!n.isLeafNode()&&n.isEmpty()||(m=m.updateImmediateChild(t,n))}}),m.updatePriority(r(e))}var g=[],v=!1,_=t;if((0,u.forEach)(_,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=r(_[t]);n.isEmpty()||(v=v||!n.getPriority().isEmpty(),g.push(new s.NamedNode(t,n)))}}),0==g.length)return i.ChildrenNode.EMPTY_NODE;var b=(0,l.buildChildSet)(g,h.NAME_ONLY_COMPARATOR,function(t){return t.name},h.NAME_COMPARATOR);if(v){var w=(0,l.buildChildSet)(g,f.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(b,r(e),new p.IndexMap({".priority":w},{".priority":f.PRIORITY_INDEX}))}return new i.ChildrenNode(b,r(e),p.IndexMap.Default)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.nodeFromJSON=r;var i=n("VBxt"),a=n("hu/W"),s=n("Rmqq"),u=n("dSvz"),c=n("Iylt"),l=n("BZwZ"),h=n("oVda"),p=n("PShv"),f=n("GIDU"),d=!0;(0,f.setNodeFromJSON)(r)},veZy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionResult=void 0;var r=n("Yt+N"),o=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,r.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();e.TransactionResult=o},vt96:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportManager=void 0;var r=n("eNRW"),o=n("SqTE"),i=n("sN0z"),a=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,o.WebSocketConnection]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=o.WebSocketConnection&&o.WebSocketConnection.isAvailable(),r=n&&!o.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||(0,i.warn)("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[o.WebSocketConnection];else{var a=this.transports_=[];(0,i.each)(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&a.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();e.TransportManager=a},"w/uE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PROTOCOL_VERSION="5",e.VERSION_PARAM="v",e.TRANSPORT_SESSION_PARAM="s",e.REFERER_PARAM="r",e.FORGE_REF="f",e.FORGE_DOMAIN="firebaseio.com",e.LAST_SESSION_PARAM="ls",e.WEBSOCKET="websocket",e.LONG_POLLING="long_polling"},w0dp:function(t,e,n){"use strict";function r(t,e){return!o(t,e)}function o(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}function i(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' "+e+" should be greater than 'minDate' "+t)}function a(t,e,n){return t&&e&&t.before(e)?h.a.from(e):t&&n&&t.after(n)?h.a.from(n):t}function s(t,e){var n=!1,r=t.find(function(t){return t.year===e.year&&t.number===e.month});return r&&r.weeks.find(function(t){var r=t.days.find(function(t){return e.equals(t.date)});return r&&!r.context.disabled&&(n=!0),!!r}),n}function u(t,e,n,r,o,i,a,s,u){for(var l=[],h=0;h<i;h++)!function(i){var h=t.getNext(n,"m",i),p=e.findIndex(function(t){return t.firstDate.equals(h)});u||-1===p?l.push(c(t,h,r,o,a,s)):l.push(e[p])}(h);return l}function c(t,e,n,r,o,i){var a={firstDate:null,lastDate:null,number:e.month,year:e.year,weeks:[],weekdays:[]};e=l(t,e,o);for(var s=0;s<t.getWeeksPerMonth();s++){for(var u=[],c=0;c<t.getDaysPerWeek();c++){0===s&&a.weekdays.push(t.getWeekday(e));var p=new h.a(e.year,e.month,e.day),f=t.getNext(p),d=!!(n&&p.before(n)||r&&p.after(r));!d&&i&&(d=i(p,{month:a.number,year:a.year})),null===a.firstDate&&p.month===a.number&&(a.firstDate=p),p.month===a.number&&f.month!==a.number&&(a.lastDate=p),u.push({date:p,context:{date:{year:p.year,month:p.month,day:p.day},currentMonth:a.number,disabled:d,focused:!1,selected:!1}}),e=f}a.weeks.push({number:t.getWeekNumber(u.map(function(t){return h.a.from(t.date)}),o),days:u})}return a}function l(t,e,n){for(var r=e.month,o=new h.a(e.year,e.month,e.day),i=t.getPrev(o);!function(){return o.month!==r&&n===t.getWeekday(o)}()&&!function(){return o.month!==i.month&&n===t.getWeekday(o)}();)o=new h.a(i.year,i.month,i.day),i=t.getPrev(i);return o}e.d=r,e.c=i,e.b=a,e.e=s,e.a=u;var h=n("GaSD")},w10r:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;var r=n("pZ/q"),o=n("rwiY"),i=n("d9fJ"),a=n("Jwze"),s=n("3vSt"),u=n("U+HO"),c=function(){function t(t){this.datastore=t,this.readVersions=(0,o.documentVersionMap)(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof i.NoDocument&&(e=r.SnapshotVersion.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.equals(n))throw new s.FirestoreError(s.Code.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?u.PromiseImpl.reject("Transaction has already completed."):this.mutations.length>0?u.PromiseImpl.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new s.FirestoreError(s.Code.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?a.Precondition.updateTime(e):a.Precondition.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.equals(r.SnapshotVersion.forDeletedDoc()))throw new s.FirestoreError(s.Code.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?a.Precondition.updateTime(e):a.Precondition.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new a.DeleteMutation(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,r.SnapshotVersion.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):u.PromiseImpl.reject(Error("Every document read in a transaction must also be written."))},t}();e.Transaction=c},w4Tc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentWriteStream=e.PersistentListenStream=e.PersistentStream=void 0;var r,o=n("wg5S"),i=n("3vSt"),a=n("0C8m"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),u=n("U+HO"),c=n("HL28"),l=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(r||(r={}));var h=1e3,p=6e4,f=1.5,d=function(){function t(t,e,n,o,i){this.queue=t,this.connection=e,this.credentialsProvider=n,this.stream=null,this.listener=null,this.backoff=new c.ExponentialBackoff(i||h,f,p),this.state=r.Initial,this.listener=o}return t.prototype.isStarted=function(){return this.state===r.Backoff||this.state===r.Auth||this.state===r.Open},t.prototype.isOpen=function(){return this.state===r.Open},t.prototype.start=function(){if(this.state===r.Error)return void this.performBackoff();(0,o.assert)(this.state===r.Initial,"Already started"),this.auth()},t.prototype.stop=function(){this.state=r.Stopped,this.listener=null,null!==this.stream&&(this.stream.close(),this.stream=null)},t.prototype.inhibitBackoff=function(){(0,o.assert)(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=r.Initial,this.backoff.reset()},t.prototype.auth=function(){var t=this;(0,o.assert)(this.state===r.Initial,"Must be in initial state to auth"),this.state=r.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.schedule(function(){if(t.state!==r.Stopped){var n=new i.FirestoreError(i.Code.UNKNOWN,"Fetching auth token failed: "+e.message);return t.handleStreamClose(n)}return u.PromiseImpl.resolve()})})},t.prototype.startStream=function(t){var e=this;if(this.state!==r.Stopped){(0,o.assert)(this.state===r.Auth,"Trying to start stream in a non-auth state");var n=function(t){e.queue.schedule(function(){return e.state!==r.Stopped?t():u.PromiseImpl.resolve()})};null!==this.listener&&(this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return(0,o.assert)(e.state===r.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=r.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})}))}},t.prototype.performBackoff=function(){var t=this;(0,o.assert)(this.state===r.Error,"Should only perform backoff in an error case"),this.state=r.Backoff,this.backoff.backoffAndWait().then(function(){t.queue.schedule(function(){return t.state===r.Stopped?u.PromiseImpl.resolve():(t.state=r.Initial,t.start(),(0,o.assert)(t.isStarted(),"PersistentStream should have started"),u.PromiseImpl.resolve())})})},t.prototype.handleStreamClose=function(t){return(0,o.assert)(this.isStarted(),"Can't handle server close on non-started stream"),s.debug("PersistentStream","close with error: "+t),this.stream=null,this.state=r.Error,t&&t.code===i.Code.RESOURCE_EXHAUSTED&&(s.debug("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),this.listener.onClose(t)},t}();e.PersistentStream=d;var m=function(t){function e(e,n,r,o,i,a,s){var u=t.call(this,n,r,o,a,s)||this;return u.databaseInfo=e,u.serializer=i,u}return l(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.stream.send(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.stream.send(e)},e}(d);e.PersistentListenStream=m;var y=function(t){function e(e,n,r,o,i,a,s){var u=t.call(this,n,r,o,a,s)||this;return u.databaseInfo=e,u.serializer=i,u.handshakeComplete_=!1,u}return l(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if((0,o.assert)(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return(0,o.assert)(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){(0,o.assert)(this.isOpen(),"Writing handshake requires an opened stream"),(0,o.assert)(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.stream.send(t)},e.prototype.writeMutations=function(t){var e=this;(0,o.assert)(this.isOpen(),"Writing mutations requires an opened stream"),(0,o.assert)(this.handshakeComplete_,"Handshake must be complete before writing mutations"),(0,o.assert)(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.stream.send(n)},e}(d);e.PersistentWriteStream=y},wCVK:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("aOKN"),a=n("fcnB"),s=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new a.EmptyObservable:1===r?new i.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,o=t.subscriber;if(!o.closed){if(n>=r)return void o.complete();o.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,o=n.scheduler,i=r.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:t});for(var a=0;a<i&&!t.closed;a++)t.next(r[a]);t.complete()},e}(o.Observable);e.ArrayLikeObservable=s},wIMW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forceRestClient=e.listens=e.queryIdentifier=e.ConnectionTarget=e.hijackHash=e.RealTimeConnection=e.DataConnection=void 0;var r=n("Hdz5"),o=n("U19Y"),i=n("6lYl"),a=n("BWiv");e.DataConnection=o.PersistentConnection;o.PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},o.PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};e.RealTimeConnection=a.Connection,e.hijackHash=function(t){var e=o.PersistentConnection.prototype.put;return o.PersistentConnection.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){o.PersistentConnection.prototype.put=e}},e.ConnectionTarget=r.RepoInfo,e.queryIdentifier=function(t){return t.queryIdentifier()},e.listens=function(t){return t.repo.persistentConnection_.listens_},e.forceRestClient=function(t){i.RepoManager.getInstance().forceRestClient(t)}},wM1e:function(t,e,n){"use strict";function r(t){return parseInt(""+t,10)}function o(t){return void 0!==t&&null!==t?""+t:""}function i(t,e,n){return void 0===n&&(n=0),Math.max(Math.min(t,e),n)}function a(t){return"string"==typeof t}function s(t){return!isNaN(r(t))}function u(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function c(t){return void 0!==t&&null!==t}function l(t){return s(t)?("0"+t).slice(-2):""}function h(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.h=r,e.i=o,e.a=i,e.e=a,e.d=s,e.c=u,e.b=c,e.f=l,e.g=h},wZOE:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("bKpL"),i=n("aOKN"),a=n("fcnB"),s=n("MicL"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var o=t.length;return o>1?new e(t,r):1===o?new i.ScalarObservable(t[0],r):new a.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,o=t.subscriber;if(n>=r)return void o.complete();o.next(e[n]),o.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var i=0;i<r&&!t.closed;i++)t.next(n[i]);t.complete()},e}(o.Observable);e.ArrayObservable=u},wbX9:function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function o(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function i(t){return!!t&&"[object NodeList]"===d.call(t)}function a(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n("bKpL"),l=n("RdI5"),h=n("fclq"),p=n("XRvs"),f=n("xFbG"),d=Object.prototype.toString,m=function(t){function e(e,n,r,o){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=o}return u(e,t),e.create=function(t,n,r,o){return h.isFunction(r)&&(o=r,r=void 0),new e(t,n,o,r)},e.setupSubscription=function(t,n,u,c,l){var h;if(i(t)||a(t))for(var p=0,d=t.length;p<d;p++)e.setupSubscription(t[p],n,u,c,l);else if(s(t)){var m=t;t.addEventListener(n,u,l),h=function(){return m.removeEventListener(n,u)}}else if(o(t)){var y=t;t.on(n,u),h=function(){return y.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var g=t;t.addListener(n,u),h=function(){return g.removeListener(n,u)}}c.add(new f.Subscription(h))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,o=this.options,i=this.selector,a=i?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(i).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,a,t,o)},e}(c.Observable);e.FromEventObservable=m},wg5S:function(t,e,n){"use strict";function r(t){var e="FIRESTORE ("+i.SDK_VERSION+") INTERNAL ASSERTION FAILED: "+t;throw(0,a.error)(e),new Error(e)}function o(t,e){t||r(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.fail=r,e.assert=o;var i=n("UWaG"),a=n("0C8m")},wnyu:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("/oeL"),o=n("qbdv"),i=n("PVMJ"),a=n("nVXb"),s=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.a]}},t}();s.decorators=[{type:r.E,args:[{declarations:[i.a],exports:[i.a],imports:[o.c],entryComponents:[i.a]}]}],s.ctorParameters=function(){return[]}},xBEz:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("/oeL"),o=n("1Dsc"),i=n("AVYa"),a=n("KRwK"),s=n("dN2u"),u=(n("C8VA"),n("zGKh"),function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[s.a,a.a]}},t}());u.decorators=[{type:r.E,args:[{declarations:[o.a,i.a],entryComponents:[o.a,i.a],providers:[s.a]}]}],u.ctorParameters=function(){return[]}},xF0D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseInternals=e.Database=void 0;var r=n("sN0z"),o=n("OJVB"),i=n("y6vc"),a=n("U+HO"),s=n("fwA0"),u=n("DuAm"),c=n("6lYl"),l=n("Yt+N"),h=n("ezsS"),p=function(){function t(t){this.repo_=t,t instanceof u.Repo||(0,r.fatal)("Don't call new Database() directly - please use firebase.database()."),this.root_=new s.Reference(t,i.Path.Empty),this.INTERNAL=new f(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),(0,l.validateArgCount)("database.ref",0,1,arguments.length),void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),(0,l.validateArgCount)(e,1,1,arguments.length);var n=(0,o.parseRepoInfo)(t);(0,h.validateUrl)(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&(0,r.fatal)(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&(0,r.fatal)("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){(0,l.validateArgCount)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){(0,l.validateArgCount)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}();e.Database=p;var f=function(){function t(t){this.database=t}return t.prototype.delete=function(){return this.database.checkDeleted_("delete"),c.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,a.PromiseImpl.resolve()},t}();e.DatabaseInternals=f},xFbG:function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var o=n("NSJx"),i=n("H6Sg"),a=n("fclq"),s=n("RdI5"),u=n("XRvs"),c=n("Emqh"),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,h=n._parents,p=n._unsubscribe,f=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,m=h?h.length:0;l;)l.remove(this),l=++d<m&&h[d]||null;if(a.isFunction(p)){var y=s.tryCatch(p).call(this);y===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(o.isArray(f))for(d=-1,m=f.length;++d<m;){var g=f[d];if(i.isObject(g)){var y=s.tryCatch(g.unsubscribe).call(g);if(y===u.errorObject){e=!0,t=t||[];var v=u.errorObject.e;v instanceof c.UnsubscriptionError?t=t.concat(r(v.errors)):t.push(v)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},xKl2:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("rlar"),i=n("bKpL"),a=n("T14+"),s=n("xFbG"),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.Subscription,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new h(this))},e}(i.Observable);e.ConnectableObservable=u;var c=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.SubjectSubscriber),h=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(a.Subscriber)},xQ7q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();e.AsyncObserver=r},xrQA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},y6vc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationPath=e.Path=void 0;var r=n("sN0z"),o=n("3/38"),i=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var o=e.split("/"),r=0;r<o.length;r++)o[r].length>0&&n.push(o[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),o=e.slice(),i=0;i<n.length&&i<o.length;i++){var a=(0,r.nameCompare)(n[i],o[i]);if(0!==a)return a}return n.length===o.length?0:n.length<o.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}();e.Path=i;var a=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=(0,o.stringLength)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=(0,o.stringLength)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}();e.ValidationPath=a},yOXc:function(t,e,n){"use strict";function r(t){if(!t)return new c;switch(t.type){case"google-auth":return new h(t.client);case"gapi":return new f(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new a.FirestoreError(a.Code.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}Object.defineProperty(e,"__esModule",{value:!0}),e.FirstPartyCredentialsProvider=e.FirstPartyToken=e.GoogleCredentialsProvider=e.FirebaseCredentialsProvider=e.EmptyCredentialsProvider=e.OAuthToken=void 0,e.makeCredentialsProvider=r;var o=n("AobV"),i=n("wg5S"),a=n("3vSt"),s=n("U+HO"),u=function(){function t(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}return t}();e.OAuthToken=u;var c=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return s.PromiseImpl.resolve(null)},t.prototype.setUserChangeListener=function(t){(0,i.assert)(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(o.User.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){(0,i.assert)(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}();e.EmptyCredentialsProvider=c;var l=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.equals(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;(0,i.assert)(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new a.FirestoreError(a.Code.ABORTED,"getToken aborted due to uid change.");return t?((0,i.assert)("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new u(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){(0,i.assert)(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){(0,i.assert)(null!=this.tokenListener,"removeUserChangeListener() called twice"),(0,i.assert)(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&(0,i.fail)("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return(0,i.assert)(null===t||"string"==typeof t,"Received invalid UID: "+t),new o.User(t)},t}();e.FirebaseCredentialsProvider=l;var h=function(){function t(t){this.authClient=t}return t.prototype.getToken=function(t){var e=this;return new s.PromiseImpl(function(t,n){e.authClient.getAccessToken(function(e,r){e?n(e):t(new u(r,o.User.GOOGLE_CREDENTIALS))})})},t.prototype.setUserChangeListener=function(t){t(o.User.GOOGLE_CREDENTIALS)},t.prototype.removeUserChangeListener=function(){},t}();e.GoogleCredentialsProvider=h;var p=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=o.User.FIRST_PARTY,(0,i.assert)(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}();e.FirstPartyToken=p;var f=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,(0,i.assert)(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return s.PromiseImpl.resolve(new p(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(o.User.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();e.FirstPartyCredentialsProvider=f},yR50:function(t,e,n){"use strict";var r=n("Fpv1"),o=n("HHMl");e.queue=new o.QueueScheduler(r.QueueAction)},yW9Z:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.Subscriber);e.OuterSubscriber=i},ygS9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timestamp=void 0;var r=n("wg5S"),o=n("D1Ck"),i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),a=function(){function t(t,e){this.seconds=t,this.nanos=e,(0,r.assert)(e>=0,"timestamp nanoseconds out of range: "+e),(0,r.assert)(e<1e9,"timestamp nanoseconds out of range"+e),(0,r.assert)(t>=-62135596800,"timestamp seconds out of range: "+t),(0,r.assert)(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,o=i.exec(e);if((0,r.assert)(!!o,"invalid timestamp: "+e),o[1]){var a=o[1];a=(a+"000000000").substr(0,9),n=parseInt(a,10)}var s=new Date(e);return new t(Math.floor(s.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?(0,o.primitiveComparator)(this.nanos,t.nanos):(0,o.primitiveComparator)(this.seconds,t.seconds)},t.prototype.equals=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}();e.Timestamp=a},zGKh:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(r||(r={}))},zGUx:function(t,e,n){"use strict";var r=n("wbX9");e.fromEvent=r.FromEventObservable.create},zXLZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserPlatform=void 0;var r=n("Ifkj"),o=n("U+HO"),i=n("7bNK"),a=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return o.PromiseImpl.resolve(new i.WebChannelConnection(t))},t.prototype.newSerializer=function(t){return new r.JsonProtoSerializer(t,{useProto3Json:!0})},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();e.BrowserPlatform=a},zijX:function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==t&&t,i=n||o||r;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n("fRUx"))},zkfV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.count=t}return t.prototype.equals=function(t){return t&&t.count===this.count},t}();e.ExistenceFilter=r}});